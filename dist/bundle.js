!function(n){var t={};function e(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return n[r].call(o.exports,o,o.exports,e),o.l=!0,o.exports}e.m=n,e.c=t,e.d=function(n,t,r){e.o(n,t)||Object.defineProperty(n,t,{enumerable:!0,get:r})},e.r=function(n){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(n,"__esModule",{value:!0})},e.t=function(n,t){if(1&t&&(n=e(n)),8&t)return n;if(4&t&&"object"==typeof n&&n&&n.__esModule)return n;var r=Object.create(null);if(e.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:n}),2&t&&"string"!=typeof n)for(var o in n)e.d(r,o,function(t){return n[t]}.bind(null,o));return r},e.n=function(n){var t=n&&n.__esModule?function(){return n.default}:function(){return n};return e.d(t,"a",t),t},e.o=function(n,t){return Object.prototype.hasOwnProperty.call(n,t)},e.p="",e(e.s=0)}([function(n,t,e){"use strict";e.r(t);var r=function(){return function(n,t){this.toNode=n,this.cost=t}}(),o=function(){return function(n,t,e){this.name=n,this.value=t,this.links=e}}(),i=function(){return function(n,t){this.nodes=n,this.cost=t}}(),s=function(){function n(n){this.shortestLinks=[],this.allNodes=[];for(var t=n.slice(),e=(t=t.sort(function(n,t){return n.cost-t.cost}).reverse()).flatMap(function(n){return n.nodes}),r=new Map,o=0,i=e;o<i.length;o++){var s=i[o];r.has(s.name)||(r.set(s.name,!0),this.allNodes.push(s))}for(this.root=this.allNodes.sort(function(n,t){return n.value-t.value})[0],console.log(t.slice());!this.allNodesAreConnected(this.allNodes);){var u=t.pop();if(this.shortestLinks.push(u),this.allNodesAreConnected(this.allNodes)){for(var c=void 0,a=c=this.shortestLinks.slice();c;)a=c,c=this.tryToRemove(c);a.length<this.shortestLinks.length&&(this.shortestLinks=a)}}console.log(this.shortestLinks)}return n.prototype.allNodesAreConnected=function(n,t){void 0===t&&(t=this.shortestLinks);for(var e=[],r=t.flatMap(function(n){return n.nodes}),o=new Map,i=0,s=r;i<s.length;i++){var u=s[i];o.has(u.name)||(o.set(u.name,!0),e.push(u))}var c,a=e.length===n.length;if(a){var h=this.allNodes.slice(),f=function(n){var e;e=n,h.splice(h.findIndex(function(n){return n.name===e.name}),1),function(n){return t.filter(function(t){return-1!==t.nodes.findIndex(function(t){return t.name===n.name})}).flatMap(function(t){return t.nodes.find(function(t){return t.name!==n.name})}).filter(function(n){return-1!==h.findIndex(function(t){return t.name===n.name})})}(n).forEach(function(n){return f(n)})};f(this.root),c=0===h.length}return a&&c},n.prototype.tryToRemove=function(n){for(var t,e=function(e){var o=n.slice();if(o.splice(o.findIndex(function(n){return n===e}),1),r.allNodesAreConnected(r.allNodes,o))return t=o,"break"},r=this,o=0,i=n;o<i.length;o++){if("break"===e(i[o]))break}return t},n.prototype.linkToString=function(){var n=this.shortestLinks.map(function(n){return new i(n.nodes.sort(function(n,t){return n.name<t.name?-1:n.name>t.name?1:0}),n.cost)}).sort(function(n,t){if(n.nodes[0].name<t.nodes[0].name)return-1;if(n.nodes[0].name>t.nodes[0].name)return 1;if(n.nodes[0].name===t.nodes[0].name){if(n.nodes[1].name<t.nodes[1].name)return-1;if(n.nodes[1].name>t.nodes[1].name)return 1}return 0}),t="";return n.forEach(function(n){t+=n.nodes[0].name+" - "+n.nodes[1].name+";\n\t"}),t},n.prototype.getRoutingTable=function(n){var t=this,e=[];return this.allNodes.filter(function(t){return t.name!==n}).forEach(function(r){e.push({target:r.name,nextHop:t.getNextHop(n,r.name)})}),e},n.prototype.getNextHop=function(n,t,e,r){void 0===r&&(r=[]),console.log(n,t,e),r.push(n);var o=this.shortestLinks.filter(function(t){return-1!==t.nodes.findIndex(function(t){return t.name===n})});if(-1!==o.findIndex(function(n){return-1!==n.nodes.findIndex(function(n){return n.name===t})}))return e||t;for(var i=0,s=o;i<s.length;i++){var u=s[i].nodes.find(function(t){return t.name!==n}).name;if(-1===r.indexOf(u)){var c=this.getNextHop(u,t,e||u,r.slice());if(c)return c}}},n}(),u=function(n,t,e,r){return new(e||(e=Promise))(function(o,i){function s(n){try{c(r.next(n))}catch(n){i(n)}}function u(n){try{c(r.throw(n))}catch(n){i(n)}}function c(n){n.done?o(n.value):new e(function(t){t(n.value)}).then(s,u)}c((r=r.apply(n,t||[])).next())})},c=function(n,t){var e,r,o,i,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function u(i){return function(u){return function(i){if(e)throw new TypeError("Generator is already executing.");for(;s;)try{if(e=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return s.label++,{value:i[1],done:!1};case 5:s.label++,r=i[1],i=[0];continue;case 7:i=s.ops.pop(),s.trys.pop();continue;default:if(!(o=(o=s.trys).length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){s=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){s.label=i[1];break}if(6===i[0]&&s.label<o[1]){s.label=o[1],o=i;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(i);break}o[2]&&s.ops.pop(),s.trys.pop();continue}i=t.call(n,s)}catch(n){i=[6,n],r=0}finally{e=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,u])}}},a=function(){function n(n,t,e,r){var o=this;this.BLOCKED=function(){return!o.MST},this.DISCOVERED_LINKS=[],this.rootOfIndexing=!1,this.returnTo=[],this.name=n,this.value=t,this.connection=e,this.connection.receive.subscribe(function(n){return o.receive(n)}),this.dumpChanges=function(){return r(o)}}return n.prototype.indexNetwork=function(){return u(this,void 0,void 0,function(){var n,t=this;return c(this,function(e){switch(e.label){case 0:return this.rootOfIndexing=!0,this.dumpChanges(),[4,this.connection.ping];case 1:return n=e.sent(),this.WAITING_FOR_BRIDGES=n,n.forEach(function(n){t.send({protocol:"CSTP",content:{message:"Dear Neighbor hear is my name and the package provides you the cost to me. Follow the CSTP.",from:{name:t.name,value:t.value}},target:n})}),[2]}})})},n.prototype.send=function(n){n.sender=this.name,this.connection.send.next(n)},n.prototype.handleCSTPPackage=function(n){var t,e=this;if(n.content.mst&&(n.content.mst=n.content.mst.slice(),this.finishMST(n.content.mst),this.dumpChanges(),n.destination!==this.name&&(n.target=this.ROUTING_TABLE.find(function(t){return t.target===n.destination}).nextHop,this.send(n))),!(this.INDEXED||this.rootOfIndexing&&n.content.from)){if(0!==this.DISCOVERED_LINKS.length||this.rootOfIndexing||(this.connection.ping.then(function(t){if(e.WAITING_FOR_BRIDGES=t.filter(function(t){return t!==n.content.from.name}),e.dumpChanges(),e.WAITING_FOR_BRIDGES.forEach(function(n){return e.send({protocol:"CSTP",content:{message:"Dear Neighbor hear is my name and the package provides you the cost to me. Follow the CSTP.",from:{name:e.name,value:e.value}},target:n})}),0===e.WAITING_FOR_BRIDGES.length){var r=e.DISCOVERED_LINKS[0].nodes.find(function(n){return n.name!==e.name});if(e.dumpChanges(),e.send({protocol:"CSTP",content:{message:"Dear Neighbor hear are my discovered links, you may concat them with yours and send them back!",discoveredLinks:e.DISCOVERED_LINKS},target:r.name}),e.INDEXED=!0,e.rootOfIndexing){var o=new s(e.DISCOVERED_LINKS);e.MST=o,e.ROUTING_TABLE=e.MST.getRoutingTable(e.name),e.connection.finishedIndexing.next(o)}else e.connection.finishedIndexing.next();e.dumpChanges()}}),this.DISCOVERED_LINKS.push({cost:n.cost,nodes:[{name:this.name,value:this.value},n.content.from]}),this.returnTo.push(n.content.from.name),this.dumpChanges()),this.WAITING_FOR_BRIDGES&&n.content.discoveredLinks){var r=n.content.discoveredLinks[0].nodes.find(function(n){return n.name!==e.name});this.WAITING_FOR_BRIDGES.splice(this.WAITING_FOR_BRIDGES.findIndex(function(n){return n===r}),1),(t=this.DISCOVERED_LINKS).push.apply(t,n.content.discoveredLinks)}else this.WAITING_FOR_BRIDGES&&n.content.from&&(this.WAITING_FOR_BRIDGES.splice(this.WAITING_FOR_BRIDGES.findIndex(function(t){return t===n.content.from.name}),1),this.returnTo.push(n.content.from.name),this.DISCOVERED_LINKS.push({cost:n.cost,nodes:[{name:this.name,value:this.value},n.content.from]}));if(this.dumpChanges(),this.WAITING_FOR_BRIDGES&&0===this.WAITING_FOR_BRIDGES.length){if(this.returnTo.forEach(function(n){e.send({protocol:"CSTP",content:{message:"Dear Neighbor hear are my discovered links, you may concat them with yours and send them back!",discoveredLinks:e.DISCOVERED_LINKS},target:n})}),this.INDEXED=!0,this.rootOfIndexing){var o=[];this.DISCOVERED_LINKS.forEach(function(n){o.find(function(t){return-1!==n.nodes.findIndex(function(n){return n.name===t.nodes[0].name})&&-1!==n.nodes.findIndex(function(n){return n.name===t.nodes[1].name})})||o.push(n)});var i=o.slice();this.finishMST(i),this.ROUTING_TABLE.forEach(function(n){e.send({protocol:"CSTP",content:{message:"Dear Neighbor hear is my name and the package provides you the cost to me. Follow the CSTP.",mst:i},target:n.nextHop,destination:n.target})})}else this.connection.finishedIndexing.next();this.dumpChanges()}}},n.prototype.finishMST=function(n){var t=new s(n);this.MST=t,this.ROUTING_TABLE=this.MST.getRoutingTable(this.name),this.connection.finishedIndexing.next(t)},n.prototype.receive=function(n){"CSTP"===n.protocol?this.handleCSTPPackage(n):this.handlePackage(n)},n.prototype.handlePackage=function(n){this.name===n.destination?alert(this.name+" received a pkg with: "+n.content):(n.target=this.ROUTING_TABLE.find(function(t){return t.target===n.destination}).nextHop,this.send(n))},n}(),h=function(n,t){return(h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,t){n.__proto__=t}||function(n,t){for(var e in t)t.hasOwnProperty(e)&&(n[e]=t[e])})(n,t)};function f(n,t){function e(){this.constructor=n}h(n,t),n.prototype=null===t?Object.create(t):(e.prototype=t.prototype,new e)}function l(n){return"function"==typeof n}var d=!1,p={Promise:void 0,set useDeprecatedSynchronousErrorHandling(n){n&&(new Error).stack;d=n},get useDeprecatedSynchronousErrorHandling(){return d}};function b(n){setTimeout(function(){throw n})}var m={closed:!0,next:function(n){},error:function(n){if(p.useDeprecatedSynchronousErrorHandling)throw n;b(n)},complete:function(){}},g=Array.isArray||function(n){return n&&"number"==typeof n.length};function y(n){return Error.call(this),this.message=n?n.length+" errors occurred during unsubscription:\n"+n.map(function(n,t){return t+1+") "+n.toString()}).join("\n  "):"",this.name="UnsubscriptionError",this.errors=n,this}y.prototype=Object.create(Error.prototype);var v=y,E=function(){function n(n){this.closed=!1,this._parent=null,this._parents=null,this._subscriptions=null,n&&(this._unsubscribe=n)}var t;return n.prototype.unsubscribe=function(){var n,t=!1;if(!this.closed){var e=this._parent,r=this._parents,o=this._unsubscribe,i=this._subscriptions;this.closed=!0,this._parent=null,this._parents=null,this._subscriptions=null;for(var s,u=-1,c=r?r.length:0;e;)e.remove(this),e=++u<c&&r[u]||null;if(l(o))try{o.call(this)}catch(e){t=!0,n=e instanceof v?_(e.errors):[e]}if(g(i))for(u=-1,c=i.length;++u<c;){var a=i[u];if(null!==(s=a)&&"object"==typeof s)try{a.unsubscribe()}catch(e){t=!0,n=n||[],e instanceof v?n=n.concat(_(e.errors)):n.push(e)}}if(t)throw new v(n)}},n.prototype.add=function(t){var e=t;switch(typeof t){case"function":e=new n(t);case"object":if(e===this||e.closed||"function"!=typeof e.unsubscribe)return e;if(this.closed)return e.unsubscribe(),e;if(!(e instanceof n)){var r=e;(e=new n)._subscriptions=[r]}break;default:if(!t)return n.EMPTY;throw new Error("unrecognized teardown "+t+" added to Subscription.")}if(e._addParent(this)){var o=this._subscriptions;o?o.push(e):this._subscriptions=[e]}return e},n.prototype.remove=function(n){var t=this._subscriptions;if(t){var e=t.indexOf(n);-1!==e&&t.splice(e,1)}},n.prototype._addParent=function(n){var t=this._parent,e=this._parents;return t!==n&&(t?e?-1===e.indexOf(n)&&(e.push(n),!0):(this._parents=[n],!0):(this._parent=n,!0))},n.EMPTY=((t=new n).closed=!0,t),n}();function _(n){return n.reduce(function(n,t){return n.concat(t instanceof v?t.errors:t)},[])}var S="function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random(),w=function(n){function t(e,r,o){var i=n.call(this)||this;switch(i.syncErrorValue=null,i.syncErrorThrown=!1,i.syncErrorThrowable=!1,i.isStopped=!1,arguments.length){case 0:i.destination=m;break;case 1:if(!e){i.destination=m;break}if("object"==typeof e){e instanceof t?(i.syncErrorThrowable=e.syncErrorThrowable,i.destination=e,e.add(i)):(i.syncErrorThrowable=!0,i.destination=new I(i,e));break}default:i.syncErrorThrowable=!0,i.destination=new I(i,e,r,o)}return i}return f(t,n),t.prototype[S]=function(){return this},t.create=function(n,e,r){var o=new t(n,e,r);return o.syncErrorThrowable=!1,o},t.prototype.next=function(n){this.isStopped||this._next(n)},t.prototype.error=function(n){this.isStopped||(this.isStopped=!0,this._error(n))},t.prototype.complete=function(){this.isStopped||(this.isStopped=!0,this._complete())},t.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,n.prototype.unsubscribe.call(this))},t.prototype._next=function(n){this.destination.next(n)},t.prototype._error=function(n){this.destination.error(n),this.unsubscribe()},t.prototype._complete=function(){this.destination.complete(),this.unsubscribe()},t.prototype._unsubscribeAndRecycle=function(){var n=this._parent,t=this._parents;return this._parent=null,this._parents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parent=n,this._parents=t,this},t}(E),I=function(n){function t(t,e,r,o){var i,s=n.call(this)||this;s._parentSubscriber=t;var u=s;return l(e)?i=e:e&&(i=e.next,r=e.error,o=e.complete,e!==m&&(l((u=Object.create(e)).unsubscribe)&&s.add(u.unsubscribe.bind(u)),u.unsubscribe=s.unsubscribe.bind(s))),s._context=u,s._next=i,s._error=r,s._complete=o,s}return f(t,n),t.prototype.next=function(n){if(!this.isStopped&&this._next){var t=this._parentSubscriber;p.useDeprecatedSynchronousErrorHandling&&t.syncErrorThrowable?this.__tryOrSetError(t,this._next,n)&&this.unsubscribe():this.__tryOrUnsub(this._next,n)}},t.prototype.error=function(n){if(!this.isStopped){var t=this._parentSubscriber,e=p.useDeprecatedSynchronousErrorHandling;if(this._error)e&&t.syncErrorThrowable?(this.__tryOrSetError(t,this._error,n),this.unsubscribe()):(this.__tryOrUnsub(this._error,n),this.unsubscribe());else if(t.syncErrorThrowable)e?(t.syncErrorValue=n,t.syncErrorThrown=!0):b(n),this.unsubscribe();else{if(this.unsubscribe(),e)throw n;b(n)}}},t.prototype.complete=function(){var n=this;if(!this.isStopped){var t=this._parentSubscriber;if(this._complete){var e=function(){return n._complete.call(n._context)};p.useDeprecatedSynchronousErrorHandling&&t.syncErrorThrowable?(this.__tryOrSetError(t,e),this.unsubscribe()):(this.__tryOrUnsub(e),this.unsubscribe())}else this.unsubscribe()}},t.prototype.__tryOrUnsub=function(n,t){try{n.call(this._context,t)}catch(n){if(this.unsubscribe(),p.useDeprecatedSynchronousErrorHandling)throw n;b(n)}},t.prototype.__tryOrSetError=function(n,t,e){if(!p.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{t.call(this._context,e)}catch(t){return p.useDeprecatedSynchronousErrorHandling?(n.syncErrorValue=t,n.syncErrorThrown=!0,!0):(b(t),!0)}return!1},t.prototype._unsubscribe=function(){var n=this._parentSubscriber;this._context=null,this._parentSubscriber=null,n.unsubscribe()},t}(w);var x="function"==typeof Symbol&&Symbol.observable||"@@observable";function T(){}function O(n){return n?1===n.length?n[0]:function(t){return n.reduce(function(n,t){return t(n)},t)}:T}var D=function(){function n(n){this._isScalar=!1,n&&(this._subscribe=n)}return n.prototype.lift=function(t){var e=new n;return e.source=this,e.operator=t,e},n.prototype.subscribe=function(n,t,e){var r=this.operator,o=function(n,t,e){if(n){if(n instanceof w)return n;if(n[S])return n[S]()}return n||t||e?new w(n,t,e):new w(m)}(n,t,e);if(r?o.add(r.call(o,this.source)):o.add(this.source||p.useDeprecatedSynchronousErrorHandling&&!o.syncErrorThrowable?this._subscribe(o):this._trySubscribe(o)),p.useDeprecatedSynchronousErrorHandling&&o.syncErrorThrowable&&(o.syncErrorThrowable=!1,o.syncErrorThrown))throw o.syncErrorValue;return o},n.prototype._trySubscribe=function(n){try{return this._subscribe(n)}catch(t){p.useDeprecatedSynchronousErrorHandling&&(n.syncErrorThrown=!0,n.syncErrorValue=t),!function(n){for(;n;){var t=n,e=t.closed,r=t.destination,o=t.isStopped;if(e||o)return!1;n=r&&r instanceof w?r:null}return!0}(n)?console.warn(t):n.error(t)}},n.prototype.forEach=function(n,t){var e=this;return new(t=N(t))(function(t,r){var o;o=e.subscribe(function(t){try{n(t)}catch(n){r(n),o&&o.unsubscribe()}},r,t)})},n.prototype._subscribe=function(n){var t=this.source;return t&&t.subscribe(n)},n.prototype[x]=function(){return this},n.prototype.pipe=function(){for(var n=[],t=0;t<arguments.length;t++)n[t]=arguments[t];return 0===n.length?this:O(n)(this)},n.prototype.toPromise=function(n){var t=this;return new(n=N(n))(function(n,e){var r;t.subscribe(function(n){return r=n},function(n){return e(n)},function(){return n(r)})})},n.create=function(t){return new n(t)},n}();function N(n){if(n||(n=p.Promise||Promise),!n)throw new Error("no Promise impl found");return n}function k(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}k.prototype=Object.create(Error.prototype);var B=k,R=function(n){function t(t,e){var r=n.call(this)||this;return r.subject=t,r.subscriber=e,r.closed=!1,r}return f(t,n),t.prototype.unsubscribe=function(){if(!this.closed){this.closed=!0;var n=this.subject,t=n.observers;if(this.subject=null,t&&0!==t.length&&!n.isStopped&&!n.closed){var e=t.indexOf(this.subscriber);-1!==e&&t.splice(e,1)}}},t}(E),C=function(n){function t(t){var e=n.call(this,t)||this;return e.destination=t,e}return f(t,n),t}(w),L=function(n){function t(){var t=n.call(this)||this;return t.observers=[],t.closed=!1,t.isStopped=!1,t.hasError=!1,t.thrownError=null,t}return f(t,n),t.prototype[S]=function(){return new C(this)},t.prototype.lift=function(n){var t=new P(this,this);return t.operator=n,t},t.prototype.next=function(n){if(this.closed)throw new B;if(!this.isStopped)for(var t=this.observers,e=t.length,r=t.slice(),o=0;o<e;o++)r[o].next(n)},t.prototype.error=function(n){if(this.closed)throw new B;this.hasError=!0,this.thrownError=n,this.isStopped=!0;for(var t=this.observers,e=t.length,r=t.slice(),o=0;o<e;o++)r[o].error(n);this.observers.length=0},t.prototype.complete=function(){if(this.closed)throw new B;this.isStopped=!0;for(var n=this.observers,t=n.length,e=n.slice(),r=0;r<t;r++)e[r].complete();this.observers.length=0},t.prototype.unsubscribe=function(){this.isStopped=!0,this.closed=!0,this.observers=null},t.prototype._trySubscribe=function(t){if(this.closed)throw new B;return n.prototype._trySubscribe.call(this,t)},t.prototype._subscribe=function(n){if(this.closed)throw new B;return this.hasError?(n.error(this.thrownError),E.EMPTY):this.isStopped?(n.complete(),E.EMPTY):(this.observers.push(n),new R(this,n))},t.prototype.asObservable=function(){var n=new D;return n.source=this,n},t.create=function(n,t){return new P(n,t)},t}(D),P=function(n){function t(t,e){var r=n.call(this)||this;return r.destination=t,r.source=e,r}return f(t,n),t.prototype.next=function(n){var t=this.destination;t&&t.next&&t.next(n)},t.prototype.error=function(n){var t=this.destination;t&&t.error&&this.destination.error(n)},t.prototype.complete=function(){var n=this.destination;n&&n.complete&&this.destination.complete()},t.prototype._subscribe=function(n){return this.source?this.source.subscribe(n):E.EMPTY},t}(L),M=function(){return function(n){this.send=new L,this.receive=new L,this.finishedIndexing=new L,this.ping=new Promise(function(t){return t(n)})}}(),A=function(){return function(n,t,e,r){var o=this;this.protocol=n,this.content=t,this.target=e,this.destination=e;var i=r.find(function(n){return n.target===o.target});i||console.log("no"),this.target=i.nextHop}}(),G=function(){var n=document.getElementById("container_target");n.childNodes.forEach(function(n){return n.remove()}),n.childNodes.forEach(function(n){return n.remove()}),n.childNodes.forEach(function(n){return n.remove()});n.insertAdjacentElement("beforeend",(new DOMParser).parseFromString('\n<div class="item" id="init_pkg" style="display: flex">\n    <div style="height: 100%; width: 90%; justify-self: center; align-self: center">\n        <h3>Packages:</h3>\n        <div id="pkg_s_target">\n    </div>\n</div>\n    \n</div>\n',"text/html").getElementById("init_pkg"))},j=function(n){var t=document.getElementById("container_target");n.sort(function(n,t){return n.name<t.name?-1:n.name>t.name?1:0}).forEach(function(n){t.insertAdjacentElement("beforeend",(new DOMParser).parseFromString(function(n){return'\n<div class="item">\n    <div class="item-content" id="bridge_'+n.value+'">\n        <h3>Bridge '+n.name+"</h3>\n    <div>\n</div>\n"}(n),"text/html").getElementById("bridge_"+n.value))})},F=0,K=function(n,t){var e=document.getElementById("pkg_s_target"),r=F++;return e.insertAdjacentElement("beforeend",(new DOMParser).parseFromString(function(n,t){return'\n<div id="pkg_'+r+'">\n    '+t+" -> "+n.target+" : "+n.cost+"\n</div>\n"}(n,t),"text/html").getElementById("pkg_"+r)),function(){e.removeChild(document.getElementById("pkg_"+r))}},H=function(n,t){if(-1===t.findIndex(function(n){return n.BLOCKED()})){var e=document.getElementById("pkg_test_target");e.insertAdjacentElement("beforeend",(new DOMParser).parseFromString('\n<div class="item" id="pkg-card" style="\n    display: flex;\n    flex-direction: column;\n    width: 100%;\n">\n    <h3>Send a sample package through with the new topology</h3>\n</div>\n',"text/html").getElementById("pkg-card")),e=document.getElementById("pkg-card");var r=t.map(function(n){return n.name}),o=function(n){return'\n<label id="l_'+n+'" for="'+n+'">Send '+n+':</label>\n<select id="'+n+'">\n    '+r.map(function(n){return'<option value="'+n+'">'+n+"</option>\n    "})+"\n</select>\n"},i=function(n){e.insertAdjacentElement("beforeend",(new DOMParser).parseFromString(o(n)+"<br>","text/html").getElementById("l_"+n)),e.insertAdjacentElement("beforeend",(new DOMParser).parseFromString(o(n),"text/html").getElementById(n))};i("from"),i("to");e.insertAdjacentElement("beforeend",(new DOMParser).parseFromString('\n<button id="test_send">Send</button>\n',"text/html").getElementById("test_send")),document.getElementById("test_send").addEventListener("click",function(){return function(){console.log("sending");var n=document.getElementById("from").value,e=document.getElementById("to").value,r=t.find(function(t){return t.name===n}),o=new A("SOME_NORMAL","Greetings from"+r.name,e,r.ROUTING_TABLE);console.log("here",o),r.send(o)}()})}document.getElementById("bridge_"+n.value).replaceWith((new DOMParser).parseFromString(function(n){return'\n<div class="item" id="bridge_'+n.value+'">\n    <div class="item-content" style="width: 80%; height: 100%; overflow-y: auto; overflow-x: hidden; '+(n.BLOCKED()?"":"box-shadow: 5px 5px 4px #33b040 !important;")+'">\n        <h3>Bridge '+n.name+"</h3>\n        "+(n.rootOfIndexing?"Indexing Root!":"")+"<br>\n        Known links: [<br><BLOCKQUOTE>"+n.DISCOVERED_LINKS.map(function(n){return n.nodes.map(function(n){return n.name}).join("-")+":"+n.cost}).join(",<br>")+"</BLOCKQUOTE><br>]<br>\n        "+(!n.rootOfIndexing&&n.INDEXED?"<br>Node has finished indexing!<br>Returning Data to: [<br><BLOCKQUOTE>"+n.returnTo.join(",<br>")+"</BLOCKQUOTE><br>]":"")+"\n        "+(n.rootOfIndexing&&n.INDEXED?"<br>Network has finished indexing!<br>MST generated.<br>Sending MST to: [<br><BLOCKQUOTE>"+n.MST.allNodes.map(function(n){return n.name}).filter(function(t){return t!==n.name}).join(",<br>")+"</BLOCKQUOTE><br>]":"")+"\n        "+(n.BLOCKED()?"":"<br>Received MST. Routing Table: [<br><BLOCKQUOTE>"+n.ROUTING_TABLE.map(function(n){return"->"+n.target+" via "+n.nextHop}).join(",<br>")+"</BLOCKQUOTE><br>]")+"\n    </div>\n</div>\n"}(n),"text/html").getElementById("bridge_"+n.value))},U=function(n,t,e,r){return new(e||(e=Promise))(function(o,i){function s(n){try{c(r.next(n))}catch(n){i(n)}}function u(n){try{c(r.throw(n))}catch(n){i(n)}}function c(n){n.done?o(n.value):new e(function(t){t(n.value)}).then(s,u)}c((r=r.apply(n,t||[])).next())})},V=function(n,t){var e,r,o,i,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function u(i){return function(u){return function(i){if(e)throw new TypeError("Generator is already executing.");for(;s;)try{if(e=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return s.label++,{value:i[1],done:!1};case 5:s.label++,r=i[1],i=[0];continue;case 7:i=s.ops.pop(),s.trys.pop();continue;default:if(!(o=(o=s.trys).length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){s=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){s.label=i[1];break}if(6===i[0]&&s.label<o[1]){s.label=o[1],o=i;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(i);break}o[2]&&s.ops.pop(),s.trys.pop();continue}i=t.call(n,s)}catch(n){i=[6,n],r=0}finally{e=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,u])}}},W=function(){return function(n,t){void 0===t&&(t=.5);var e=this;this.nodes=n,this.multiForCostInSeconds=t,this.bridges=[],this.startIndexingFromRandomBridge=function(){return new Promise(function(n){return U(e,void 0,void 0,function(){var t;return V(this,function(e){switch(e.label){case 0:return(t=this.bridges[Math.round(Math.random()*this.bridges.length)]).connection.finishedIndexing.subscribe(function(t){return n(t)}),[4,t.indexNetwork()];case 1:return e.sent(),[2]}})})})},G(),n.forEach(function(n){var t=n.links.map(function(n){return n.toNode}),r=new M(t);e.bridges.push(new a(n.name,n.value,r,function(n){return H(n,e.bridges)}))}),this.bridges.forEach(function(t){var r=n.find(function(n){return n.name===t.name}).links,o=r.map(function(n){return n.toNode});t.connection.send.subscribe(function(n){if(console.log(t.name+">>>"+n.target),o.find(function(t){return t===n.target})){n.cost=r.find(function(t){return t.toNode===n.target}).cost;var i=K(n,t.name);setTimeout(function(){i(),e.bridges.find(function(t){return t.name===n.target}).connection.receive.next(n)},1e3*n.cost*e.multiForCostInSeconds)}})}),j(this.bridges)}}(),Q=document.getElementById("textIn"),X=document.getElementById("textOut"),Y=document.getElementById("simulate_btn");Q.value="\nGraph mygraph {\n\t// Node\n\tA = 5;\n\tB = 1;\n\tC = 3;\n\tD = 7;\n\tE = 6;\n\tF = 4;\n\t\n\t// Links und zugeh. Kosten\n\tA - B : 10;\n\tA - C : 10;\n\tB - D : 15;\n\tB - E : 10;\n\tC - D : 3;\n\tC - E : 10;\n\tD - E : 2;\n\tD - F : 10;\n\tE - F : 2;\n}";Y.addEventListener("click",function(){var n=function(n){for(var t=[],e=[],i=n.match(/(?<=Graph[ ])(\S+)/g)[0],s=n.match(/[^\s]+(?= =)|(?<== )[1-9]*/g),u=n.match(/[^\s]+(?= -)|[^\s]+(?= :)|(?<=: )[0-9]*/g),c=0;c<u.length;c+=3)t.push({nodes:[u[c],u[c+1]],cost:+u[c+2]});var a=function(n){var i=s[n],u=+s[n+1],c=t.filter(function(n){return-1!==n.nodes.findIndex(function(n){return n===i})}).map(function(n){return new r(n.nodes.find(function(n){return n!==i}),n.cost)});e.push(new o(i,u,c))};for(c=0;c<s.length;c+=2)a(c);return{graphName:i,nodes:e}}(Q.value);new W(n.nodes,+document.getElementById("mult").value).startIndexingFromRandomBridge().then(function(t){var e;X.value=(e=t,"\nSpanning-Tree of "+n.graphName+" {\n\tRoot: "+e.root.name+";\n\t"+e.linkToString()+"\n}")})})}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vLy4vc3JjL21vZGVscy9TcGFubmluZ1RyZWUvc3Bhbm5pbmdUcmVlTGluay50cyIsIndlYnBhY2s6Ly8vLi9zcmMvbW9kZWxzL1NwYW5uaW5nVHJlZS9zcGFubmluZ1RyZWVOb2RlLnRzIiwid2VicGFjazovLy8uL3NyYy9tb2RlbHMvU2ltdWxhdGlvbi9TaW11bGF0aW9uTGluay50cyIsIndlYnBhY2s6Ly8vLi9zcmMvbW9kZWxzL1NwYW5uaW5nVHJlZS9taW5pbWFsU3Bhbm5pbmdUcmVlLnRzIiwid2VicGFjazovLy8uL3NyYy9tb2RlbHMvU2ltdWxhdGlvbi9CcmlkZ2UudHMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3RzbGliL3RzbGliLmVzNi5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcnhqcy9fZXNtNS9pbnRlcm5hbC91dGlsL2lzRnVuY3Rpb24uanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3J4anMvX2VzbTUvaW50ZXJuYWwvY29uZmlnLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9yeGpzL19lc201L2ludGVybmFsL3V0aWwvaG9zdFJlcG9ydEVycm9yLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9yeGpzL19lc201L2ludGVybmFsL09ic2VydmVyLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9yeGpzL19lc201L2ludGVybmFsL3V0aWwvaXNBcnJheS5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcnhqcy9fZXNtNS9pbnRlcm5hbC91dGlsL1Vuc3Vic2NyaXB0aW9uRXJyb3IuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3J4anMvX2VzbTUvaW50ZXJuYWwvU3Vic2NyaXB0aW9uLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9yeGpzL19lc201L2ludGVybmFsL3V0aWwvaXNPYmplY3QuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3J4anMvX2VzbTUvaW50ZXJuYWwvc3ltYm9sL3J4U3Vic2NyaWJlci5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcnhqcy9fZXNtNS9pbnRlcm5hbC9TdWJzY3JpYmVyLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9yeGpzL19lc201L2ludGVybmFsL3N5bWJvbC9vYnNlcnZhYmxlLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9yeGpzL19lc201L2ludGVybmFsL3V0aWwvbm9vcC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcnhqcy9fZXNtNS9pbnRlcm5hbC91dGlsL3BpcGUuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3J4anMvX2VzbTUvaW50ZXJuYWwvT2JzZXJ2YWJsZS5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcnhqcy9fZXNtNS9pbnRlcm5hbC91dGlsL3RvU3Vic2NyaWJlci5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcnhqcy9fZXNtNS9pbnRlcm5hbC91dGlsL2NhblJlcG9ydEVycm9yLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9yeGpzL19lc201L2ludGVybmFsL3V0aWwvT2JqZWN0VW5zdWJzY3JpYmVkRXJyb3IuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3J4anMvX2VzbTUvaW50ZXJuYWwvU3ViamVjdFN1YnNjcmlwdGlvbi5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcnhqcy9fZXNtNS9pbnRlcm5hbC9TdWJqZWN0LmpzIiwid2VicGFjazovLy8uL3NyYy9tb2RlbHMvU2ltdWxhdGlvbi9TaW11bGF0aW9uQ29ubmVjdGlvbi50cyIsIndlYnBhY2s6Ly8vLi9zcmMvbW9kZWxzL1NpbXVsYXRpb24vU2ltdWxhdGlvblBhY2thZ2UudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL21vZGVscy92aWV3L1NpbXVsYXRpb25WaWV3LnRzIiwid2VicGFjazovLy8uL3NyYy9tb2RlbHMvU2ltdWxhdGlvbi9TaW11bGF0aW9uLnRzIiwid2VicGFjazovLy8uL3NyYy9tYWluLnRzIiwid2VicGFjazovLy8uL3NyYy9wYXJzZXIvZ3JhcGhQYXJzZXIudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL3BhcnNlci9tc3RTdHJpbmdpZnkudHMiXSwibmFtZXMiOlsiaW5zdGFsbGVkTW9kdWxlcyIsIl9fd2VicGFja19yZXF1aXJlX18iLCJtb2R1bGVJZCIsImV4cG9ydHMiLCJtb2R1bGUiLCJpIiwibCIsIm1vZHVsZXMiLCJjYWxsIiwibSIsImMiLCJkIiwibmFtZSIsImdldHRlciIsIm8iLCJPYmplY3QiLCJkZWZpbmVQcm9wZXJ0eSIsImVudW1lcmFibGUiLCJnZXQiLCJyIiwiU3ltYm9sIiwidG9TdHJpbmdUYWciLCJ2YWx1ZSIsInQiLCJtb2RlIiwiX19lc01vZHVsZSIsIm5zIiwiY3JlYXRlIiwia2V5IiwiYmluZCIsIm4iLCJvYmplY3QiLCJwcm9wZXJ0eSIsInByb3RvdHlwZSIsImhhc093blByb3BlcnR5IiwicCIsInMiLCJTcGFubmluZ1RyZWVMaW5rIiwidG9Ob2RlIiwiY29zdCIsInRoaXMiLCJTcGFubmluZ1RyZWVOb2RlIiwibGlua3MiLCJTaW11bGF0aW9uTGluayIsIm5vZGVzIiwibWluaW1hbFNwYW5uaW5nVHJlZV9NaW5pbWFsU3BhblRyZWUiLCJNaW5pbWFsU3BhblRyZWUiLCJzcGFuVHJlZUxpbmtzIiwic2hvcnRlc3RMaW5rcyIsImFsbE5vZGVzIiwic2xpY2UiLCJhcnJheSIsInNvcnQiLCJhIiwiYiIsInJldmVyc2UiLCJmbGF0TWFwIiwibWFwIiwiTWFwIiwiX2kiLCJhcnJheV8xIiwibGVuZ3RoIiwiaXRlbSIsImhhcyIsInNldCIsInB1c2giLCJyb290IiwiY29uc29sZSIsImxvZyIsImFsbE5vZGVzQXJlQ29ubmVjdGVkIiwiaXRlbXMiLCJwb3AiLCJ0ZW1wIiwibGFzdCIsInRyeVRvUmVtb3ZlIiwicmVzdWx0IiwiYXJyYXlfMiIsImFsbE5vZGVzQXJlSW5jbHVkZWQiLCJub2Rlc1RvRmluZF8xIiwidHJhdmVyc2VfMSIsImN1cnJlbnROb2RlIiwibm9kZSIsInNwbGljZSIsImZpbmRJbmRleCIsImZpbHRlciIsImxpbmsiLCJmaW5kIiwibjEiLCJnZXREaXJlY3RDb25uZWN0ZWRfMSIsImZvckVhY2giLCJuZXh0IiwicmVzIiwic2ltdWxhdGlvbkxpbmtzIiwidGhpc18xIiwic2hvcnRlc3RMaW5rc18xIiwibGlua1RvU3RyaW5nIiwic29ydGVkIiwicmV0IiwiZ2V0Um91dGluZ1RhYmxlIiwiX3RoaXMiLCJ0YXJnZXQiLCJuZXh0SG9wIiwiZ2V0TmV4dEhvcCIsImZyb20iLCJ0byIsImRvbnQiLCJ0YXJnZXRzIiwidGFyZ2V0c18xIiwiaW5kZXhPZiIsIkJyaWRnZV9CcmlkZ2UiLCJCcmlkZ2UiLCJjb25uZWN0aW9uIiwiZHVtcENoYW5nZXMiLCJCTE9DS0VEIiwiTVNUIiwiRElTQ09WRVJFRF9MSU5LUyIsInJvb3RPZkluZGV4aW5nIiwicmV0dXJuVG8iLCJyZWNlaXZlIiwic3Vic2NyaWJlIiwicGtnIiwiaW5kZXhOZXR3b3JrIiwicGluZyIsInNpYmxpbmdzIiwiX2EiLCJzZW50IiwiV0FJVElOR19GT1JfQlJJREdFUyIsInNlbmQiLCJwcm90b2NvbCIsImNvbnRlbnQiLCJtZXNzYWdlIiwic2VuZGVyIiwiaGFuZGxlQ1NUUFBhY2thZ2UiLCJtc3QiLCJmaW5pc2hNU1QiLCJkZXN0aW5hdGlvbiIsIlJPVVRJTkdfVEFCTEUiLCJJTkRFWEVEIiwidGhlbiIsImJyaWRnZXMiLCJkaXNjb3ZlcmVkTGlua3MiLCJmaW5pc2hlZEluZGV4aW5nIiwibmFtZV8xIiwiYXBwbHkiLCJsaW5rc18xIiwibGlua3NNc3RfMSIsImhhbmRsZVBhY2thZ2UiLCJhbGVydCIsImV4dGVuZFN0YXRpY3MiLCJzZXRQcm90b3R5cGVPZiIsIl9fcHJvdG9fXyIsIkFycmF5IiwiX19leHRlbmRzIiwiX18iLCJjb25zdHJ1Y3RvciIsImlzRnVuY3Rpb24iLCJ4IiwiX2VuYWJsZV9zdXBlcl9ncm9zc19tb2RlX3RoYXRfd2lsbF9jYXVzZV9iYWRfdGhpbmdzIiwiY29uZmlnIiwiUHJvbWlzZSIsInVuZGVmaW5lZCIsInVzZURlcHJlY2F0ZWRTeW5jaHJvbm91c0Vycm9ySGFuZGxpbmciLCJFcnJvciIsInN0YWNrIiwiaG9zdFJlcG9ydEVycm9yIiwiZXJyIiwic2V0VGltZW91dCIsImVtcHR5IiwiY2xvc2VkIiwiZXJyb3IiLCJjb21wbGV0ZSIsImlzQXJyYXkiLCJVbnN1YnNjcmlwdGlvbkVycm9ySW1wbCIsImVycm9ycyIsInRvU3RyaW5nIiwiam9pbiIsIlVuc3Vic2NyaXB0aW9uRXJyb3IiLCJTdWJzY3JpcHRpb25fU3Vic2NyaXB0aW9uIiwiU3Vic2NyaXB0aW9uIiwidW5zdWJzY3JpYmUiLCJfcGFyZW50IiwiX3BhcmVudHMiLCJfc3Vic2NyaXB0aW9ucyIsIl91bnN1YnNjcmliZSIsImhhc0Vycm9ycyIsImluZGV4IiwibGVuIiwicmVtb3ZlIiwiZSIsImZsYXR0ZW5VbnN1YnNjcmlwdGlvbkVycm9ycyIsInN1YiIsImNvbmNhdCIsImFkZCIsInRlYXJkb3duIiwic3Vic2NyaXB0aW9uIiwidG1wIiwiRU1QVFkiLCJfYWRkUGFyZW50Iiwic3Vic2NyaXB0aW9ucyIsInN1YnNjcmlwdGlvbkluZGV4IiwicGFyZW50IiwicmVkdWNlIiwiZXJycyIsInJ4U3Vic2NyaWJlciIsIk1hdGgiLCJyYW5kb20iLCJTdWJzY3JpYmVyX1N1YnNjcmliZXIiLCJfc3VwZXIiLCJTdWJzY3JpYmVyIiwiZGVzdGluYXRpb25Pck5leHQiLCJzeW5jRXJyb3JWYWx1ZSIsInN5bmNFcnJvclRocm93biIsInN5bmNFcnJvclRocm93YWJsZSIsImlzU3RvcHBlZCIsImFyZ3VtZW50cyIsIlN1YnNjcmliZXJfU2FmZVN1YnNjcmliZXIiLCJzdWJzY3JpYmVyIiwiX25leHQiLCJfZXJyb3IiLCJfY29tcGxldGUiLCJfdW5zdWJzY3JpYmVBbmRSZWN5Y2xlIiwiU2FmZVN1YnNjcmliZXIiLCJfcGFyZW50U3Vic2NyaWJlciIsIm9ic2VydmVyT3JOZXh0IiwiY29udGV4dCIsIl9jb250ZXh0IiwiX190cnlPclNldEVycm9yIiwiX190cnlPclVuc3ViIiwid3JhcHBlZENvbXBsZXRlIiwiZm4iLCJvYnNlcnZhYmxlX29ic2VydmFibGUiLCJvYnNlcnZhYmxlIiwibm9vcCIsInBpcGVGcm9tQXJyYXkiLCJmbnMiLCJpbnB1dCIsInByZXYiLCJPYnNlcnZhYmxlX09ic2VydmFibGUiLCJPYnNlcnZhYmxlIiwiX2lzU2NhbGFyIiwiX3N1YnNjcmliZSIsImxpZnQiLCJvcGVyYXRvciIsInNvdXJjZSIsInNpbmsiLCJuZXh0T3JPYnNlcnZlciIsInRvU3Vic2NyaWJlciIsIl90cnlTdWJzY3JpYmUiLCJvYnNlcnZlciIsImNsb3NlZF8xIiwiY2FuUmVwb3J0RXJyb3IiLCJ3YXJuIiwicHJvbWlzZUN0b3IiLCJnZXRQcm9taXNlQ3RvciIsInJlc29sdmUiLCJyZWplY3QiLCJwaXBlIiwib3BlcmF0aW9ucyIsInRvUHJvbWlzZSIsIk9iamVjdFVuc3Vic2NyaWJlZEVycm9ySW1wbCIsIk9iamVjdFVuc3Vic2NyaWJlZEVycm9yIiwiU3ViamVjdFN1YnNjcmlwdGlvbl9TdWJqZWN0U3Vic2NyaXB0aW9uIiwiU3ViamVjdFN1YnNjcmlwdGlvbiIsInN1YmplY3QiLCJvYnNlcnZlcnMiLCJzdWJzY3JpYmVySW5kZXgiLCJTdWJqZWN0X1N1YmplY3RTdWJzY3JpYmVyIiwiU3ViamVjdFN1YnNjcmliZXIiLCJTdWJqZWN0X1N1YmplY3QiLCJTdWJqZWN0IiwiaGFzRXJyb3IiLCJ0aHJvd25FcnJvciIsIlN1YmplY3RfQW5vbnltb3VzU3ViamVjdCIsImNvcHkiLCJhc09ic2VydmFibGUiLCJBbm9ueW1vdXNTdWJqZWN0IiwiU2ltdWxhdGlvbkNvbm5lY3Rpb25fU2ltdWxhdGlvbkNvbm5lY3Rpb24iLCJzaWJsaW5nQnJpZGdlcyIsIlNpbXVsYXRpb25QYWNrYWdlIiwicm91dGluZ1RhYmxlIiwicm91dGluZ1RhYmxlRW50cnkiLCJpbml0IiwiZG9jdW1lbnQiLCJnZXRFbGVtZW50QnlJZCIsImNoaWxkTm9kZXMiLCJpbnNlcnRBZGphY2VudEVsZW1lbnQiLCJET01QYXJzZXIiLCJwYXJzZUZyb21TdHJpbmciLCJjcmVhdGVEb21CcmlkZ2VzIiwiYnJpZGdlIiwiYnJpZGdlVGVtcGxhdGUiLCJpZCIsImR1bXBQa2ciLCJwa2dfc190YXJnZXQiLCJudW1iZXIiLCJwa2dUZW1wbGF0ZSIsInJlbW92ZUNoaWxkIiwiZHVtcEJyaWRnZSIsInRhcmdldF8xIiwidmFsdWVzXzEiLCJkcm9wZG93blRlbXBsYXRlXzEiLCJ2IiwiZHJvcGRvd24iLCJhZGRFdmVudExpc3RlbmVyIiwiZnJvbU5hbWUiLCJ0b05hbWUiLCJzaW11bGF0aW9uUGFja2FnZSIsInNlbmRQa2dfMSIsInJlcGxhY2VXaXRoIiwiU2ltdWxhdGlvbl9TaW11bGF0aW9uIiwibXVsdGlGb3JDb3N0SW5TZWNvbmRzIiwic3RhcnRJbmRleGluZ0Zyb21SYW5kb21CcmlkZ2UiLCJTaW11bGF0aW9uX2F3YWl0ZXIiLCJyb3VuZCIsInNpYmxpbmdOb2RlcyIsImNvbm4iLCJjYl8xIiwiaW5wdXRBcmVhIiwib3V0cHV0QXJlYSIsInNpbXVsYXRpb25CdXR0b24iLCJwYXJzZVJlc3VsdCIsInRlbXBMaW5rcyIsImdyYXBoTmFtZSIsIm1hdGNoIiwibm9kZU1hdGNoZXMiLCJsaW5rTWF0Y2hlcyIsInBhcnNlIiwibWluaW1hbFNwYW5UcmVlIl0sIm1hcHBpbmdzIjoiYUFDQSxJQUFBQSxFQUFBLEdBR0EsU0FBQUMsRUFBQUMsR0FHQSxHQUFBRixFQUFBRSxHQUNBLE9BQUFGLEVBQUFFLEdBQUFDLFFBR0EsSUFBQUMsRUFBQUosRUFBQUUsR0FBQSxDQUNBRyxFQUFBSCxFQUNBSSxHQUFBLEVBQ0FILFFBQUEsSUFVQSxPQU5BSSxFQUFBTCxHQUFBTSxLQUFBSixFQUFBRCxRQUFBQyxJQUFBRCxRQUFBRixHQUdBRyxFQUFBRSxHQUFBLEVBR0FGLEVBQUFELFFBS0FGLEVBQUFRLEVBQUFGLEVBR0FOLEVBQUFTLEVBQUFWLEVBR0FDLEVBQUFVLEVBQUEsU0FBQVIsRUFBQVMsRUFBQUMsR0FDQVosRUFBQWEsRUFBQVgsRUFBQVMsSUFDQUcsT0FBQUMsZUFBQWIsRUFBQVMsRUFBQSxDQUEwQ0ssWUFBQSxFQUFBQyxJQUFBTCxLQUsxQ1osRUFBQWtCLEVBQUEsU0FBQWhCLEdBQ0Esb0JBQUFpQixlQUFBQyxhQUNBTixPQUFBQyxlQUFBYixFQUFBaUIsT0FBQUMsWUFBQSxDQUF3REMsTUFBQSxXQUV4RFAsT0FBQUMsZUFBQWIsRUFBQSxjQUFpRG1CLE9BQUEsS0FRakRyQixFQUFBc0IsRUFBQSxTQUFBRCxFQUFBRSxHQUVBLEdBREEsRUFBQUEsSUFBQUYsRUFBQXJCLEVBQUFxQixJQUNBLEVBQUFFLEVBQUEsT0FBQUYsRUFDQSxLQUFBRSxHQUFBLGlCQUFBRixRQUFBRyxXQUFBLE9BQUFILEVBQ0EsSUFBQUksRUFBQVgsT0FBQVksT0FBQSxNQUdBLEdBRkExQixFQUFBa0IsRUFBQU8sR0FDQVgsT0FBQUMsZUFBQVUsRUFBQSxXQUF5Q1QsWUFBQSxFQUFBSyxVQUN6QyxFQUFBRSxHQUFBLGlCQUFBRixFQUFBLFFBQUFNLEtBQUFOLEVBQUFyQixFQUFBVSxFQUFBZSxFQUFBRSxFQUFBLFNBQUFBLEdBQWdILE9BQUFOLEVBQUFNLElBQXFCQyxLQUFBLEtBQUFELElBQ3JJLE9BQUFGLEdBSUF6QixFQUFBNkIsRUFBQSxTQUFBMUIsR0FDQSxJQUFBUyxFQUFBVCxLQUFBcUIsV0FDQSxXQUEyQixPQUFBckIsRUFBQSxTQUMzQixXQUFpQyxPQUFBQSxHQUVqQyxPQURBSCxFQUFBVSxFQUFBRSxFQUFBLElBQUFBLEdBQ0FBLEdBSUFaLEVBQUFhLEVBQUEsU0FBQWlCLEVBQUFDLEdBQXNELE9BQUFqQixPQUFBa0IsVUFBQUMsZUFBQTFCLEtBQUF1QixFQUFBQyxJQUd0RC9CLEVBQUFrQyxFQUFBLEdBSUFsQyxJQUFBbUMsRUFBQSx5Q0NsRkEsSUFBQUMsRUFBQSxXQUdBLE9BRkMsU0FBbUJDLEVBQXVCQyxHQUF2QkMsS0FBQUYsU0FBdUJFLEtBQUFELFFBRDNDLEdDRUFFLEVBQUEsV0FHQSxPQUZDLFNBQW1CN0IsRUFBcUJVLEVBQXNCb0IsR0FBM0NGLEtBQUE1QixPQUFxQjRCLEtBQUFsQixRQUFzQmtCLEtBQUFFLFNBRC9ELEdDRkFDLEVBQUEsV0FFQSxPQURDLFNBQW1CQyxFQUErQ0wsR0FBL0NDLEtBQUFJLFFBQStDSixLQUFBRCxRQURuRSxHQ0VBTSxFQUFBLFdBb0NJLFNBQUFDLEVBQVlDLEdBbkNMUCxLQUFBUSxjQUFrQyxHQUNsQ1IsS0FBQVMsU0FBOEMsR0EwQ2pELElBTkEsSUFBSVAsRUFBWUssRUFBYUcsUUFHdkJDLEdBRk5ULEVBQVFBLEVBQU1VLEtBQUssU0FBQ0MsRUFBR0MsR0FBTSxPQUFBRCxFQUFFZCxLQUFPZSxFQUFFZixPQUFNZ0IsV0FFMUJDLFFBQVEsU0FBQWxELEdBQUssT0FBQUEsRUFBRXNDLFFBRTdCYSxFQUFNLElBQUlDLElBQ0dDLEVBQUEsRUFBQUMsRUFBQVQsRUFBQVEsRUFBQUMsRUFBQUMsT0FBQUYsSUFBTyxDQUFyQixJQUFNRyxFQUFJRixFQUFBRCxHQUNORixFQUFJTSxJQUFJRCxFQUFLbEQsUUFDZDZDLEVBQUlPLElBQUlGLEVBQUtsRCxNQUFNLEdBQ25CNEIsS0FBS1MsU0FBU2dCLEtBQUtILElBSzNCLElBRkF0QixLQUFLMEIsS0FBTzFCLEtBQUtTLFNBQVNHLEtBQUssU0FBQ0MsRUFBR0MsR0FBTSxPQUFBRCxFQUFFL0IsTUFBUWdDLEVBQUVoQyxRQUFPLEdBQzVENkMsUUFBUUMsSUFBUTFCLEVBQUtRLFVBQ2JWLEtBQUs2QixxQkFBcUI3QixLQUFLUyxXQUFXLENBQzlDLElBQUlxQixFQUFRNUIsRUFBTTZCLE1BRWxCLEdBREEvQixLQUFLUSxjQUFjaUIsS0FBS0ssR0FDcEI5QixLQUFLNkIscUJBQXFCN0IsS0FBS1MsVUFBVyxDQUUxQyxJQURBLElBQUl1QixPQUFJLEVBQUVDLEVBQU9ELEVBQVdoQyxLQUFLUSxjQUFhRSxRQUNyQ3NCLEdBQ0xDLEVBQU9ELEVBQ1BBLEVBQU9oQyxLQUFLa0MsWUFBWUYsR0FFeEJDLEVBQUtaLE9BQVNyQixLQUFLUSxjQUFjYSxTQUNqQ3JCLEtBQUtRLGNBQWdCeUIsSUFJakNOLFFBQVFDLElBQUk1QixLQUFLUSxlQXFGekIsT0FsSklGLEVBQUFiLFVBQUFvQyxxQkFBQSxTQUFxQnBCLEVBQVVELFFBQUEsSUFBQUEsTUFBZ0JSLEtBQUtRLGVBSWhELElBSEEsSUFBTTJCLEVBQVMsR0FDVHhCLEVBQVFILEVBQWNRLFFBQVEsU0FBQWxELEdBQUssT0FBQUEsRUFBRXNDLFFBQ3JDYSxFQUFNLElBQUlDLElBQ0dDLEVBQUEsRUFBQWlCLEVBQUF6QixFQUFBUSxFQUFBaUIsRUFBQWYsT0FBQUYsSUFBTyxDQUFyQixJQUFNRyxFQUFJYyxFQUFBakIsR0FDTkYsRUFBSU0sSUFBSUQsRUFBS2xELFFBQ2Q2QyxFQUFJTyxJQUFJRixFQUFLbEQsTUFBTSxHQUNuQitELEVBQU9WLEtBQUtILElBR3BCLElBQ0lPLEVBREFRLEVBQXNCRixFQUFPZCxTQUFXWixFQUFTWSxPQUVyRCxHQUFJZ0IsRUFBcUIsQ0FDckIsSUFBSUMsRUFBa0J0QyxLQUFLUyxTQUFRQyxRQU83QjZCLEVBQVcsU0FBQ0MsR0FEQyxJQUFDQyxJQUVMRCxFQUZjRixFQUFZSSxPQUFPSixFQUFZSyxVQUFVLFNBQUFyRCxHQUFLLE9BQUFBLEVBQUVsQixPQUFTcUUsRUFBS3JFLE9BQU8sR0FKdkUsU0FBQ3FFLEdBQVMsT0FBQWpDLEVBQ2hDb0MsT0FBTyxTQUFBQyxHQUFRLE9BQXFELElBQXJEQSxFQUFLekMsTUFBTXVDLFVBQVUsU0FBQXJELEdBQUssT0FBQUEsRUFBRWxCLE9BQVNxRSxFQUFLckUsU0FDekQ0QyxRQUFRLFNBQUE2QixHQUFRLE9BQUFBLEVBQUt6QyxNQUFNMEMsS0FBSyxTQUFBeEQsR0FBSyxPQUFBQSxFQUFFbEIsT0FBU3FFLEVBQUtyRSxTQUNyRHdFLE9BQU8sU0FBQXRELEdBQUssT0FBcUQsSUFBckRnRCxFQUFZSyxVQUFVLFNBQUFJLEdBQU0sT0FBQUEsRUFBRzNFLE9BQVNrQixFQUFFbEIsU0FJckM0RSxDQUFtQlIsR0FDM0JTLFFBQVEsU0FBQUMsR0FBUSxPQUFBWCxFQUFTVyxNQUV2Q1gsRUFBU3ZDLEtBQUswQixNQUNkRyxFQVo4QyxJQUF2QlMsRUFBWWpCLE9BY3ZDLE9BQU9nQixHQUF1QlIsR0FvQzFCdkIsRUFBQWIsVUFBQXlDLFlBQVIsU0FBb0IxQixHQUVoQixJQURBLElBQUkyQyxhQUNPckYsR0FDUCxJQUFJc0YsRUFBc0I1QyxFQUFhRSxRQUV2QyxHQURBMEMsRUFBZ0JWLE9BQU9VLEVBQWdCVCxVQUFVLFNBQUFFLEdBQVEsT0FBQUEsSUFBUy9FLElBQUksR0FDbEV1RixFQUFLeEIscUJBQXFCd0IsRUFBSzVDLFNBQVUyQyxVQUN6Q0QsRUFBTUMsa0JBSkVqQyxFQUFBLEVBQUFtQyxFQUFBOUMsRUFBQVcsRUFBQW1DLEVBQUFqQyxPQUFBRixJQUFhLGdCQUFqQm1DLEVBQUFuQyxVQVFaLE9BQU9nQyxHQUdYN0MsRUFBQWIsVUFBQThELGFBQUEsV0FDSSxJQUFNQyxFQUFTeEQsS0FBS1EsY0FBY1MsSUFBSSxTQUFBNEIsR0FDbEMsT0FBTyxJQUFJMUMsRUFBZTBDLEVBQUt6QyxNQUFNUSxLQUFLLFNBQUNDLEVBQUdDLEdBQ3RDLE9BQUlELEVBQUV6QyxLQUFPMEMsRUFBRTFDLE1BQ0gsRUFFUnlDLEVBQUV6QyxLQUFPMEMsRUFBRTFDLEtBQ0osRUFFSixJQUNQeUUsRUFBSzlDLFFBRWRhLEtBQUssU0FBQ0MsRUFBR0MsR0FDUixHQUFJRCxFQUFFVCxNQUFNLEdBQUdoQyxLQUFPMEMsRUFBRVYsTUFBTSxHQUFHaEMsS0FDN0IsT0FBUSxFQUVaLEdBQUl5QyxFQUFFVCxNQUFNLEdBQUdoQyxLQUFPMEMsRUFBRVYsTUFBTSxHQUFHaEMsS0FDN0IsT0FBTyxFQUVYLEdBQUl5QyxFQUFFVCxNQUFNLEdBQUdoQyxPQUFTMEMsRUFBRVYsTUFBTSxHQUFHaEMsS0FBTSxDQUNyQyxHQUFJeUMsRUFBRVQsTUFBTSxHQUFHaEMsS0FBTzBDLEVBQUVWLE1BQU0sR0FBR2hDLEtBQzdCLE9BQVEsRUFFWixHQUFJeUMsRUFBRVQsTUFBTSxHQUFHaEMsS0FBTzBDLEVBQUVWLE1BQU0sR0FBR2hDLEtBQzdCLE9BQU8sRUFHZixPQUFPLElBRVBxRixFQUFNLEdBSVYsT0FIQUQsRUFBT1AsUUFBUSxTQUFBSixHQUNYWSxHQUFVWixFQUFLekMsTUFBTSxHQUFHaEMsS0FBSSxNQUFNeUUsRUFBS3pDLE1BQU0sR0FBR2hDLEtBQUksVUFFakRxRixHQUdYbkQsRUFBQWIsVUFBQWlFLGdCQUFBLFNBQWdCdEYsR0FBaEIsSUFBQXVGLEVBQUEzRCxLQUNVeUQsRUFHQSxHQU9OLE9BTkF6RCxLQUFLUyxTQUFTbUMsT0FBTyxTQUFBdEQsR0FBSyxPQUFBQSxFQUFFbEIsT0FBU0EsSUFBTTZFLFFBQVEsU0FBQVIsR0FDL0NnQixFQUFJaEMsS0FBSyxDQUNMbUMsT0FBUW5CLEVBQUtyRSxLQUNieUYsUUFBU0YsRUFBS0csV0FBVzFGLEVBQU1xRSxFQUFLckUsVUFHckNxRixHQUdIbkQsRUFBQWIsVUFBQXFFLFdBQVIsU0FBbUJDLEVBQWNDLEVBQVlILEVBQWtCSSxRQUFBLElBQUFBLE1BQUEsSUFDM0R0QyxRQUFRQyxJQUFJbUMsRUFBTUMsRUFBSUgsR0FDdEJJLEVBQUt4QyxLQUFLc0MsR0FDVixJQUFNRyxFQUFVbEUsS0FBS1EsY0FBY29DLE9BQU8sU0FBQTlFLEdBQUssT0FBNkMsSUFBN0NBLEVBQUVzQyxNQUFNdUMsVUFBVSxTQUFBckQsR0FBSyxPQUFBQSxFQUFFbEIsT0FBUzJGLE1BRWpGLElBRG1HLElBQTFFRyxFQUFRdkIsVUFBVSxTQUFBNUQsR0FBSyxPQUEyQyxJQUEzQ0EsRUFBRXFCLE1BQU11QyxVQUFVLFNBQUFyRCxHQUFLLE9BQUFBLEVBQUVsQixPQUFTNEYsTUFFOUUsT0FBUUgsR0FBVUcsRUFFbEIsSUFBcUIsSUFBQTdDLEVBQUEsRUFBQWdELEVBQUFELEVBQUEvQyxFQUFBZ0QsRUFBQTlDLE9BQUFGLElBQVMsQ0FBekIsSUFDSzdCLEVBRE82RSxFQUFBaEQsR0FDSWYsTUFBTTBDLEtBQUssU0FBQXhELEdBQUssT0FBQUEsRUFBRWxCLE9BQVMyRixJQUFNM0YsS0FDbEQsSUFBeUIsSUFBckI2RixFQUFLRyxRQUFROUUsR0FBVyxDQUN4QixJQUFNbUUsRUFBTXpELEtBQUs4RCxXQUFXeEUsRUFBRzBFLEVBQUtILEdBQVV2RSxFQUFpQjJFLEVBQUl2RCxTQUNuRSxHQUFNK0MsRUFDSCxPQUFPQSxLQU05Qm5ELEVBdkpBLCt5Q0NPQStELEVBQUEsV0EwQkksU0FBQUMsRUFBWWxHLEVBQWNVLEVBQWV5RixFQUFrQ0MsR0FBM0UsSUFBQWIsRUFBQTNELEtBaEJPQSxLQUFBeUUsUUFBeUIsV0FBTSxPQUFDZCxFQUFLZSxLQUNyQzFFLEtBQUEyRSxpQkFHRCxHQU1DM0UsS0FBQTRFLGdCQUFpQixFQUNqQjVFLEtBQUE2RSxTQUFxQixHQU14QjdFLEtBQUs1QixLQUFPQSxFQUNaNEIsS0FBS2xCLE1BQVFBLEVBQ2JrQixLQUFLdUUsV0FBYUEsRUFDbEJ2RSxLQUFLdUUsV0FBV08sUUFBUUMsVUFBVSxTQUFDQyxHQUFRLE9BQUFyQixFQUFLbUIsUUFBUUUsS0FDeERoRixLQUFLd0UsWUFBYyxXQUFNLE9BQUFBLEVBQVliLElBOEo3QyxPQTNKaUJXLEVBQUE3RSxVQUFBd0YsYUFBYixnSEFHb0IsT0FGaEJqRixLQUFLNEUsZ0JBQWlCLEVBQ3RCNUUsS0FBS3dFLGNBQ1csR0FBTXhFLEtBQUt1RSxXQUFXVyxvQkFBbENDLEVBQVlDLEVBQUFDLE9BQ2hCckYsS0FBS3NGLG9CQUFzQkgsRUFDM0JBLEVBQVNsQyxRQUFRLFNBQUFXLEdBQ2JELEVBQUs0QixLQUFLLENBQ05DLFNBQVUsT0FDVkMsUUFBUyxDQUNMQyxRQUFTLDhGQUNUM0IsS0FBTSxDQUFDM0YsS0FBTXVGLEVBQUt2RixLQUFNVSxNQUFPNkUsRUFBSzdFLFFBRXhDOEUsT0FBTUEsZ0JBTVhVLEVBQUE3RSxVQUFBOEYsS0FBUCxTQUFZUCxHQUNSQSxFQUFJVyxPQUFTM0YsS0FBSzVCLEtBQ2xCNEIsS0FBS3VFLFdBQVdnQixLQUFLckMsS0FBSzhCLElBR3ZCVixFQUFBN0UsVUFBQW1HLGtCQUFQLFNBQXlCWixHQUF6QixNQUFBckIsRUFBQTNELEtBYUksR0FYR2dGLEVBQUlTLFFBQVFJLE1BRVhiLEVBQUlTLFFBQVFJLElBQVViLEVBQUlTLFFBQVFJLElBQUduRixRQUNyQ1YsS0FBSzhGLFVBQVVkLEVBQUlTLFFBQVFJLEtBQzNCN0YsS0FBS3dFLGNBRUZRLEVBQUllLGNBQWdCL0YsS0FBSzVCLE9BQ3hCNEcsRUFBSXBCLE9BQVM1RCxLQUFLZ0csY0FBY2xELEtBQUssU0FBQWpGLEdBQUssT0FBQUEsRUFBRStGLFNBQVdvQixFQUFJZSxjQUFhbEMsUUFDeEU3RCxLQUFLdUYsS0FBS1AsT0FHZGhGLEtBQUtpRyxTQUFXakcsS0FBSzRFLGdCQUFtQkksRUFBSVMsUUFBUTFCLE1BQXhELENBNENBLEdBMUNxQyxJQUFqQy9ELEtBQUsyRSxpQkFBaUJ0RCxRQUFpQnJCLEtBQUs0RSxpQkFDNUM1RSxLQUFLdUUsV0FBV1csS0FBS2dCLEtBQUssU0FBQUMsR0FXdEIsR0FWQXhDLEVBQUsyQixvQkFBc0JhLEVBQVF2RCxPQUFPLFNBQUF4RSxHQUFRLE9BQUFBLElBQVM0RyxFQUFJUyxRQUFRMUIsS0FBSzNGLE9BQzVFdUYsRUFBS2EsY0FDTGIsRUFBSzJCLG9CQUFvQnJDLFFBQVEsU0FBQVcsR0FBVSxPQUFBRCxFQUFLNEIsS0FBSyxDQUNqREMsU0FBVSxPQUNWQyxRQUFTLENBQ0xDLFFBQVMsOEZBQ1QzQixLQUFNLENBQUMzRixLQUFNdUYsRUFBS3ZGLEtBQU1VLE1BQU82RSxFQUFLN0UsUUFFeEM4RSxPQUFNQSxNQUU4QixJQUFwQ0QsRUFBSzJCLG9CQUFvQmpFLE9BQWMsQ0FDdkMsSUFBTXdELEVBQVdsQixFQUFLZ0IsaUJBQWlCLEdBQUd2RSxNQUFNMEMsS0FBSyxTQUFBeEQsR0FBSyxPQUFBQSxFQUFFbEIsT0FBU3VGLEVBQUt2RixPQVcxRSxHQVZBdUYsRUFBS2EsY0FDTGIsRUFBSzRCLEtBQUssQ0FDTkMsU0FBVSxPQUNWQyxRQUFTLENBQ0xDLFFBQVMsaUdBQ1RVLGdCQUFpQnpDLEVBQUtnQixrQkFFMUJmLE9BQVFpQixFQUFTekcsT0FFckJ1RixFQUFLc0MsU0FBVSxFQUNWdEMsRUFBS2lCLGVBRUgsQ0FDSCxJQUFNaUIsRUFBTSxJQUFJeEYsRUFBZ0JzRCxFQUFLZ0Isa0JBQ3JDaEIsRUFBS2UsSUFBTW1CLEVBQ1hsQyxFQUFLcUMsY0FBZ0JyQyxFQUFLZSxJQUFJaEIsZ0JBQWdCQyxFQUFLdkYsTUFDbkR1RixFQUFLWSxXQUFXOEIsaUJBQWlCbkQsS0FBSzJDLFFBTHRDbEMsRUFBS1ksV0FBVzhCLGlCQUFpQm5ELE9BT3JDUyxFQUFLYSxpQkFHYnhFLEtBQUsyRSxpQkFBaUJsRCxLQUFLLENBQ3ZCMUIsS0FBTWlGLEVBQUlqRixLQUNWSyxNQUFPLENBQUMsQ0FBQ2hDLEtBQU00QixLQUFLNUIsS0FBTVUsTUFBT2tCLEtBQUtsQixPQUFRa0csRUFBSVMsUUFBUTFCLFFBRTlEL0QsS0FBSzZFLFNBQVNwRCxLQUFLdUQsRUFBSVMsUUFBUTFCLEtBQUszRixNQUNwQzRCLEtBQUt3RSxlQUVMeEUsS0FBS3NGLHFCQUF5Qk4sRUFBSVMsUUFBUVcsZ0JBQWlCLENBQzNELElBQU1FLEVBQU90QixFQUFJUyxRQUFRVyxnQkFBZ0IsR0FBR2hHLE1BQU0wQyxLQUFLLFNBQUF4RCxHQUFLLE9BQUFBLEVBQUVsQixPQUFTdUYsRUFBS3ZGLE9BQzVFNEIsS0FBS3NGLG9CQUFvQjVDLE9BQU8xQyxLQUFLc0Ysb0JBQW9CM0MsVUFBVSxTQUFBckQsR0FBSyxPQUFBQSxJQUFNZ0gsSUFBTyxJQUNyRmxCLEVBQUFwRixLQUFLMkUsa0JBQWlCbEQsS0FBSThFLE1BQUFuQixFQUFJSixFQUFJUyxRQUFRVyxzQkFDbkNwRyxLQUFLc0YscUJBQXVCTixFQUFJUyxRQUFRMUIsT0FDL0MvRCxLQUFLc0Ysb0JBQW9CNUMsT0FBTzFDLEtBQUtzRixvQkFBb0IzQyxVQUFVLFNBQUFyRCxHQUFLLE9BQUFBLElBQU0wRixFQUFJUyxRQUFRMUIsS0FBSzNGLE9BQU8sR0FDdEc0QixLQUFLNkUsU0FBU3BELEtBQUt1RCxFQUFJUyxRQUFRMUIsS0FBSzNGLE1BQ3BDNEIsS0FBSzJFLGlCQUFpQmxELEtBQUssQ0FDdkIxQixLQUFNaUYsRUFBSWpGLEtBQ1ZLLE1BQU8sQ0FBQyxDQUFDaEMsS0FBTTRCLEtBQUs1QixLQUFNVSxNQUFPa0IsS0FBS2xCLE9BQVFrRyxFQUFJUyxRQUFRMUIsU0FLbEUsR0FGQS9ELEtBQUt3RSxjQUVDeEUsS0FBS3NGLHFCQUEyRCxJQUFwQ3RGLEtBQUtzRixvQkFBb0JqRSxPQUFjLENBWXJFLEdBWEFyQixLQUFLNkUsU0FBUzVCLFFBQVEsU0FBQVcsR0FDbEJELEVBQUs0QixLQUFLLENBQ05DLFNBQVUsT0FDVkMsUUFBUyxDQUNMQyxRQUFTLGlHQUNUVSxnQkFBaUJ6QyxFQUFLZ0Isa0JBRTFCZixPQUFNQSxNQUdkNUQsS0FBS2lHLFNBQVUsRUFDVmpHLEtBQUs0RSxlQUVILENBQ0gsSUFBTTRCLEVBQVEsR0FDZHhHLEtBQUsyRSxpQkFBaUIxQixRQUFRLFNBQUFuRixHQUNyQjBJLEVBQU0xRCxLQUFLLFNBQUFELEdBQVEsT0FBMkQsSUFBM0QvRSxFQUFFc0MsTUFBTXVDLFVBQVUsU0FBQXJELEdBQUssT0FBQUEsRUFBRWxCLE9BQVN5RSxFQUFLekMsTUFBTSxHQUFHaEMsU0FBMkUsSUFBM0ROLEVBQUVzQyxNQUFNdUMsVUFBVSxTQUFBckQsR0FBSyxPQUFBQSxFQUFFbEIsT0FBU3lFLEVBQUt6QyxNQUFNLEdBQUdoQyxVQUNwSW9JLEVBQU0vRSxLQUFLM0QsS0FHbkIsSUFBSTJJLEVBQWVELEVBQUs5RixRQUN4QlYsS0FBSzhGLFVBQVVXLEdBQ2Z6RyxLQUFLZ0csY0FBYy9DLFFBQVEsU0FBQzNCLEdBQ3hCcUMsRUFBSzRCLEtBQUssQ0FDTkMsU0FBVSxPQUNWQyxRQUFTLENBQ0xDLFFBQVMsOEZBQ1RHLElBQUtZLEdBRVQ3QyxPQUFRdEMsRUFBS3VDLFFBQ2JrQyxZQUFhekUsRUFBS3NDLGdCQWxCMUI1RCxLQUFLdUUsV0FBVzhCLGlCQUFpQm5ELE9Bc0JyQ2xELEtBQUt3RSxpQkFHTEYsRUFBQTdFLFVBQUFxRyxVQUFSLFNBQWtCNUYsR0FDZCxJQUFNMkYsRUFBTSxJQUFJeEYsRUFBZ0JILEdBQ2hDRixLQUFLMEUsSUFBTW1CLEVBQ1g3RixLQUFLZ0csY0FBZ0JoRyxLQUFLMEUsSUFBSWhCLGdCQUFnQjFELEtBQUs1QixNQUNuRDRCLEtBQUt1RSxXQUFXOEIsaUJBQWlCbkQsS0FBSzJDLElBR25DdkIsRUFBQTdFLFVBQUFxRixRQUFQLFNBQWVFLEdBQ1UsU0FBakJBLEVBQUlRLFNBQ0p4RixLQUFLNEYsa0JBQWtCWixHQUV2QmhGLEtBQUswRyxjQUFjMUIsSUFJbkJWLEVBQUE3RSxVQUFBaUgsY0FBUixTQUFzQjFCLEdBQ2ZoRixLQUFLNUIsT0FBUzRHLEVBQUllLFlBQ2pCWSxNQUFNM0csS0FBSzVCLEtBQU0seUJBQTBCNEcsRUFBSVMsVUFFL0NULEVBQUlwQixPQUFTNUQsS0FBS2dHLGNBQWNsRCxLQUFLLFNBQUFqRixHQUFLLE9BQUFBLEVBQUUrRixTQUFXb0IsRUFBSWUsY0FBYWxDLFFBQ3hFN0QsS0FBS3VGLEtBQUtQLEtBR3RCVixFQTdMQSxHQ09Bc0MsRUFBQSxTQUFBekksRUFBQTJDLEdBSUEsT0FIQThGLEVBQUFySSxPQUFBc0ksZ0JBQ0EsQ0FBVUMsVUFBQSxjQUFnQkMsT0FBQSxTQUFBNUksRUFBQTJDLEdBQXNDM0MsRUFBQTJJLFVBQUFoRyxJQUNoRSxTQUFBM0MsRUFBQTJDLEdBQXlCLFFBQUFuQixLQUFBbUIsSUFBQXBCLGVBQUFDLEtBQUF4QixFQUFBd0IsR0FBQW1CLEVBQUFuQixNQUN6QnhCLEVBQUEyQyxJQUdPLFNBQUFrRyxFQUFBN0ksRUFBQTJDLEdBRVAsU0FBQW1HLElBQW1CakgsS0FBQWtILFlBQUEvSSxFQURuQnlJLEVBQUF6SSxFQUFBMkMsR0FFQTNDLEVBQUFzQixVQUFBLE9BQUFxQixFQUFBdkMsT0FBQVksT0FBQTJCLElBQUFtRyxFQUFBeEgsVUFBQXFCLEVBQUFyQixVQUFBLElBQUF3SCxHQ3pCTyxTQUFBRSxFQUFBQyxHQUNQLHlCQUFBQSxFQ0RBLElBQUFDLEdBQUEsRUFDT0MsRUFBQSxDQUNQQyxhQUFBQyxFQUNBQywwQ0FBQTNJLEdBQ0FBLElBQ0EsSUFBQTRJLE9BQ0FDLE1BS0FOLEVBQUF2SSxHQUVBMkksNENBQ0EsT0FBQUosSUNkTyxTQUFBTyxFQUFBQyxHQUNQQyxXQUFBLFdBQTRCLE1BQUFELElDQ3JCLElBQUFFLEVBQUEsQ0FDUEMsUUFBQSxFQUNBOUUsS0FBQSxTQUFBcEUsS0FDQW1KLE1BQUEsU0FBQUosR0FDQSxHQUFZUCxFQUFNRyxzQ0FDbEIsTUFBQUksRUFHWUQsRUFBZUMsSUFHM0JLLFNBQUEsY0NiT0MsRUFBQXBCLE1BQUFvQixTQUFBLFNBQUFmLEdBQThDLE9BQUFBLEdBQUEsaUJBQUFBLEVBQUEvRixRQ0FyRCxTQUFBK0csRUFBQUMsR0FNQSxPQUxBWCxNQUFBMUosS0FBQWdDLE1BQ0FBLEtBQUEwRixRQUFBMkMsRUFDQUEsRUFBQWhILE9BQUEsNENBQUFnSCxFQUFBcEgsSUFBQSxTQUFBNEcsRUFBQWhLLEdBQW9HLE9BQUFBLEVBQUEsT0FBQWdLLEVBQUFTLGFBQXdDQyxLQUFBLFdBQzVJdkksS0FBQTVCLEtBQUEsc0JBQ0E0QixLQUFBcUksU0FDQXJJLEtBRUFvSSxFQUFBM0ksVUFBQWxCLE9BQUFZLE9BQUF1SSxNQUFBakksV0FDTyxJQUFBK0ksRUFBQUosRUNMSEssRUFBWSxXQUNoQixTQUFBQyxFQUFBQyxHQUNBM0ksS0FBQWdJLFFBQUEsRUFDQWhJLEtBQUE0SSxRQUFBLEtBQ0E1SSxLQUFBNkksU0FBQSxLQUNBN0ksS0FBQThJLGVBQUEsS0FDQUgsSUFDQTNJLEtBQUErSSxhQUFBSixHQXdIQSxJQUFBWixFQUlBLE9BekhBVyxFQUFBakosVUFBQWtKLFlBQUEsV0FDQSxJQUNBTixFQURBVyxHQUFBLEVBRUEsSUFBQWhKLEtBQUFnSSxPQUFBLENBR0EsSUFBQVksRUFBQTVJLEtBQUE0SSxRQUFBQyxFQUFBN0ksS0FBQTZJLFNBQUFFLEVBQUEvSSxLQUFBK0ksYUFBQUQsRUFBQTlJLEtBQUE4SSxlQUNBOUksS0FBQWdJLFFBQUEsRUFDQWhJLEtBQUE0SSxRQUFBLEtBQ0E1SSxLQUFBNkksU0FBQSxLQUNBN0ksS0FBQThJLGVBQUEsS0FHQSxJQUZBLElDekJPMUIsRUR5QlA2QixHQUFBLEVBQ0FDLEVBQUFMLElBQUF4SCxPQUFBLEVBQ0F1SCxHQUNBQSxFQUFBTyxPQUFBbkosTUFDQTRJLElBQUFLLEVBQUFDLEdBQUFMLEVBQUFJLElBQUEsS0FFQSxHQUFZOUIsRUFBVTRCLEdBQ3RCLElBQ0FBLEVBQUEvSyxLQUFBZ0MsTUFFQSxNQUFBb0osR0FDQUosR0FBQSxFQUNBWCxFQUFBZSxhQUFzQ1osRUFBbUJhLEVBQUFELEVBQUFmLFFBQUEsQ0FBQWUsR0FHekQsR0FBWWpCLEVBQU9XLEdBR25CLElBRkFHLEdBQUEsRUFDQUMsRUFBQUosRUFBQXpILFNBQ0E0SCxFQUFBQyxHQUFBLENBQ0EsSUFBQUksRUFBQVIsRUFBQUcsR0FDQSxHQzVDQSxRQURPN0IsRUQ2Q3FCa0MsSUM1QzVCLGlCQUFBbEMsRUQ2Q0EsSUFDQWtDLEVBQUFYLGNBRUEsTUFBQVMsR0FDQUosR0FBQSxFQUNBWCxLQUFBLEdBQ0FlLGFBQXlDWixFQUN6Q0gsSUFBQWtCLE9BQUFGLEVBQUFELEVBQUFmLFNBR0FBLEVBQUE1RyxLQUFBMkgsSUFNQSxHQUFBSixFQUNBLFVBQXNCUixFQUFtQkgsS0FHekNLLEVBQUFqSixVQUFBK0osSUFBQSxTQUFBQyxHQUNBLElBQUFDLEVBQUFELEVBQ0EsY0FBQUEsR0FDQSxlQUNBQyxFQUFBLElBQUFoQixFQUFBZSxHQUNBLGFBQ0EsR0FBQUMsSUFBQTFKLE1BQUEwSixFQUFBMUIsUUFBQSxtQkFBQTBCLEVBQUFmLFlBQ0EsT0FBQWUsRUFFQSxHQUFBMUosS0FBQWdJLE9BRUEsT0FEQTBCLEVBQUFmLGNBQ0FlLEVBRUEsS0FBQUEsYUFBQWhCLEdBQUEsQ0FDQSxJQUFBaUIsRUFBQUQsR0FDQUEsRUFBQSxJQUFBaEIsR0FDQUksZUFBQSxDQUFBYSxHQUVBLE1BQ0EsUUFDQSxJQUFBRixFQUNBLE9BQUFmLEVBQUFrQixNQUVBLFVBQUFsQyxNQUFBLHlCQUFBK0IsRUFBQSwyQkFHQSxHQUFBQyxFQUFBRyxXQUFBN0osTUFBQSxDQUNBLElBQUE4SixFQUFBOUosS0FBQThJLGVBQ0FnQixFQUNBQSxFQUFBckksS0FBQWlJLEdBR0ExSixLQUFBOEksZUFBQSxDQUFBWSxHQUdBLE9BQUFBLEdBRUFoQixFQUFBakosVUFBQTBKLE9BQUEsU0FBQU8sR0FDQSxJQUFBSSxFQUFBOUosS0FBQThJLGVBQ0EsR0FBQWdCLEVBQUEsQ0FDQSxJQUFBQyxFQUFBRCxFQUFBMUYsUUFBQXNGLElBQ0EsSUFBQUssR0FDQUQsRUFBQXBILE9BQUFxSCxFQUFBLEtBSUFyQixFQUFBakosVUFBQW9LLFdBQUEsU0FBQUcsR0FDQSxJQUFBcEIsRUFBQTVJLEtBQUE0SSxRQUFBQyxFQUFBN0ksS0FBQTZJLFNBQ0EsT0FBQUQsSUFBQW9CLElBR0FwQixFQUlBQyxHQUlBLElBQUFBLEVBQUF6RSxRQUFBNEYsS0FDQW5CLEVBQUFwSCxLQUFBdUksSUFDQSxJQUxBaEssS0FBQTZJLFNBQUEsQ0FBQW1CLElBQ0EsSUFMQWhLLEtBQUE0SSxRQUFBb0IsR0FDQSxLQVlBdEIsRUFBQWtCLFFBQUE3QixFQUdLLElBQUFXLEdBRkxWLFFBQUEsRUFDQUQsR0FFQVcsRUFuSWdCLEdBc0loQixTQUFBVyxFQUFBaEIsR0FDQSxPQUFBQSxFQUFBNEIsT0FBQSxTQUFBQyxFQUFBckMsR0FBK0MsT0FBQXFDLEVBQUFYLE9BQUExQixhQUFvQ1csRUFBbUJYLEVBQUFRLE9BQUFSLElBQXdCLElFM0l2SCxJQUFBc0MsRUFBQSxtQkFBQXZMLE9BQ1BBLE9BQUEsZ0JBQ0Esa0JBQUF3TCxLQUFBQyxTQ0tJQyxFQUFVLFNBQUFDLEdBRWQsU0FBQUMsRUFBQUMsRUFBQXhDLEVBQUFDLEdBQ0EsSUFBQXZFLEVBQUE0RyxFQUFBdk0sS0FBQWdDLFlBS0EsT0FKQTJELEVBQUErRyxlQUFBLEtBQ0EvRyxFQUFBZ0gsaUJBQUEsRUFDQWhILEVBQUFpSCxvQkFBQSxFQUNBakgsRUFBQWtILFdBQUEsRUFDQUMsVUFBQXpKLFFBQ0EsT0FDQXNDLEVBQUFvQyxZQUFvQ2dDLEVBQ3BDLE1BQ0EsT0FDQSxJQUFBMEMsRUFBQSxDQUNBOUcsRUFBQW9DLFlBQXdDZ0MsRUFDeEMsTUFFQSxvQkFBQTBDLEVBQUEsQ0FDQUEsYUFBQUQsR0FDQTdHLEVBQUFpSCxtQkFBQUgsRUFBQUcsbUJBQ0FqSCxFQUFBb0MsWUFBQTBFLEVBQ0FBLEVBQUFqQixJQUFBN0YsS0FHQUEsRUFBQWlILG9CQUFBLEVBQ0FqSCxFQUFBb0MsWUFBQSxJQUFnRGdGLEVBQWNwSCxFQUFBOEcsSUFFOUQsTUFFQSxRQUNBOUcsRUFBQWlILG9CQUFBLEVBQ0FqSCxFQUFBb0MsWUFBQSxJQUF3Q2dGLEVBQWNwSCxFQUFBOEcsRUFBQXhDLEVBQUFDLEdBR3RELE9BQUF2RSxFQXNEQSxPQXZGSXFELEVBQWlCd0QsRUFBQUQsR0FtQ3JCQyxFQUFBL0ssVUFBeUIwSyxHQUFrQixXQUFpQixPQUFBbkssTUFDNUR3SyxFQUFBckwsT0FBQSxTQUFBK0QsRUFBQStFLEVBQUFDLEdBQ0EsSUFBQThDLEVBQUEsSUFBQVIsRUFBQXRILEVBQUErRSxFQUFBQyxHQUVBLE9BREE4QyxFQUFBSixvQkFBQSxFQUNBSSxHQUVBUixFQUFBL0ssVUFBQXlELEtBQUEsU0FBQXBFLEdBQ0FrQixLQUFBNkssV0FDQTdLLEtBQUFpTCxNQUFBbk0sSUFHQTBMLEVBQUEvSyxVQUFBd0ksTUFBQSxTQUFBSixHQUNBN0gsS0FBQTZLLFlBQ0E3SyxLQUFBNkssV0FBQSxFQUNBN0ssS0FBQWtMLE9BQUFyRCxLQUdBMkMsRUFBQS9LLFVBQUF5SSxTQUFBLFdBQ0FsSSxLQUFBNkssWUFDQTdLLEtBQUE2SyxXQUFBLEVBQ0E3SyxLQUFBbUwsY0FHQVgsRUFBQS9LLFVBQUFrSixZQUFBLFdBQ0EzSSxLQUFBZ0ksU0FHQWhJLEtBQUE2SyxXQUFBLEVBQ0FOLEVBQUE5SyxVQUFBa0osWUFBQTNLLEtBQUFnQyxRQUVBd0ssRUFBQS9LLFVBQUF3TCxNQUFBLFNBQUFuTSxHQUNBa0IsS0FBQStGLFlBQUE3QyxLQUFBcEUsSUFFQTBMLEVBQUEvSyxVQUFBeUwsT0FBQSxTQUFBckQsR0FDQTdILEtBQUErRixZQUFBa0MsTUFBQUosR0FDQTdILEtBQUEySSxlQUVBNkIsRUFBQS9LLFVBQUEwTCxVQUFBLFdBQ0FuTCxLQUFBK0YsWUFBQW1DLFdBQ0FsSSxLQUFBMkksZUFFQTZCLEVBQUEvSyxVQUFBMkwsdUJBQUEsV0FDQSxJQUFBeEMsRUFBQTVJLEtBQUE0SSxRQUFBQyxFQUFBN0ksS0FBQTZJLFNBUUEsT0FQQTdJLEtBQUE0SSxRQUFBLEtBQ0E1SSxLQUFBNkksU0FBQSxLQUNBN0ksS0FBQTJJLGNBQ0EzSSxLQUFBZ0ksUUFBQSxFQUNBaEksS0FBQTZLLFdBQUEsRUFDQTdLLEtBQUE0SSxVQUNBNUksS0FBQTZJLFdBQ0E3SSxNQUVBd0ssRUF4RmMsQ0F5RlovQixHQUVFc0MsRUFBYyxTQUFBUixHQUVsQixTQUFBYyxFQUFBQyxFQUFBQyxFQUFBdEQsRUFBQUMsR0FDQSxJQUVBaEYsRUFGQVMsRUFBQTRHLEVBQUF2TSxLQUFBZ0MsWUFDQTJELEVBQUEySCxvQkFFQSxJQUFBRSxFQUFBN0gsRUFvQkEsT0FuQll3RCxFQUFVb0UsR0FDdEJySSxFQUFBcUksRUFFQUEsSUFDQXJJLEVBQUFxSSxFQUFBckksS0FDQStFLEVBQUFzRCxFQUFBdEQsTUFDQUMsRUFBQXFELEVBQUFyRCxTQUNBcUQsSUFBbUN4RCxJQUVmWixHQURwQnFFLEVBQUFqTixPQUFBWSxPQUFBb00sSUFDOEI1QyxjQUM5QmhGLEVBQUE2RixJQUFBZ0MsRUFBQTdDLFlBQUF0SixLQUFBbU0sSUFFQUEsRUFBQTdDLFlBQUFoRixFQUFBZ0YsWUFBQXRKLEtBQUFzRSxLQUdBQSxFQUFBOEgsU0FBQUQsRUFDQTdILEVBQUFzSCxNQUFBL0gsRUFDQVMsRUFBQXVILE9BQUFqRCxFQUNBdEUsRUFBQXdILFVBQUFqRCxFQUNBdkUsRUEwR0EsT0FuSUlxRCxFQUFpQnFFLEVBQUFkLEdBMkJyQmMsRUFBQTVMLFVBQUF5RCxLQUFBLFNBQUFwRSxHQUNBLElBQUFrQixLQUFBNkssV0FBQTdLLEtBQUFpTCxNQUFBLENBQ0EsSUFBQUssRUFBQXRMLEtBQUFzTCxrQkFDaUJoRSxFQUFNRyx1Q0FBQTZELEVBQUFWLG1CQUd2QjVLLEtBQUEwTCxnQkFBQUosRUFBQXRMLEtBQUFpTCxNQUFBbk0sSUFDQWtCLEtBQUEySSxjQUhBM0ksS0FBQTJMLGFBQUEzTCxLQUFBaUwsTUFBQW5NLEtBT0F1TSxFQUFBNUwsVUFBQXdJLE1BQUEsU0FBQUosR0FDQSxJQUFBN0gsS0FBQTZLLFVBQUEsQ0FDQSxJQUFBUyxFQUFBdEwsS0FBQXNMLGtCQUNBN0QsRUFBd0RILEVBQU1HLHNDQUM5RCxHQUFBekgsS0FBQWtMLE9BQ0F6RCxHQUFBNkQsRUFBQVYsb0JBS0E1SyxLQUFBMEwsZ0JBQUFKLEVBQUF0TCxLQUFBa0wsT0FBQXJELEdBQ0E3SCxLQUFBMkksZ0JBTEEzSSxLQUFBMkwsYUFBQTNMLEtBQUFrTCxPQUFBckQsR0FDQTdILEtBQUEySSxvQkFPQSxHQUFBMkMsRUFBQVYsbUJBUUFuRCxHQUNBNkQsRUFBQVosZUFBQTdDLEVBQ0F5RCxFQUFBWCxpQkFBQSxHQUdvQi9DLEVBQWVDLEdBRW5DN0gsS0FBQTJJLGtCQWZBLENBRUEsR0FEQTNJLEtBQUEySSxjQUNBbEIsRUFDQSxNQUFBSSxFQUVnQkQsRUFBZUMsTUFjL0J3RCxFQUFBNUwsVUFBQXlJLFNBQUEsV0FDQSxJQUFBdkUsRUFBQTNELEtBQ0EsSUFBQUEsS0FBQTZLLFVBQUEsQ0FDQSxJQUFBUyxFQUFBdEwsS0FBQXNMLGtCQUNBLEdBQUF0TCxLQUFBbUwsVUFBQSxDQUNBLElBQUFTLEVBQUEsV0FBbUQsT0FBQWpJLEVBQUF3SCxVQUFBbk4sS0FBQTJGLEVBQUE4SCxXQUM5Qm5FLEVBQU1HLHVDQUFBNkQsRUFBQVYsb0JBSzNCNUssS0FBQTBMLGdCQUFBSixFQUFBTSxHQUNBNUwsS0FBQTJJLGdCQUxBM0ksS0FBQTJMLGFBQUFDLEdBQ0E1TCxLQUFBMkksb0JBUUEzSSxLQUFBMkksZ0JBSUEwQyxFQUFBNUwsVUFBQWtNLGFBQUEsU0FBQUUsRUFBQS9NLEdBQ0EsSUFDQStNLEVBQUE3TixLQUFBZ0MsS0FBQXlMLFNBQUEzTSxHQUVBLE1BQUErSSxHQUVBLEdBREE3SCxLQUFBMkksY0FDZ0JyQixFQUFNRyxzQ0FDdEIsTUFBQUksRUFHZ0JELEVBQWVDLEtBSS9Cd0QsRUFBQTVMLFVBQUFpTSxnQkFBQSxTQUFBMUIsRUFBQTZCLEVBQUEvTSxHQUNBLElBQWF3SSxFQUFNRyxzQ0FDbkIsVUFBQUMsTUFBQSxZQUVBLElBQ0FtRSxFQUFBN04sS0FBQWdDLEtBQUF5TCxTQUFBM00sR0FFQSxNQUFBK0ksR0FDQSxPQUFnQlAsRUFBTUcsdUNBQ3RCdUMsRUFBQVUsZUFBQTdDLEVBQ0FtQyxFQUFBVyxpQkFBQSxHQUNBLElBR2dCL0MsRUFBZUMsSUFDL0IsR0FHQSxVQUVBd0QsRUFBQTVMLFVBQUFzSixhQUFBLFdBQ0EsSUFBQXVDLEVBQUF0TCxLQUFBc0wsa0JBQ0F0TCxLQUFBeUwsU0FBQSxLQUNBekwsS0FBQXNMLGtCQUFBLEtBQ0FBLEVBQUEzQyxlQUVBMEMsRUFwSWtCLENBcUloQmYsR0N2T0ssSUFBSXdCLEVBQVUsbUJBQUFsTixlQUFBbU4sWUFBQSxlQ0FkLFNBQUFDLEtDUUEsU0FBQUMsRUFBQUMsR0FDUCxPQUFBQSxFQUdBLElBQUFBLEVBQUE3SyxPQUNBNkssRUFBQSxHQUVBLFNBQUFDLEdBQ0EsT0FBQUQsRUFBQWpDLE9BQUEsU0FBQW1DLEVBQUFQLEdBQStDLE9BQUFBLEVBQUFPLElBQW1CRCxJQU5uREgsRUNMZixJQUFJSyxFQUFVLFdBQ2QsU0FBQUMsRUFBQXZILEdBQ0EvRSxLQUFBdU0sV0FBQSxFQUNBeEgsSUFDQS9FLEtBQUF3TSxXQUFBekgsR0E2RkEsT0ExRkF1SCxFQUFBN00sVUFBQWdOLEtBQUEsU0FBQUMsR0FDQSxJQUFBWCxFQUFBLElBQUFPLEVBR0EsT0FGQVAsRUFBQVksT0FBQTNNLEtBQ0ErTCxFQUFBVyxXQUNBWCxHQUVBTyxFQUFBN00sVUFBQXNGLFVBQUEsU0FBQXdHLEVBQUF0RCxFQUFBQyxHQUNBLElBQUF3RSxFQUFBMU0sS0FBQTBNLFNBQ0FFLEVDakJPLFNBQUFDLEVBQUE1RSxFQUFBQyxHQUNQLEdBQUEyRSxFQUFBLENBQ0EsR0FBQUEsYUFBc0N2QyxFQUN0QyxPQUFBdUMsRUFFQSxHQUFBQSxFQUEyQjFDLEdBQzNCLE9BQUEwQyxFQUFrQzFDLEtBR2xDLE9BQUEwQyxHQUFBNUUsR0FBQUMsRUFHQSxJQUFlb0MsRUFBVXVDLEVBQUE1RSxFQUFBQyxHQUZ6QixJQUFtQm9DLEVBQVd2QyxHRE9YK0UsQ0FBWXZCLEVBQUF0RCxFQUFBQyxHQVMvQixHQVJBd0UsRUFDQUUsRUFBQXBELElBQUFrRCxFQUFBMU8sS0FBQTRPLEVBQUE1TSxLQUFBMk0sU0FHQUMsRUFBQXBELElBQUF4SixLQUFBMk0sUUFBcUNyRixFQUFNRyx3Q0FBQW1GLEVBQUFoQyxtQkFDM0M1SyxLQUFBd00sV0FBQUksR0FDQTVNLEtBQUErTSxjQUFBSCxJQUVZdEYsRUFBTUcsdUNBQ2xCbUYsRUFBQWhDLHFCQUNBZ0MsRUFBQWhDLG9CQUFBLEVBQ0FnQyxFQUFBakMsaUJBQ0EsTUFBQWlDLEVBQUFsQyxlQUlBLE9BQUFrQyxHQUVBTixFQUFBN00sVUFBQXNOLGNBQUEsU0FBQUgsR0FDQSxJQUNBLE9BQUE1TSxLQUFBd00sV0FBQUksR0FFQSxNQUFBL0UsR0FDZ0JQLEVBQU1HLHdDQUN0Qm1GLEVBQUFqQyxpQkFBQSxFQUNBaUMsRUFBQWxDLGVBQUE3QyxJRTdDTyxTQUFBbUYsR0FDUCxLQUFBQSxHQUFBLENBQ0EsSUFBQTVILEVBQUE0SCxFQUFBQyxFQUFBN0gsRUFBQTRDLE9BQUFqQyxFQUFBWCxFQUFBVyxZQUFBOEUsRUFBQXpGLEVBQUF5RixVQUNBLEdBQUFvQyxHQUFBcEMsRUFDQSxTQUdBbUMsRUFEQWpILGdCQUF1RHVFLEVBQ3ZEdkUsRUFHQSxLQUdBLFNGa0NnQm1ILENBQWNOLEdBSTlCakwsUUFBQXdMLEtBQUF0RixHQUhBK0UsRUFBQTNFLE1BQUFKLEtBT0F5RSxFQUFBN00sVUFBQXdELFFBQUEsU0FBQUMsRUFBQWtLLEdBQ0EsSUFBQXpKLEVBQUEzRCxLQUVBLFdBREFvTixFQUFBQyxFQUFBRCxJQUNBLFNBQUFFLEVBQUFDLEdBQ0EsSUFBQTdELEVBQ0FBLEVBQUEvRixFQUFBb0IsVUFBQSxTQUFBakcsR0FDQSxJQUNBb0UsRUFBQXBFLEdBRUEsTUFBQStJLEdBQ0EwRixFQUFBMUYsR0FDQTZCLEdBQ0FBLEVBQUFmLGdCQUdhNEUsRUFBQUQsTUFHYmhCLEVBQUE3TSxVQUFBK00sV0FBQSxTQUFBeEIsR0FDQSxJQUFBMkIsRUFBQTNNLEtBQUEyTSxPQUNBLE9BQUFBLEtBQUE1SCxVQUFBaUcsSUFFQXNCLEVBQUE3TSxVQUF5QnFNLEdBQWlCLFdBQzFDLE9BQUE5TCxNQUVBc00sRUFBQTdNLFVBQUErTixLQUFBLFdBRUEsSUFEQSxJQUFBQyxFQUFBLEdBQ0F0TSxFQUFBLEVBQXdCQSxFQUFBMkosVUFBQXpKLE9BQXVCRixJQUMvQ3NNLEVBQUF0TSxHQUFBMkosVUFBQTNKLEdBRUEsV0FBQXNNLEVBQUFwTSxPQUNBckIsS0FFZWlNLEVBQWF3QixFQUFieEIsQ0FBYWpNLE9BRTVCc00sRUFBQTdNLFVBQUFpTyxVQUFBLFNBQUFOLEdBQ0EsSUFBQXpKLEVBQUEzRCxLQUVBLFdBREFvTixFQUFBQyxFQUFBRCxJQUNBLFNBQUFFLEVBQUFDLEdBQ0EsSUFBQXpPLEVBQ0E2RSxFQUFBb0IsVUFBQSxTQUFBcUMsR0FBMEMsT0FBQXRJLEVBQUFzSSxHQUFvQixTQUFBUyxHQUFrQixPQUFBMEYsRUFBQTFGLElBQXNCLFdBQWUsT0FBQXlGLEVBQUF4TyxRQUdySHdOLEVBQUFuTixPQUFBLFNBQUE0RixHQUNBLFdBQUF1SCxFQUFBdkgsSUFFQXVILEVBakdjLEdBb0dkLFNBQUFlLEVBQUFELEdBSUEsR0FIQUEsSUFDQUEsRUFBc0I5RixFQUFNQyxtQkFFNUI2RixFQUNBLFVBQUExRixNQUFBLHlCQUVBLE9BQUEwRixFR2hIQSxTQUFBTyxJQUlBLE9BSEFqRyxNQUFBMUosS0FBQWdDLE1BQ0FBLEtBQUEwRixRQUFBLHNCQUNBMUYsS0FBQTVCLEtBQUEsMEJBQ0E0QixLQUVBMk4sRUFBQWxPLFVBQUFsQixPQUFBWSxPQUFBdUksTUFBQWpJLFdBQ08sSUFBQW1PLEVBQUFELEVDTEhFLEVBQW1CLFNBQUF0RCxHQUV2QixTQUFBdUQsRUFBQUMsRUFBQS9DLEdBQ0EsSUFBQXJILEVBQUE0RyxFQUFBdk0sS0FBQWdDLFlBSUEsT0FIQTJELEVBQUFvSyxVQUNBcEssRUFBQXFILGFBQ0FySCxFQUFBcUUsUUFBQSxFQUNBckUsRUFrQkEsT0F4QklxRCxFQUFpQjhHLEVBQUF2RCxHQVFyQnVELEVBQUFyTyxVQUFBa0osWUFBQSxXQUNBLElBQUEzSSxLQUFBZ0ksT0FBQSxDQUdBaEksS0FBQWdJLFFBQUEsRUFDQSxJQUFBK0YsRUFBQS9OLEtBQUErTixRQUNBQyxFQUFBRCxFQUFBQyxVQUVBLEdBREFoTyxLQUFBK04sUUFBQSxLQUNBQyxHQUFBLElBQUFBLEVBQUEzTSxTQUFBME0sRUFBQWxELFlBQUFrRCxFQUFBL0YsT0FBQSxDQUdBLElBQUFpRyxFQUFBRCxFQUFBNUosUUFBQXBFLEtBQUFnTCxhQUNBLElBQUFpRCxHQUNBRCxFQUFBdEwsT0FBQXVMLEVBQUEsTUFHQUgsRUF6QnVCLENBMEJyQnJGLEdDckJFeUYsRUFBaUIsU0FBQTNELEdBRXJCLFNBQUE0RCxFQUFBcEksR0FDQSxJQUFBcEMsRUFBQTRHLEVBQUF2TSxLQUFBZ0MsS0FBQStGLElBQUEvRixLQUVBLE9BREEyRCxFQUFBb0MsY0FDQXBDLEVBRUEsT0FOSXFELEVBQWlCbUgsRUFBQTVELEdBTXJCNEQsRUFQcUIsQ0FRbkI3RCxHQUVFOEQsRUFBTyxTQUFBN0QsR0FFWCxTQUFBOEQsSUFDQSxJQUFBMUssRUFBQTRHLEVBQUF2TSxLQUFBZ0MsWUFNQSxPQUxBMkQsRUFBQXFLLFVBQUEsR0FDQXJLLEVBQUFxRSxRQUFBLEVBQ0FyRSxFQUFBa0gsV0FBQSxFQUNBbEgsRUFBQTJLLFVBQUEsRUFDQTNLLEVBQUE0SyxZQUFBLEtBQ0E1SyxFQXlGQSxPQWpHSXFELEVBQWlCcUgsRUFBQTlELEdBVXJCOEQsRUFBQTVPLFVBQXNCMEssR0FBa0IsV0FDeEMsV0FBbUIrRCxFQUFpQmxPLE9BRXBDcU8sRUFBQTVPLFVBQUFnTixLQUFBLFNBQUFDLEdBQ0EsSUFBQXFCLEVBQUEsSUFBMEJTLEVBQWdCeE8sV0FFMUMsT0FEQStOLEVBQUFyQixXQUNBcUIsR0FFQU0sRUFBQTVPLFVBQUF5RCxLQUFBLFNBQUFwRSxHQUNBLEdBQUFrQixLQUFBZ0ksT0FDQSxVQUFzQjRGLEVBRXRCLElBQUE1TixLQUFBNkssVUFJQSxJQUhBLElBQUFtRCxFQUFBaE8sS0FBQWdPLFVBQ0E5RSxFQUFBOEUsRUFBQTNNLE9BQ0FvTixFQUFBVCxFQUFBdE4sUUFDQTdDLEVBQUEsRUFBMkJBLEVBQUFxTCxFQUFTckwsSUFDcEM0USxFQUFBNVEsR0FBQXFGLEtBQUFwRSxJQUlBdVAsRUFBQTVPLFVBQUF3SSxNQUFBLFNBQUFKLEdBQ0EsR0FBQTdILEtBQUFnSSxPQUNBLFVBQXNCNEYsRUFFdEI1TixLQUFBc08sVUFBQSxFQUNBdE8sS0FBQXVPLFlBQUExRyxFQUNBN0gsS0FBQTZLLFdBQUEsRUFJQSxJQUhBLElBQUFtRCxFQUFBaE8sS0FBQWdPLFVBQ0E5RSxFQUFBOEUsRUFBQTNNLE9BQ0FvTixFQUFBVCxFQUFBdE4sUUFDQTdDLEVBQUEsRUFBdUJBLEVBQUFxTCxFQUFTckwsSUFDaEM0USxFQUFBNVEsR0FBQW9LLE1BQUFKLEdBRUE3SCxLQUFBZ08sVUFBQTNNLE9BQUEsR0FFQWdOLEVBQUE1TyxVQUFBeUksU0FBQSxXQUNBLEdBQUFsSSxLQUFBZ0ksT0FDQSxVQUFzQjRGLEVBRXRCNU4sS0FBQTZLLFdBQUEsRUFJQSxJQUhBLElBQUFtRCxFQUFBaE8sS0FBQWdPLFVBQ0E5RSxFQUFBOEUsRUFBQTNNLE9BQ0FvTixFQUFBVCxFQUFBdE4sUUFDQTdDLEVBQUEsRUFBdUJBLEVBQUFxTCxFQUFTckwsSUFDaEM0USxFQUFBNVEsR0FBQXFLLFdBRUFsSSxLQUFBZ08sVUFBQTNNLE9BQUEsR0FFQWdOLEVBQUE1TyxVQUFBa0osWUFBQSxXQUNBM0ksS0FBQTZLLFdBQUEsRUFDQTdLLEtBQUFnSSxRQUFBLEVBQ0FoSSxLQUFBZ08sVUFBQSxNQUVBSyxFQUFBNU8sVUFBQXNOLGNBQUEsU0FBQS9CLEdBQ0EsR0FBQWhMLEtBQUFnSSxPQUNBLFVBQXNCNEYsRUFHdEIsT0FBQXJELEVBQUE5SyxVQUFBc04sY0FBQS9PLEtBQUFnQyxLQUFBZ0wsSUFHQXFELEVBQUE1TyxVQUFBK00sV0FBQSxTQUFBeEIsR0FDQSxHQUFBaEwsS0FBQWdJLE9BQ0EsVUFBc0I0RixFQUV0QixPQUFBNU4sS0FBQXNPLFVBQ0F0RCxFQUFBL0MsTUFBQWpJLEtBQUF1TyxhQUNtQjlGLEVBQVltQixPQUUvQjVKLEtBQUE2SyxXQUNBRyxFQUFBOUMsV0FDbUJPLEVBQVltQixRQUcvQjVKLEtBQUFnTyxVQUFBdk0sS0FBQXVKLEdBQ0EsSUFBdUI2QyxFQUFtQjdOLEtBQUFnTCxLQUcxQ3FELEVBQUE1TyxVQUFBaVAsYUFBQSxXQUNBLElBQUEzQyxFQUFBLElBQTZCTSxFQUU3QixPQURBTixFQUFBWSxPQUFBM00sS0FDQStMLEdBRUFzQyxFQUFBbFAsT0FBQSxTQUFBNEcsRUFBQTRHLEdBQ0EsV0FBbUI2QixFQUFnQnpJLEVBQUE0RyxJQUVuQzBCLEVBbEdXLENBbUdUaEMsR0FFRW1DLEVBQWdCLFNBQUFqRSxHQUVwQixTQUFBb0UsRUFBQTVJLEVBQUE0RyxHQUNBLElBQUFoSixFQUFBNEcsRUFBQXZNLEtBQUFnQyxZQUdBLE9BRkEyRCxFQUFBb0MsY0FDQXBDLEVBQUFnSixTQUNBaEosRUE2QkEsT0FsQ0lxRCxFQUFpQjJILEVBQUFwRSxHQU9yQm9FLEVBQUFsUCxVQUFBeUQsS0FBQSxTQUFBcEUsR0FDQSxJQUFBaUgsRUFBQS9GLEtBQUErRixZQUNBQSxLQUFBN0MsTUFDQTZDLEVBQUE3QyxLQUFBcEUsSUFHQTZQLEVBQUFsUCxVQUFBd0ksTUFBQSxTQUFBSixHQUNBLElBQUE5QixFQUFBL0YsS0FBQStGLFlBQ0FBLEtBQUFrQyxPQUNBakksS0FBQStGLFlBQUFrQyxNQUFBSixJQUdBOEcsRUFBQWxQLFVBQUF5SSxTQUFBLFdBQ0EsSUFBQW5DLEVBQUEvRixLQUFBK0YsWUFDQUEsS0FBQW1DLFVBQ0FsSSxLQUFBK0YsWUFBQW1DLFlBR0F5RyxFQUFBbFAsVUFBQStNLFdBQUEsU0FBQXhCLEdBRUEsT0FEQWhMLEtBQUEyTSxPQUVBM00sS0FBQTJNLE9BQUE1SCxVQUFBaUcsR0FHbUJ2QyxFQUFZbUIsT0FHL0IrRSxFQW5Db0IsQ0FvQ2xCUCxHQ3ZKRlEsRUFBQSxXQWFBLE9BTEMsU0FBWUMsR0FMTDdPLEtBQUF1RixLQUFtQyxJQUFJNkksRUFFdkNwTyxLQUFBOEUsUUFBc0MsSUFBSXNKLEVBTzFDcE8sS0FBQXFHLGlCQUFpRCxJQUFJK0gsRUFIM0RwTyxLQUFLa0YsS0FBTyxJQUFJcUMsUUFBa0IsU0FBQStGLEdBQVcsT0FBQUEsRUFBUXVCLE1BVHZELEdDT0FDLEVBQUEsV0FjQSxPQVZJLFNBQW1CdEosRUFBeUJDLEVBQXFCN0IsRUFBZ0JtTCxHQUFqRixJQUFBcEwsRUFBQTNELEtBQW1CQSxLQUFBd0YsV0FBeUJ4RixLQUFBeUYsVUFBcUJ6RixLQUFBNEQsU0FDN0Q1RCxLQUFLK0YsWUFBY25DLEVBQ25CLElBQUlvTCxFQUFvQkQsRUFBYWpNLEtBQUssU0FBQWpGLEdBQUssT0FBQUEsRUFBRStGLFNBQVdELEVBQUtDLFNBQzdEb0wsR0FDQXJOLFFBQVFDLElBQUksTUFJaEI1QixLQUFLNEQsT0FBU29MLEVBQWtCbkwsU0FaeEMsR0NSYW9MLEVBQU8sV0FDaEIsSUFBTXJMLEVBQVNzTCxTQUFTQyxlQUFlLG9CQUN2Q3ZMLEVBQU93TCxXQUFXbk0sUUFBUSxTQUFBM0QsR0FBSyxPQUFBQSxFQUFFNkosV0FDakN2RixFQUFPd0wsV0FBV25NLFFBQVEsU0FBQTNELEdBQUssT0FBQUEsRUFBRTZKLFdBQ2pDdkYsRUFBT3dMLFdBQVduTSxRQUFRLFNBQUEzRCxHQUFLLE9BQUFBLEVBQUU2SixXQVdqQ3ZGLEVBQU95TCxzQkFBc0IsYUFBYSxJQUFJQyxXQUFZQyxnQkFWMUIsa1BBVW1FLGFBQWFKLGVBQWUsY0FHdEhLLEVBQW1CLFNBQUNySixHQUM3QixJQUFNdkMsRUFBU3NMLFNBQVNDLGVBQWUsb0JBUXZDaEosRUFBUXZGLEtBQUssU0FBQ0MsRUFBR0MsR0FDYixPQUFJRCxFQUFFekMsS0FBTzBDLEVBQUUxQyxNQUNILEVBRVJ5QyxFQUFFekMsS0FBTzBDLEVBQUUxQyxLQUNKLEVBRUosSUFDUjZFLFFBQVEsU0FBQXdNLEdBQ1A3TCxFQUFPeUwsc0JBQXNCLGFBQWEsSUFBSUMsV0FBWUMsZ0JBaEJ2QyxTQUFDRSxHQUFtQix3RUFFSkEsRUFBTzNRLE1BQUssMEJBQ2xDMlEsRUFBT3JSLEtBQUksNkJBYWtEc1IsQ0FBZUQsR0FBUyxhQUFhTixlQUFlLFVBQVVNLEVBQU8zUSxXQUtuSjZRLEVBQUssRUFFSUMsRUFBVSxTQUFDNUssRUFBd0JqQixHQUU1QyxJQUFNOEwsRUFBZVgsU0FBU0MsZUFBZSxnQkFFekNXLEVBQVNILElBUWIsT0FGQUUsRUFBYVIsc0JBQXNCLGFBQWEsSUFBSUMsV0FBWUMsZ0JBTDVDLFNBQUN2SyxFQUF3QmpCLEdBQWlCLHdCQUNuRCtMLEVBQU0sV0FDZi9MLEVBQUksT0FBT2lCLEVBQUlwQixPQUFNLE1BQU1vQixFQUFJakYsS0FBSSxhQUcyQ2dRLENBQVkvSyxFQUFLakIsR0FBTyxhQUFhb0wsZUFBZSxPQUFPVyxJQUVwSSxXQUNIRCxFQUFhRyxZQUFZZCxTQUFTQyxlQUFlLE9BQU9XLE1BS25ERyxFQUFhLFNBQUNSLEVBQWdCdEosR0FDdkMsSUFBNkMsSUFBekNBLEVBQVF4RCxVQUFVLFNBQUE3QixHQUFLLE9BQUFBLEVBQUUyRCxZQUFtQixDQUM1QyxJQUFJeUwsRUFBU2hCLFNBQVNDLGVBQWUsbUJBV3JDZSxFQUFPYixzQkFBc0IsYUFBYSxJQUFJQyxXQUFZQyxnQkFUN0MsK0xBU21FLGFBQWFKLGVBQWUsYUFDNUdlLEVBQVNoQixTQUFTQyxlQUFlLFlBQ2pDLElBQU1nQixFQUFTaEssRUFBUWxGLElBQUksU0FBQUgsR0FBSyxPQUFBQSxFQUFFMUMsT0FDNUJnUyxFQUFtQixTQUFDVCxHQUFlLHdCQUNsQ0EsRUFBRSxVQUFVQSxFQUFFLFVBQVVBLEVBQUUsMEJBQzNCQSxFQUFFLFdBQ1ZRLEVBQU9sUCxJQUFJLFNBQUFvUCxHQUFLLHdCQUFrQkEsRUFBQyxLQUFLQSxFQUFDLG9CQUN6QyxpQkFHTUMsRUFBVyxTQUFDWCxHQUNaTyxFQUFPYixzQkFBc0IsYUFBYSxJQUFJQyxXQUFZQyxnQkFBZ0JhLEVBQWlCVCxHQUFNLE9BQVEsYUFBYVIsZUFBZSxLQUFLUSxJQUMxSU8sRUFBT2Isc0JBQXNCLGFBQWEsSUFBSUMsV0FBWUMsZ0JBQWdCYSxFQUFpQlQsR0FBSyxhQUFhUixlQUFlUSxLQUVoSVcsRUFBUyxRQUNUQSxFQUFTLE1BY1RKLEVBQU9iLHNCQUFzQixhQUFhLElBQUlDLFdBQVlDLGdCQWIzQywyQ0FhbUUsYUFBYUosZUFBZSxjQUM3R0QsU0FBU0MsZUFBZSxhQUFtQ29CLGlCQUFpQixRQUFTLFdBQU0sT0FYNUUsV0FDWjVPLFFBQVFDLElBQUksV0FFWixJQUFNNE8sRUFBWXRCLFNBQVNDLGVBQWUsUUFBOEJyUSxNQUNsRTJSLEVBQVV2QixTQUFTQyxlQUFlLE1BQTRCclEsTUFDaEVnRSxFQUFPcUQsRUFBUXJELEtBQUssU0FBQWhDLEdBQUssT0FBQUEsRUFBRTFDLE9BQVNvUyxJQUNwQ0UsRUFBb0IsSUFBSTVCLEVBQWtCLGNBQWUsaUJBQW1CaE0sRUFBSzFFLEtBQU1xUyxFQUFRM04sRUFBS2tELGVBQ3hHckUsUUFBUUMsSUFBSSxPQUFROE8sR0FDcEI1TixFQUFLeUMsS0FBS21MLEdBRzhFQyxLQWNyRnpCLFNBQVNDLGVBQWUsVUFBVU0sRUFBTzNRLE9BQ2pEOFIsYUFBWSxJQUFJdEIsV0FBWUMsZ0JBYlIsU0FBQ0UsR0FBbUIsd0NBQ2hCQSxFQUFPM1EsTUFBSyw2R0FDNkQyUSxFQUFPaEwsVUFBNEQsR0FBaEQsK0NBQWtELDBCQUN4SmdMLEVBQU9yUixLQUFJLG1CQUN0QnFSLEVBQU83SyxlQUFpQixpQkFBbUIsSUFBRSwrQ0FDZjZLLEVBQU85SyxpQkFBaUIxRCxJQUFJLFNBQUFuRCxHQUFLLE9BQUFBLEVBQUVzQyxNQUFNYSxJQUFJLFNBQUEzQixHQUFLLE9BQUFBLEVBQUVsQixPQUFNbUssS0FBSyxLQUFPLElBQU16SyxFQUFFaUMsT0FBTXdJLEtBQUssU0FBUSxxQ0FDOUhrSCxFQUFPN0ssZ0JBQWtCNkssRUFBT3hKLFFBQVUsMEVBQTBFd0osRUFBTzVLLFNBQVMwRCxLQUFLLFNBQVEscUJBQXVCLElBQUUsY0FDM0trSCxFQUFPN0ssZ0JBQWtCNkssRUFBT3hKLFFBQVUsNEZBQTRGd0osRUFBTy9LLElBQUlqRSxTQUFTUSxJQUFJLFNBQUEzQixHQUFLLE9BQUFBLEVBQUVsQixPQUFNd0UsT0FBTyxTQUFBaEQsR0FBSyxPQUFBQSxJQUFNNlAsRUFBT3JSLE9BQU1tSyxLQUFLLFNBQVEscUJBQXVCLElBQUUsY0FDL09rSCxFQUFPaEwsVUFBcUssR0FBekoscURBQXFEZ0wsRUFBT3pKLGNBQWMvRSxJQUFJLFNBQUFwRCxHQUFLLFdBQUtBLEVBQUUrRixPQUFNLFFBQVEvRixFQUFFZ0csVUFBVzBFLEtBQUssU0FBUSxzQkFBeUIseUJBS3RJbUgsQ0FBZUQsR0FBUyxhQUFhTixlQUFlLFVBQVVNLEVBQU8zUSxxekNDbEh4SCtSLEVBQUEsV0E0Q0EsT0F6Q0ksU0FBbUJ6USxFQUFtQzBRLFFBQUEsSUFBQUEsTUFBQSxJQUF0RCxJQUFBbk4sRUFBQTNELEtBQW1CQSxLQUFBSSxRQUFtQ0osS0FBQThRLHdCQUYvQzlRLEtBQUFtRyxRQUFvQixHQW1DcEJuRyxLQUFBK1EsOEJBQWdFLFdBRW5FLE9BQU8sSUFBSXhKLFFBQXlCLFNBQU0rRixHQUFPLE9BQUEwRCxFQUFBck4sT0FBQSwyRUFHN0MsT0FGTThMLEVBQVN6UCxLQUFLbUcsUUFBUWlFLEtBQUs2RyxNQUFNN0csS0FBS0MsU0FBV3JLLEtBQUttRyxRQUFROUUsVUFDN0RrRCxXQUFXOEIsaUJBQWlCdEIsVUFBVSxTQUFDYyxHQUFRLE9BQUF5SCxFQUFRekgsS0FDOUQsR0FBTTRKLEVBQU94Syw4QkFBYkcsRUFBQUMsbUJBckNKNEosSUFFQTdPLEVBQU02QyxRQUFRLFNBQUFSLEdBRVYsSUFBSXlPLEVBQWV6TyxFQUFLdkMsTUFBTWUsSUFBSSxTQUFBbkQsR0FBSyxPQUFBQSxFQUFFZ0MsU0FDbkNxUixFQUFPLElBQUl2QyxFQUFxQnNDLEdBRXRDdk4sRUFBS3dDLFFBQVExRSxLQUFLLElBQUk0QyxFQUFPNUIsRUFBS3JFLEtBQU1xRSxFQUFLM0QsTUFBT3FTLEVBQU0sU0FBQzFCLEdBQVcsT0FBQVEsRUFBZ0JSLEVBQVE5TCxFQUFLd0MsY0FHdkduRyxLQUFLbUcsUUFBUWxELFFBQVEsU0FBQXdNLEdBQ2pCLElBQUl2UCxFQUE0QkUsRUFBTTBDLEtBQUssU0FBQXhELEdBQUssT0FBQUEsRUFBRWxCLE9BQVNxUixFQUFPclIsT0FBTThCLE1BQ3BFZ1IsRUFBZWhSLEVBQU1lLElBQUksU0FBQW5ELEdBQUssT0FBQUEsRUFBRWdDLFNBQ3BDMlAsRUFBT2xMLFdBQVdnQixLQUFLUixVQUFVLFNBQUNDLEdBRzlCLEdBRkFyRCxRQUFRQyxJQUFPNk4sRUFBT3JSLEtBQUksTUFBTTRHLEVBQUlwQixRQUNoQnNOLEVBQWFwTyxLQUFLLFNBQUF4RCxHQUFLLE9BQUFBLElBQU0wRixFQUFJcEIsU0FDaEMsQ0FDakJvQixFQUFJakYsS0FBT0csRUFBTTRDLEtBQUssU0FBQWhGLEdBQUssT0FBQUEsRUFBRWdDLFNBQVdrRixFQUFJcEIsU0FBUTdELEtBQ3BELElBQU1xUixFQUFLeEIsRUFBYTVLLEVBQUt5SyxFQUFPclIsTUFDcEMwSixXQUFXLFdBQ0hzSixJQUNBek4sRUFBS3dDLFFBQ0FyRCxLQUFLLFNBQUFoQyxHQUFLLE9BQUFBLEVBQUUxQyxPQUFTNEcsRUFBSXBCLFNBQ3pCVyxXQUFXTyxRQUFRNUIsS0FBSzhCLElBRXRCLElBQVhBLEVBQUlqRixLQUFjNEQsRUFBS21OLDRCQUl2Q3RCLEVBQXNCeFAsS0FBS21HLFVBakNuQyxHQ0hNa0wsRUFBWW5DLFNBQVNDLGVBQWUsVUFDcENtQyxFQUFhcEMsU0FBU0MsZUFBZSxXQUVyQ29DLEVBQW1CckMsU0FBU0MsZUFBZSxnQkFxQ2pEa0MsRUFBVXZTLE1BckJHLG9RQXVDYnlTLEVBQWlCaEIsaUJBQWlCLFFBZlIsV0FFdEIsSUFBTWlCLEVDN0NULFNBQUNyRixHQVlBLElBVkEsSUFBTXNGLEVBQStDLEdBQy9DclIsRUFBNEIsR0FHNUJzUixFQUFZdkYsRUFBTXdGLE1BQU0sdUJBQXVCLEdBRS9DQyxFQUFjekYsRUFBTXdGLE1BQU0sK0JBRTFCRSxFQUFjMUYsRUFBTXdGLE1BQU0sNENBRXZCOVQsRUFBSSxFQUFHQSxFQUFJZ1UsRUFBWXhRLE9BQVF4RCxHQUFRLEVBRS9DNFQsRUFBVWhRLEtBQUssQ0FDZHJCLE1BQU8sQ0FBQ3lSLEVBQVloVSxHQUFJZ1UsRUFBWWhVLEVBQUksSUFDeENrQyxNQUFPOFIsRUFBWWhVLEVBQUksb0JBSWhCQSxHQUVSLElBQU15SSxFQUFPc0wsRUFBWS9ULEdBQ25CaUIsR0FBUzhTLEVBQVkvVCxFQUFJLEdBRXpCcUMsRUFBUXVSLEVBQVU3TyxPQUFPLFNBQUE5RSxHQUFLLE9BQXdDLElBQXhDQSxFQUFFc0MsTUFBTXVDLFVBQVUsU0FBQXJELEdBQUssT0FBQUEsSUFBTWdILE1BQy9EckYsSUFBSSxTQUFBNEIsR0FBUSxXQUFJaEQsRUFBaUJnRCxFQUFLekMsTUFBTTBDLEtBQUssU0FBQXhELEdBQUssT0FBQUEsSUFBTWdILElBQU96RCxFQUFLOUMsUUFFMUVLLEVBQU1xQixLQUFLLElBQUl4QixFQUFpQnFHLEVBQU14SCxFQUFPb0IsS0FSOUMsSUFBU3JDLEVBQUksRUFBR0EsRUFBSStULEVBQVl2USxPQUFReEQsR0FBUSxJQUF2Q0EsR0FVVCxNQUFPLENBQ042VCxVQUFTQSxFQUNUdFIsTUFBS0EsR0RhZ0IwUixDQUFNVCxFQUFVdlMsT0FFakIsSUFBSStSLEVBQVdXLEVBQVlwUixPQUFTOE8sU0FBU0MsZUFBZSxRQUE2QnJRLE9BRWpHaVMsZ0NBQWdDN0ssS0FBSyxTQUFBTCxHRW5EbkQsSUFBQ2tNLEVGdURNVCxFQUFXeFMsT0V2RGpCaVQsRUZ1RG1DbE0sRUV2REQsc0JGdURNMkwsRUFBWUUsVUV0RC9CLGVBQ2RLLEVBQWdCclEsS0FBS3RELEtBQUksUUFDL0IyVCxFQUFnQnhPLGVBQWMiLCJmaWxlIjoiYnVuZGxlLmpzIiwic291cmNlc0NvbnRlbnQiOlsiIFx0Ly8gVGhlIG1vZHVsZSBjYWNoZVxuIFx0dmFyIGluc3RhbGxlZE1vZHVsZXMgPSB7fTtcblxuIFx0Ly8gVGhlIHJlcXVpcmUgZnVuY3Rpb25cbiBcdGZ1bmN0aW9uIF9fd2VicGFja19yZXF1aXJlX18obW9kdWxlSWQpIHtcblxuIFx0XHQvLyBDaGVjayBpZiBtb2R1bGUgaXMgaW4gY2FjaGVcbiBcdFx0aWYoaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0pIHtcbiBcdFx0XHRyZXR1cm4gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0uZXhwb3J0cztcbiBcdFx0fVxuIFx0XHQvLyBDcmVhdGUgYSBuZXcgbW9kdWxlIChhbmQgcHV0IGl0IGludG8gdGhlIGNhY2hlKVxuIFx0XHR2YXIgbW9kdWxlID0gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0gPSB7XG4gXHRcdFx0aTogbW9kdWxlSWQsXG4gXHRcdFx0bDogZmFsc2UsXG4gXHRcdFx0ZXhwb3J0czoge31cbiBcdFx0fTtcblxuIFx0XHQvLyBFeGVjdXRlIHRoZSBtb2R1bGUgZnVuY3Rpb25cbiBcdFx0bW9kdWxlc1ttb2R1bGVJZF0uY2FsbChtb2R1bGUuZXhwb3J0cywgbW9kdWxlLCBtb2R1bGUuZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXyk7XG5cbiBcdFx0Ly8gRmxhZyB0aGUgbW9kdWxlIGFzIGxvYWRlZFxuIFx0XHRtb2R1bGUubCA9IHRydWU7XG5cbiBcdFx0Ly8gUmV0dXJuIHRoZSBleHBvcnRzIG9mIHRoZSBtb2R1bGVcbiBcdFx0cmV0dXJuIG1vZHVsZS5leHBvcnRzO1xuIFx0fVxuXG5cbiBcdC8vIGV4cG9zZSB0aGUgbW9kdWxlcyBvYmplY3QgKF9fd2VicGFja19tb2R1bGVzX18pXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm0gPSBtb2R1bGVzO1xuXG4gXHQvLyBleHBvc2UgdGhlIG1vZHVsZSBjYWNoZVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5jID0gaW5zdGFsbGVkTW9kdWxlcztcblxuIFx0Ly8gZGVmaW5lIGdldHRlciBmdW5jdGlvbiBmb3IgaGFybW9ueSBleHBvcnRzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmQgPSBmdW5jdGlvbihleHBvcnRzLCBuYW1lLCBnZXR0ZXIpIHtcbiBcdFx0aWYoIV9fd2VicGFja19yZXF1aXJlX18ubyhleHBvcnRzLCBuYW1lKSkge1xuIFx0XHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBuYW1lLCB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZ2V0dGVyIH0pO1xuIFx0XHR9XG4gXHR9O1xuXG4gXHQvLyBkZWZpbmUgX19lc01vZHVsZSBvbiBleHBvcnRzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnIgPSBmdW5jdGlvbihleHBvcnRzKSB7XG4gXHRcdGlmKHR5cGVvZiBTeW1ib2wgIT09ICd1bmRlZmluZWQnICYmIFN5bWJvbC50b1N0cmluZ1RhZykge1xuIFx0XHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBTeW1ib2wudG9TdHJpbmdUYWcsIHsgdmFsdWU6ICdNb2R1bGUnIH0pO1xuIFx0XHR9XG4gXHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAnX19lc01vZHVsZScsIHsgdmFsdWU6IHRydWUgfSk7XG4gXHR9O1xuXG4gXHQvLyBjcmVhdGUgYSBmYWtlIG5hbWVzcGFjZSBvYmplY3RcbiBcdC8vIG1vZGUgJiAxOiB2YWx1ZSBpcyBhIG1vZHVsZSBpZCwgcmVxdWlyZSBpdFxuIFx0Ly8gbW9kZSAmIDI6IG1lcmdlIGFsbCBwcm9wZXJ0aWVzIG9mIHZhbHVlIGludG8gdGhlIG5zXG4gXHQvLyBtb2RlICYgNDogcmV0dXJuIHZhbHVlIHdoZW4gYWxyZWFkeSBucyBvYmplY3RcbiBcdC8vIG1vZGUgJiA4fDE6IGJlaGF2ZSBsaWtlIHJlcXVpcmVcbiBcdF9fd2VicGFja19yZXF1aXJlX18udCA9IGZ1bmN0aW9uKHZhbHVlLCBtb2RlKSB7XG4gXHRcdGlmKG1vZGUgJiAxKSB2YWx1ZSA9IF9fd2VicGFja19yZXF1aXJlX18odmFsdWUpO1xuIFx0XHRpZihtb2RlICYgOCkgcmV0dXJuIHZhbHVlO1xuIFx0XHRpZigobW9kZSAmIDQpICYmIHR5cGVvZiB2YWx1ZSA9PT0gJ29iamVjdCcgJiYgdmFsdWUgJiYgdmFsdWUuX19lc01vZHVsZSkgcmV0dXJuIHZhbHVlO1xuIFx0XHR2YXIgbnMgPSBPYmplY3QuY3JlYXRlKG51bGwpO1xuIFx0XHRfX3dlYnBhY2tfcmVxdWlyZV9fLnIobnMpO1xuIFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkobnMsICdkZWZhdWx0JywgeyBlbnVtZXJhYmxlOiB0cnVlLCB2YWx1ZTogdmFsdWUgfSk7XG4gXHRcdGlmKG1vZGUgJiAyICYmIHR5cGVvZiB2YWx1ZSAhPSAnc3RyaW5nJykgZm9yKHZhciBrZXkgaW4gdmFsdWUpIF9fd2VicGFja19yZXF1aXJlX18uZChucywga2V5LCBmdW5jdGlvbihrZXkpIHsgcmV0dXJuIHZhbHVlW2tleV07IH0uYmluZChudWxsLCBrZXkpKTtcbiBcdFx0cmV0dXJuIG5zO1xuIFx0fTtcblxuIFx0Ly8gZ2V0RGVmYXVsdEV4cG9ydCBmdW5jdGlvbiBmb3IgY29tcGF0aWJpbGl0eSB3aXRoIG5vbi1oYXJtb255IG1vZHVsZXNcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubiA9IGZ1bmN0aW9uKG1vZHVsZSkge1xuIFx0XHR2YXIgZ2V0dGVyID0gbW9kdWxlICYmIG1vZHVsZS5fX2VzTW9kdWxlID9cbiBcdFx0XHRmdW5jdGlvbiBnZXREZWZhdWx0KCkgeyByZXR1cm4gbW9kdWxlWydkZWZhdWx0J107IH0gOlxuIFx0XHRcdGZ1bmN0aW9uIGdldE1vZHVsZUV4cG9ydHMoKSB7IHJldHVybiBtb2R1bGU7IH07XG4gXHRcdF9fd2VicGFja19yZXF1aXJlX18uZChnZXR0ZXIsICdhJywgZ2V0dGVyKTtcbiBcdFx0cmV0dXJuIGdldHRlcjtcbiBcdH07XG5cbiBcdC8vIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbFxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5vID0gZnVuY3Rpb24ob2JqZWN0LCBwcm9wZXJ0eSkgeyByZXR1cm4gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iamVjdCwgcHJvcGVydHkpOyB9O1xuXG4gXHQvLyBfX3dlYnBhY2tfcHVibGljX3BhdGhfX1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5wID0gXCJcIjtcblxuXG4gXHQvLyBMb2FkIGVudHJ5IG1vZHVsZSBhbmQgcmV0dXJuIGV4cG9ydHNcbiBcdHJldHVybiBfX3dlYnBhY2tfcmVxdWlyZV9fKF9fd2VicGFja19yZXF1aXJlX18ucyA9IDApO1xuIiwiZXhwb3J0IGNsYXNzIFNwYW5uaW5nVHJlZUxpbmsge1xyXG5cdGNvbnN0cnVjdG9yKHB1YmxpYyB0b05vZGU6IHN0cmluZywgcHVibGljIGNvc3Q6IG51bWJlcikge1xyXG5cdH1cclxufVxyXG4iLCJpbXBvcnQge1NwYW5uaW5nVHJlZUxpbmt9IGZyb20gXCIuL3NwYW5uaW5nVHJlZUxpbmtcIjtcclxuXHJcbmV4cG9ydCBjbGFzcyBTcGFubmluZ1RyZWVOb2RlIHtcclxuXHRjb25zdHJ1Y3RvcihwdWJsaWMgbmFtZTogc3RyaW5nLCBwdWJsaWMgdmFsdWU6IG51bWJlciwgcHVibGljIGxpbmtzOiBTcGFubmluZ1RyZWVMaW5rW10pIHtcclxuXHR9XHJcbn1cclxuIiwiZXhwb3J0IGNsYXNzIFNpbXVsYXRpb25MaW5rIHtcclxuXHRjb25zdHJ1Y3RvcihwdWJsaWMgbm9kZXM6IHtuYW1lOiBzdHJpbmcsIHZhbHVlOiBudW1iZXJ9W10sIHB1YmxpYyBjb3N0OiBudW1iZXIpe31cclxufVxyXG4iLCJpbXBvcnQge1NpbXVsYXRpb25MaW5rfSBmcm9tIFwiLi4vU2ltdWxhdGlvbi9TaW11bGF0aW9uTGlua1wiO1xyXG5cclxuZXhwb3J0IGNsYXNzIE1pbmltYWxTcGFuVHJlZSB7XHJcbiAgICBwdWJsaWMgc2hvcnRlc3RMaW5rczogU2ltdWxhdGlvbkxpbmtbXSA9IFtdO1xyXG4gICAgcHVibGljIGFsbE5vZGVzOiB7IG5hbWU6IHN0cmluZywgdmFsdWU6IG51bWJlciB9W10gPSBbXTtcclxuICAgIHB1YmxpYyByb290OiB7IG5hbWU6IHN0cmluZywgdmFsdWU6IG51bWJlciB9O1xyXG5cclxuICAgIGFsbE5vZGVzQXJlQ29ubmVjdGVkKGFsbE5vZGVzLCBzaG9ydGVzdExpbmtzID0gdGhpcy5zaG9ydGVzdExpbmtzKSB7XHJcbiAgICAgICAgY29uc3QgcmVzdWx0ID0gW107XHJcbiAgICAgICAgY29uc3QgYXJyYXkgPSBzaG9ydGVzdExpbmtzLmZsYXRNYXAobCA9PiBsLm5vZGVzKTtcclxuICAgICAgICBjb25zdCBtYXAgPSBuZXcgTWFwKCk7XHJcbiAgICAgICAgZm9yIChjb25zdCBpdGVtIG9mIGFycmF5KSB7XHJcbiAgICAgICAgICAgIGlmICghbWFwLmhhcyhpdGVtLm5hbWUpKSB7XHJcbiAgICAgICAgICAgICAgICBtYXAuc2V0KGl0ZW0ubmFtZSwgdHJ1ZSk7XHJcbiAgICAgICAgICAgICAgICByZXN1bHQucHVzaChpdGVtKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBsZXQgYWxsTm9kZXNBcmVJbmNsdWRlZCA9IHJlc3VsdC5sZW5ndGggPT09IGFsbE5vZGVzLmxlbmd0aDtcclxuICAgICAgICBsZXQgYWxsTm9kZXNBcmVDb25uZWN0ZWQ7XHJcbiAgICAgICAgaWYgKGFsbE5vZGVzQXJlSW5jbHVkZWQpIHtcclxuICAgICAgICAgICAgbGV0IG5vZGVzVG9GaW5kID0gWy4uLnRoaXMuYWxsTm9kZXNdO1xyXG4gICAgICAgICAgICBjb25zdCBhbGxGb3VuZCA9ICgpID0+IG5vZGVzVG9GaW5kLmxlbmd0aCA9PT0gMDtcclxuICAgICAgICAgICAgY29uc3QgZ2V0RGlyZWN0Q29ubmVjdGVkID0gKG5vZGUpID0+IHNob3J0ZXN0TGlua3NcclxuICAgICAgICAgICAgICAgIC5maWx0ZXIobGluayA9PiBsaW5rLm5vZGVzLmZpbmRJbmRleChuID0+IG4ubmFtZSA9PT0gbm9kZS5uYW1lKSAhPT0gLTEpXHJcbiAgICAgICAgICAgICAgICAuZmxhdE1hcChsaW5rID0+IGxpbmsubm9kZXMuZmluZChuID0+IG4ubmFtZSAhPT0gbm9kZS5uYW1lKSlcclxuICAgICAgICAgICAgICAgIC5maWx0ZXIobiA9PiBub2Rlc1RvRmluZC5maW5kSW5kZXgobjEgPT4gbjEubmFtZSA9PT0gbi5uYW1lKSAhPT0gLTEpO1xyXG4gICAgICAgICAgICBjb25zdCByZW1vdmVOb2RlID0gKG5vZGUpID0+IG5vZGVzVG9GaW5kLnNwbGljZShub2Rlc1RvRmluZC5maW5kSW5kZXgobiA9PiBuLm5hbWUgPT09IG5vZGUubmFtZSksIDEpO1xyXG4gICAgICAgICAgICBjb25zdCB0cmF2ZXJzZSA9IChjdXJyZW50Tm9kZSkgPT4ge1xyXG4gICAgICAgICAgICAgICAgcmVtb3ZlTm9kZShjdXJyZW50Tm9kZSk7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBjb25uZWN0ZWQgPSBnZXREaXJlY3RDb25uZWN0ZWQoY3VycmVudE5vZGUpO1xyXG4gICAgICAgICAgICAgICAgY29ubmVjdGVkLmZvckVhY2gobmV4dCA9PiB0cmF2ZXJzZShuZXh0KSk7XHJcbiAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgIHRyYXZlcnNlKHRoaXMucm9vdCk7XHJcbiAgICAgICAgICAgIGFsbE5vZGVzQXJlQ29ubmVjdGVkID0gYWxsRm91bmQoKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIGFsbE5vZGVzQXJlSW5jbHVkZWQgJiYgYWxsTm9kZXNBcmVDb25uZWN0ZWQ7XHJcbiAgICB9O1xyXG5cclxuICAgIGNvbnN0cnVjdG9yKHNwYW5UcmVlTGlua3M6IFNpbXVsYXRpb25MaW5rW10pIHtcclxuXHJcbiAgICAgICAgbGV0IGxpbmtzID0gWy4uLnNwYW5UcmVlTGlua3NdO1xyXG4gICAgICAgIGxpbmtzID0gbGlua3Muc29ydCgoYSwgYikgPT4gYS5jb3N0IC0gYi5jb3N0KS5yZXZlcnNlKCk7XHJcblxyXG4gICAgICAgIGNvbnN0IGFycmF5ID0gbGlua3MuZmxhdE1hcChsID0+IGwubm9kZXMpO1xyXG5cclxuICAgICAgICBjb25zdCBtYXAgPSBuZXcgTWFwKCk7XHJcbiAgICAgICAgZm9yIChjb25zdCBpdGVtIG9mIGFycmF5KSB7XHJcbiAgICAgICAgICAgIGlmICghbWFwLmhhcyhpdGVtLm5hbWUpKSB7XHJcbiAgICAgICAgICAgICAgICBtYXAuc2V0KGl0ZW0ubmFtZSwgdHJ1ZSk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmFsbE5vZGVzLnB1c2goaXRlbSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy5yb290ID0gdGhpcy5hbGxOb2Rlcy5zb3J0KChhLCBiKSA9PiBhLnZhbHVlIC0gYi52YWx1ZSlbMF07XHJcbiAgICAgICAgY29uc29sZS5sb2coWy4uLmxpbmtzXSk7XHJcbiAgICAgICAgd2hpbGUgKCF0aGlzLmFsbE5vZGVzQXJlQ29ubmVjdGVkKHRoaXMuYWxsTm9kZXMpKSB7XHJcbiAgICAgICAgICAgIGxldCBpdGVtcyA9IGxpbmtzLnBvcCgpO1xyXG4gICAgICAgICAgICB0aGlzLnNob3J0ZXN0TGlua3MucHVzaChpdGVtcyk7XHJcbiAgICAgICAgICAgIGlmICh0aGlzLmFsbE5vZGVzQXJlQ29ubmVjdGVkKHRoaXMuYWxsTm9kZXMpKSB7XHJcbiAgICAgICAgICAgICAgICBsZXQgdGVtcCwgbGFzdCA9IHRlbXAgPSBbLi4udGhpcy5zaG9ydGVzdExpbmtzXTtcclxuICAgICAgICAgICAgICAgIHdoaWxlICghIXRlbXApIHtcclxuICAgICAgICAgICAgICAgICAgICBsYXN0ID0gdGVtcDtcclxuICAgICAgICAgICAgICAgICAgICB0ZW1wID0gdGhpcy50cnlUb1JlbW92ZSh0ZW1wKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGlmIChsYXN0Lmxlbmd0aCA8IHRoaXMuc2hvcnRlc3RMaW5rcy5sZW5ndGgpIHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnNob3J0ZXN0TGlua3MgPSBsYXN0O1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGNvbnNvbGUubG9nKHRoaXMuc2hvcnRlc3RMaW5rcyk7XHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSB0cnlUb1JlbW92ZShzaG9ydGVzdExpbmtzKSB7XHJcbiAgICAgICAgbGV0IHJlcztcclxuICAgICAgICBmb3IgKGNvbnN0IGwgb2Ygc2hvcnRlc3RMaW5rcykge1xyXG4gICAgICAgICAgICBsZXQgc2ltdWxhdGlvbkxpbmtzID0gWy4uLnNob3J0ZXN0TGlua3NdO1xyXG4gICAgICAgICAgICBzaW11bGF0aW9uTGlua3Muc3BsaWNlKHNpbXVsYXRpb25MaW5rcy5maW5kSW5kZXgobGluayA9PiBsaW5rID09PSBsKSwgMSk7XHJcbiAgICAgICAgICAgIGlmICh0aGlzLmFsbE5vZGVzQXJlQ29ubmVjdGVkKHRoaXMuYWxsTm9kZXMsIHNpbXVsYXRpb25MaW5rcykpIHtcclxuICAgICAgICAgICAgICAgIHJlcyA9IHNpbXVsYXRpb25MaW5rcztcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiByZXM7XHJcbiAgICB9XHJcblxyXG4gICAgbGlua1RvU3RyaW5nKCkge1xyXG4gICAgICAgIGNvbnN0IHNvcnRlZCA9IHRoaXMuc2hvcnRlc3RMaW5rcy5tYXAobGluayA9PiB7XHJcbiAgICAgICAgICAgIHJldHVybiBuZXcgU2ltdWxhdGlvbkxpbmsobGluay5ub2Rlcy5zb3J0KChhLCBiKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGEubmFtZSA8IGIubmFtZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gLTE7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGlmIChhLm5hbWUgPiBiLm5hbWUpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIDE7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiAwO1xyXG4gICAgICAgICAgICAgICAgfSksIGxpbmsuY29zdFxyXG4gICAgICAgICAgICApO1xyXG4gICAgICAgIH0pLnNvcnQoKGEsIGIpID0+IHtcclxuICAgICAgICAgICAgaWYgKGEubm9kZXNbMF0ubmFtZSA8IGIubm9kZXNbMF0ubmFtZSkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIC0xO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmIChhLm5vZGVzWzBdLm5hbWUgPiBiLm5vZGVzWzBdLm5hbWUpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiAxO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmIChhLm5vZGVzWzBdLm5hbWUgPT09IGIubm9kZXNbMF0ubmFtZSkge1xyXG4gICAgICAgICAgICAgICAgaWYgKGEubm9kZXNbMV0ubmFtZSA8IGIubm9kZXNbMV0ubmFtZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiAtMTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGlmIChhLm5vZGVzWzFdLm5hbWUgPiBiLm5vZGVzWzFdLm5hbWUpIHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gMTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICByZXR1cm4gMDtcclxuICAgICAgICB9KTtcclxuICAgICAgICBsZXQgcmV0ID0gXCJcIjtcclxuICAgICAgICBzb3J0ZWQuZm9yRWFjaChsaW5rID0+IHtcclxuICAgICAgICAgICAgcmV0ICs9IGAke2xpbmsubm9kZXNbMF0ubmFtZX0gLSAke2xpbmsubm9kZXNbMV0ubmFtZX07XFxuXFx0YFxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHJldHVybiByZXQ7XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0Um91dGluZ1RhYmxlKG5hbWU6IHN0cmluZykge1xyXG4gICAgICAgIGNvbnN0IHJldDoge1xyXG4gICAgICAgICAgICB0YXJnZXQ6IHN0cmluZyxcclxuICAgICAgICAgICAgbmV4dEhvcDogc3RyaW5nXHJcbiAgICAgICAgfVtdID0gW107XHJcbiAgICAgICAgdGhpcy5hbGxOb2Rlcy5maWx0ZXIobiA9PiBuLm5hbWUgIT09IG5hbWUpLmZvckVhY2gobm9kZSA9PiB7XHJcbiAgICAgICAgICAgIHJldC5wdXNoKHtcclxuICAgICAgICAgICAgICAgIHRhcmdldDogbm9kZS5uYW1lLFxyXG4gICAgICAgICAgICAgICAgbmV4dEhvcDogdGhpcy5nZXROZXh0SG9wKG5hbWUsIG5vZGUubmFtZSlcclxuICAgICAgICAgICAgfSlcclxuICAgICAgICB9KTtcclxuICAgICAgICByZXR1cm4gcmV0O1xyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgZ2V0TmV4dEhvcChmcm9tOiBzdHJpbmcsIHRvOiBzdHJpbmcsIG5leHRIb3A/OiBzdHJpbmcsIGRvbnQ6IHN0cmluZ1tdID0gW10pIHtcclxuICAgICAgICBjb25zb2xlLmxvZyhmcm9tLCB0bywgbmV4dEhvcCk7XHJcbiAgICAgICAgZG9udC5wdXNoKGZyb20pO1xyXG4gICAgICAgIGNvbnN0IHRhcmdldHMgPSB0aGlzLnNob3J0ZXN0TGlua3MuZmlsdGVyKGwgPT4gbC5ub2Rlcy5maW5kSW5kZXgobiA9PiBuLm5hbWUgPT09IGZyb20pICE9PSAtMSk7XHJcbiAgICAgICAgY29uc3QgY29udGFpbnNUbyA9ICgpID0+IHRhcmdldHMuZmluZEluZGV4KHQgPT4gdC5ub2Rlcy5maW5kSW5kZXgobiA9PiBuLm5hbWUgPT09IHRvKSAhPT0gLTEpICE9PSAtMTtcclxuICAgICAgICBpZiAoY29udGFpbnNUbygpKSB7XHJcbiAgICAgICAgICAgIHJldHVybiAhbmV4dEhvcCA/IHRvIDogbmV4dEhvcDtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICBmb3IgKGNvbnN0IHRhcmdldCBvZiB0YXJnZXRzKSB7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBuID0gdGFyZ2V0Lm5vZGVzLmZpbmQobiA9PiBuLm5hbWUgIT09IGZyb20pLm5hbWU7XHJcbiAgICAgICAgICAgICAgICBpZiAoZG9udC5pbmRleE9mKG4pID09PSAtMSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHJldCA9IHRoaXMuZ2V0TmV4dEhvcChuLCB0bywgIW5leHRIb3AgPyBuIDogbmV4dEhvcCwgWy4uLmRvbnRdKTtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoISFyZXQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmV0O1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxufVxyXG4iLCJpbXBvcnQge1NpbXVsYXRpb25Db25uZWN0aW9ufSBmcm9tIFwiLi9TaW11bGF0aW9uQ29ubmVjdGlvblwiO1xyXG5pbXBvcnQge1NpbXVsYXRpb25QYWNrYWdlfSBmcm9tIFwiLi9TaW11bGF0aW9uUGFja2FnZVwiO1xyXG5pbXBvcnQge01pbmltYWxTcGFuVHJlZX0gZnJvbSBcIi4uL1NwYW5uaW5nVHJlZS9taW5pbWFsU3Bhbm5pbmdUcmVlXCI7XHJcblxyXG5leHBvcnQgaW50ZXJmYWNlIFJvdXRpbmdUYWJsZUVudHJ5IHtcclxuICAgIHRhcmdldDogc3RyaW5nO1xyXG4gICAgbmV4dEhvcDogc3RyaW5nO1xyXG59XHJcblxyXG5leHBvcnQgY2xhc3MgQnJpZGdlIHtcclxuICAgIC8vIEJyaWRnZSBkYXRhXHJcbiAgICBwdWJsaWMgbmFtZTogc3RyaW5nO1xyXG4gICAgcHVibGljIHZhbHVlOiBudW1iZXI7XHJcblxyXG4gICAgLy8gRGF0YSBkaXNjb3ZlcmVkXHJcbiAgICBwdWJsaWMgTVNUOiBNaW5pbWFsU3BhblRyZWU7XHJcblxyXG4gICAgLy8gZGF0YSBmb3IgQ2VudHJhbFNwYW5uaW5nVHJlZVByb3RvY29sXHJcbiAgICBwdWJsaWMgSU5ERVhFRDogYm9vbGVhbjtcclxuICAgIHB1YmxpYyBCTE9DS0VEOiAoKSA9PiBib29sZWFuID0gKCkgPT4gIXRoaXMuTVNUO1xyXG4gICAgcHVibGljIERJU0NPVkVSRURfTElOS1M6IHtcclxuICAgICAgICBub2RlczogeyBuYW1lOiBzdHJpbmcsIHZhbHVlOiBudW1iZXIgfVtdOyAvLyBteSBuYW1lIGFuZCBhIGNvbm5lY3RlZCBicmlkZ2VzIG5hbWVcclxuICAgICAgICBjb3N0OiBudW1iZXI7IC8vIGNvc3QgdG8gcmVhY2ggdGhlIGJyaWRnZVxyXG4gICAgfVtdID0gW107XHJcbiAgICBwdWJsaWMgUk9VVElOR19UQUJMRTogUm91dGluZ1RhYmxlRW50cnlbXTtcclxuXHJcbiAgICBwcml2YXRlIFdBSVRJTkdfRk9SX0JSSURHRVM6IHN0cmluZ1tdO1xyXG5cclxuICAgIC8vIGZvciB2aWV3XHJcbiAgICBwdWJsaWMgcm9vdE9mSW5kZXhpbmcgPSBmYWxzZTtcclxuICAgIHB1YmxpYyByZXR1cm5Ubzogc3RyaW5nW10gPSBbXTtcclxuXHJcbiAgICAvLyBzaW11bGF0aW9uIENvbm5lY3Rpb25cclxuICAgIHB1YmxpYyBjb25uZWN0aW9uOiBTaW11bGF0aW9uQ29ubmVjdGlvbjtcclxuICAgIHByaXZhdGUgcmVhZG9ubHkgZHVtcENoYW5nZXM6ICgpID0+IHZvaWQ7XHJcbiAgICBjb25zdHJ1Y3RvcihuYW1lOiBzdHJpbmcsIHZhbHVlOiBudW1iZXIsIGNvbm5lY3Rpb246IFNpbXVsYXRpb25Db25uZWN0aW9uLCBkdW1wQ2hhbmdlczogKGIpID0+IHZvaWQpIHtcclxuICAgICAgICB0aGlzLm5hbWUgPSBuYW1lO1xyXG4gICAgICAgIHRoaXMudmFsdWUgPSB2YWx1ZTtcclxuICAgICAgICB0aGlzLmNvbm5lY3Rpb24gPSBjb25uZWN0aW9uO1xyXG4gICAgICAgIHRoaXMuY29ubmVjdGlvbi5yZWNlaXZlLnN1YnNjcmliZSgocGtnKSA9PiB0aGlzLnJlY2VpdmUocGtnKSk7XHJcbiAgICAgICAgdGhpcy5kdW1wQ2hhbmdlcyA9ICgpID0+IGR1bXBDaGFuZ2VzKHRoaXMpO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBhc3luYyBpbmRleE5ldHdvcmsoKSB7XHJcbiAgICAgICAgdGhpcy5yb290T2ZJbmRleGluZyA9IHRydWU7XHJcbiAgICAgICAgdGhpcy5kdW1wQ2hhbmdlcygpO1xyXG4gICAgICAgIGxldCBzaWJsaW5ncyA9IChhd2FpdCB0aGlzLmNvbm5lY3Rpb24ucGluZyk7XHJcbiAgICAgICAgdGhpcy5XQUlUSU5HX0ZPUl9CUklER0VTID0gc2libGluZ3M7XHJcbiAgICAgICAgc2libGluZ3MuZm9yRWFjaCh0YXJnZXQgPT4ge1xyXG4gICAgICAgICAgICB0aGlzLnNlbmQoe1xyXG4gICAgICAgICAgICAgICAgcHJvdG9jb2w6ICdDU1RQJyxcclxuICAgICAgICAgICAgICAgIGNvbnRlbnQ6IHtcclxuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiAnRGVhciBOZWlnaGJvciBoZWFyIGlzIG15IG5hbWUgYW5kIHRoZSBwYWNrYWdlIHByb3ZpZGVzIHlvdSB0aGUgY29zdCB0byBtZS4gRm9sbG93IHRoZSBDU1RQLicsXHJcbiAgICAgICAgICAgICAgICAgICAgZnJvbToge25hbWU6IHRoaXMubmFtZSwgdmFsdWU6IHRoaXMudmFsdWV9XHJcbiAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgdGFyZ2V0XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuXHJcbiAgICBwdWJsaWMgc2VuZChwa2c6IFNpbXVsYXRpb25QYWNrYWdlKSB7XHJcbiAgICAgICAgcGtnLnNlbmRlciA9IHRoaXMubmFtZTtcclxuICAgICAgICB0aGlzLmNvbm5lY3Rpb24uc2VuZC5uZXh0KHBrZyk7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIGhhbmRsZUNTVFBQYWNrYWdlKHBrZzogU2ltdWxhdGlvblBhY2thZ2UpIHtcclxuICAgICAgICAvLyBjYXNlIGNvbnRlbnQubXN0XHJcbiAgICAgICAgaWYocGtnLmNvbnRlbnQubXN0KXtcclxuICAgICAgICAgICAgLy8gZ2V0IGNyZWF0ZSBteSBtc3QgKyBSb3V0aW5nIFRhYmxlXHJcbiAgICAgICAgICAgIHBrZy5jb250ZW50Lm1zdCA9IFsuLi5wa2cuY29udGVudC5tc3RdO1xyXG4gICAgICAgICAgICB0aGlzLmZpbmlzaE1TVChwa2cuY29udGVudC5tc3QpO1xyXG4gICAgICAgICAgICB0aGlzLmR1bXBDaGFuZ2VzKCk7XHJcbiAgICAgICAgICAgIC8vIGlmIGkgYW0gbm90IGRlc3RpbmF0aW9uIHNlbmQgdG8gbmV4dEhvcFxyXG4gICAgICAgICAgICBpZihwa2cuZGVzdGluYXRpb24gIT09IHRoaXMubmFtZSl7XHJcbiAgICAgICAgICAgICAgICBwa2cudGFyZ2V0ID0gdGhpcy5ST1VUSU5HX1RBQkxFLmZpbmQoaSA9PiBpLnRhcmdldCA9PT0gcGtnLmRlc3RpbmF0aW9uKS5uZXh0SG9wO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5zZW5kKHBrZyk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKHRoaXMuSU5ERVhFRCB8fCB0aGlzLnJvb3RPZkluZGV4aW5nICYmICBwa2cuY29udGVudC5mcm9tKVxyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgaWYgKHRoaXMuRElTQ09WRVJFRF9MSU5LUy5sZW5ndGggPT09IDAgJiYgIXRoaXMucm9vdE9mSW5kZXhpbmcpIHtcclxuICAgICAgICAgICAgdGhpcy5jb25uZWN0aW9uLnBpbmcudGhlbihicmlkZ2VzID0+IHtcclxuICAgICAgICAgICAgICAgIHRoaXMuV0FJVElOR19GT1JfQlJJREdFUyA9IGJyaWRnZXMuZmlsdGVyKG5hbWUgPT4gbmFtZSAhPT0gcGtnLmNvbnRlbnQuZnJvbS5uYW1lKTtcclxuICAgICAgICAgICAgICAgIHRoaXMuZHVtcENoYW5nZXMoKTtcclxuICAgICAgICAgICAgICAgIHRoaXMuV0FJVElOR19GT1JfQlJJREdFUy5mb3JFYWNoKHRhcmdldCA9PiB0aGlzLnNlbmQoe1xyXG4gICAgICAgICAgICAgICAgICAgIHByb3RvY29sOiAnQ1NUUCcsXHJcbiAgICAgICAgICAgICAgICAgICAgY29udGVudDoge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiAnRGVhciBOZWlnaGJvciBoZWFyIGlzIG15IG5hbWUgYW5kIHRoZSBwYWNrYWdlIHByb3ZpZGVzIHlvdSB0aGUgY29zdCB0byBtZS4gRm9sbG93IHRoZSBDU1RQLicsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGZyb206IHtuYW1lOiB0aGlzLm5hbWUsIHZhbHVlOiB0aGlzLnZhbHVlfVxyXG4gICAgICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgdGFyZ2V0XHJcbiAgICAgICAgICAgICAgICB9KSk7XHJcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5XQUlUSU5HX0ZPUl9CUklER0VTLmxlbmd0aCA9PT0gMCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHJldHVyblRvID0gdGhpcy5ESVNDT1ZFUkVEX0xJTktTWzBdLm5vZGVzLmZpbmQobiA9PiBuLm5hbWUgIT09IHRoaXMubmFtZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5kdW1wQ2hhbmdlcygpO1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc2VuZCh7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHByb3RvY29sOiAnQ1NUUCcsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRlbnQ6IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6ICdEZWFyIE5laWdoYm9yIGhlYXIgYXJlIG15IGRpc2NvdmVyZWQgbGlua3MsIHlvdSBtYXkgY29uY2F0IHRoZW0gd2l0aCB5b3VycyBhbmQgc2VuZCB0aGVtIGJhY2shJyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRpc2NvdmVyZWRMaW5rczogdGhpcy5ESVNDT1ZFUkVEX0xJTktTXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRhcmdldDogcmV0dXJuVG8ubmFtZVxyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuSU5ERVhFRCA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKCF0aGlzLnJvb3RPZkluZGV4aW5nKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuY29ubmVjdGlvbi5maW5pc2hlZEluZGV4aW5nLm5leHQoKTtcclxuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBtc3QgPSBuZXcgTWluaW1hbFNwYW5UcmVlKHRoaXMuRElTQ09WRVJFRF9MSU5LUyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuTVNUID0gbXN0O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLlJPVVRJTkdfVEFCTEUgPSB0aGlzLk1TVC5nZXRSb3V0aW5nVGFibGUodGhpcy5uYW1lKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5jb25uZWN0aW9uLmZpbmlzaGVkSW5kZXhpbmcubmV4dChtc3QpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmR1bXBDaGFuZ2VzKCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB0aGlzLkRJU0NPVkVSRURfTElOS1MucHVzaCh7XHJcbiAgICAgICAgICAgICAgICBjb3N0OiBwa2cuY29zdCxcclxuICAgICAgICAgICAgICAgIG5vZGVzOiBbe25hbWU6IHRoaXMubmFtZSwgdmFsdWU6IHRoaXMudmFsdWV9LCBwa2cuY29udGVudC5mcm9tXVxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgdGhpcy5yZXR1cm5Uby5wdXNoKHBrZy5jb250ZW50LmZyb20ubmFtZSk7XHJcbiAgICAgICAgICAgIHRoaXMuZHVtcENoYW5nZXMoKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKHRoaXMuV0FJVElOR19GT1JfQlJJREdFUyAmJiAhIXBrZy5jb250ZW50LmRpc2NvdmVyZWRMaW5rcykge1xyXG4gICAgICAgICAgICBjb25zdCBuYW1lID0gcGtnLmNvbnRlbnQuZGlzY292ZXJlZExpbmtzWzBdLm5vZGVzLmZpbmQobiA9PiBuLm5hbWUgIT09IHRoaXMubmFtZSk7XHJcbiAgICAgICAgICAgIHRoaXMuV0FJVElOR19GT1JfQlJJREdFUy5zcGxpY2UodGhpcy5XQUlUSU5HX0ZPUl9CUklER0VTLmZpbmRJbmRleChuID0+IG4gPT09IG5hbWUpLCAxKTtcclxuICAgICAgICAgICAgdGhpcy5ESVNDT1ZFUkVEX0xJTktTLnB1c2goLi4ucGtnLmNvbnRlbnQuZGlzY292ZXJlZExpbmtzKTtcclxuICAgICAgICB9IGVsc2UgaWYgKHRoaXMuV0FJVElOR19GT1JfQlJJREdFUyAmJiBwa2cuY29udGVudC5mcm9tKSB7XHJcbiAgICAgICAgICAgIHRoaXMuV0FJVElOR19GT1JfQlJJREdFUy5zcGxpY2UodGhpcy5XQUlUSU5HX0ZPUl9CUklER0VTLmZpbmRJbmRleChuID0+IG4gPT09IHBrZy5jb250ZW50LmZyb20ubmFtZSksIDEpO1xyXG4gICAgICAgICAgICB0aGlzLnJldHVyblRvLnB1c2gocGtnLmNvbnRlbnQuZnJvbS5uYW1lKTtcclxuICAgICAgICAgICAgdGhpcy5ESVNDT1ZFUkVEX0xJTktTLnB1c2goe1xyXG4gICAgICAgICAgICAgICAgY29zdDogcGtnLmNvc3QsXHJcbiAgICAgICAgICAgICAgICBub2RlczogW3tuYW1lOiB0aGlzLm5hbWUsIHZhbHVlOiB0aGlzLnZhbHVlfSwgcGtnLmNvbnRlbnQuZnJvbV1cclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRoaXMuZHVtcENoYW5nZXMoKTtcclxuXHJcbiAgICAgICAgaWYgKCEhdGhpcy5XQUlUSU5HX0ZPUl9CUklER0VTICYmIHRoaXMuV0FJVElOR19GT1JfQlJJREdFUy5sZW5ndGggPT09IDApIHtcclxuICAgICAgICAgICAgdGhpcy5yZXR1cm5Uby5mb3JFYWNoKHRhcmdldCA9PiB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnNlbmQoe1xyXG4gICAgICAgICAgICAgICAgICAgIHByb3RvY29sOiAnQ1NUUCcsXHJcbiAgICAgICAgICAgICAgICAgICAgY29udGVudDoge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiAnRGVhciBOZWlnaGJvciBoZWFyIGFyZSBteSBkaXNjb3ZlcmVkIGxpbmtzLCB5b3UgbWF5IGNvbmNhdCB0aGVtIHdpdGggeW91cnMgYW5kIHNlbmQgdGhlbSBiYWNrIScsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGRpc2NvdmVyZWRMaW5rczogdGhpcy5ESVNDT1ZFUkVEX0xJTktTXHJcbiAgICAgICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgICAgICB0YXJnZXRcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgdGhpcy5JTkRFWEVEID0gdHJ1ZTtcclxuICAgICAgICAgICAgaWYgKCF0aGlzLnJvb3RPZkluZGV4aW5nKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmNvbm5lY3Rpb24uZmluaXNoZWRJbmRleGluZy5uZXh0KCk7XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBsaW5rcyA9IFtdO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5ESVNDT1ZFUkVEX0xJTktTLmZvckVhY2gobCA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKCFsaW5rcy5maW5kKGxpbmsgPT4gbC5ub2Rlcy5maW5kSW5kZXgobiA9PiBuLm5hbWUgPT09IGxpbmsubm9kZXNbMF0ubmFtZSkgIT09IC0xICYmIGwubm9kZXMuZmluZEluZGV4KG4gPT4gbi5uYW1lID09PSBsaW5rLm5vZGVzWzFdLm5hbWUpICE9PSAtMSkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgbGlua3MucHVzaChsKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgIGxldCBsaW5rc01zdCA9IFsuLi5saW5rc107XHJcbiAgICAgICAgICAgICAgICB0aGlzLmZpbmlzaE1TVChsaW5rc01zdCk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLlJPVVRJTkdfVEFCTEUuZm9yRWFjaCgoaXRlbTpSb3V0aW5nVGFibGVFbnRyeSk9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5zZW5kKHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcHJvdG9jb2w6ICdDU1RQJyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29udGVudDoge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogJ0RlYXIgTmVpZ2hib3IgaGVhciBpcyBteSBuYW1lIGFuZCB0aGUgcGFja2FnZSBwcm92aWRlcyB5b3UgdGhlIGNvc3QgdG8gbWUuIEZvbGxvdyB0aGUgQ1NUUC4nLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbXN0OiBsaW5rc01zdFxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICB0YXJnZXQ6IGl0ZW0ubmV4dEhvcCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgZGVzdGluYXRpb246IGl0ZW0udGFyZ2V0XHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB0aGlzLmR1bXBDaGFuZ2VzKCk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgcHJpdmF0ZSBmaW5pc2hNU1QobGlua3Mpe1xyXG4gICAgICAgIGNvbnN0IG1zdCA9IG5ldyBNaW5pbWFsU3BhblRyZWUobGlua3MpO1xyXG4gICAgICAgIHRoaXMuTVNUID0gbXN0O1xyXG4gICAgICAgIHRoaXMuUk9VVElOR19UQUJMRSA9IHRoaXMuTVNULmdldFJvdXRpbmdUYWJsZSh0aGlzLm5hbWUpO1xyXG4gICAgICAgIHRoaXMuY29ubmVjdGlvbi5maW5pc2hlZEluZGV4aW5nLm5leHQobXN0KTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgcmVjZWl2ZShwa2c6IFNpbXVsYXRpb25QYWNrYWdlKSB7XHJcbiAgICAgICAgaWYgKHBrZy5wcm90b2NvbCA9PT0gJ0NTVFAnKSB7XHJcbiAgICAgICAgICAgIHRoaXMuaGFuZGxlQ1NUUFBhY2thZ2UocGtnKTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICB0aGlzLmhhbmRsZVBhY2thZ2UocGtnKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSBoYW5kbGVQYWNrYWdlKHBrZzogU2ltdWxhdGlvblBhY2thZ2UpIHtcclxuICAgICAgICBpZih0aGlzLm5hbWUgPT09IHBrZy5kZXN0aW5hdGlvbil7XHJcbiAgICAgICAgICAgIGFsZXJ0KHRoaXMubmFtZSsgXCIgcmVjZWl2ZWQgYSBwa2cgd2l0aDogXCIgK3BrZy5jb250ZW50KTtcclxuICAgICAgICB9ZWxzZSB7XHJcbiAgICAgICAgICAgIHBrZy50YXJnZXQgPSB0aGlzLlJPVVRJTkdfVEFCTEUuZmluZChpID0+IGkudGFyZ2V0ID09PSBwa2cuZGVzdGluYXRpb24pLm5leHRIb3A7XHJcbiAgICAgICAgICAgIHRoaXMuc2VuZChwa2cpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxufVxyXG4iLCIvKiEgKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKipcclxuQ29weXJpZ2h0IChjKSBNaWNyb3NvZnQgQ29ycG9yYXRpb24uIEFsbCByaWdodHMgcmVzZXJ2ZWQuXHJcbkxpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7IHlvdSBtYXkgbm90IHVzZVxyXG50aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS4gWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZVxyXG5MaWNlbnNlIGF0IGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxyXG5cclxuVEhJUyBDT0RFIElTIFBST1ZJREVEIE9OIEFOICpBUyBJUyogQkFTSVMsIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWVxyXG5LSU5ELCBFSVRIRVIgRVhQUkVTUyBPUiBJTVBMSUVELCBJTkNMVURJTkcgV0lUSE9VVCBMSU1JVEFUSU9OIEFOWSBJTVBMSUVEXHJcbldBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBUSVRMRSwgRklUTkVTUyBGT1IgQSBQQVJUSUNVTEFSIFBVUlBPU0UsXHJcbk1FUkNIQU5UQUJMSVRZIE9SIE5PTi1JTkZSSU5HRU1FTlQuXHJcblxyXG5TZWUgdGhlIEFwYWNoZSBWZXJzaW9uIDIuMCBMaWNlbnNlIGZvciBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnNcclxuYW5kIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxyXG4qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiAqL1xyXG4vKiBnbG9iYWwgUmVmbGVjdCwgUHJvbWlzZSAqL1xyXG5cclxudmFyIGV4dGVuZFN0YXRpY3MgPSBmdW5jdGlvbihkLCBiKSB7XHJcbiAgICBleHRlbmRTdGF0aWNzID0gT2JqZWN0LnNldFByb3RvdHlwZU9mIHx8XHJcbiAgICAgICAgKHsgX19wcm90b19fOiBbXSB9IGluc3RhbmNlb2YgQXJyYXkgJiYgZnVuY3Rpb24gKGQsIGIpIHsgZC5fX3Byb3RvX18gPSBiOyB9KSB8fFxyXG4gICAgICAgIGZ1bmN0aW9uIChkLCBiKSB7IGZvciAodmFyIHAgaW4gYikgaWYgKGIuaGFzT3duUHJvcGVydHkocCkpIGRbcF0gPSBiW3BdOyB9O1xyXG4gICAgcmV0dXJuIGV4dGVuZFN0YXRpY3MoZCwgYik7XHJcbn07XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19leHRlbmRzKGQsIGIpIHtcclxuICAgIGV4dGVuZFN0YXRpY3MoZCwgYik7XHJcbiAgICBmdW5jdGlvbiBfXygpIHsgdGhpcy5jb25zdHJ1Y3RvciA9IGQ7IH1cclxuICAgIGQucHJvdG90eXBlID0gYiA9PT0gbnVsbCA/IE9iamVjdC5jcmVhdGUoYikgOiAoX18ucHJvdG90eXBlID0gYi5wcm90b3R5cGUsIG5ldyBfXygpKTtcclxufVxyXG5cclxuZXhwb3J0IHZhciBfX2Fzc2lnbiA9IGZ1bmN0aW9uKCkge1xyXG4gICAgX19hc3NpZ24gPSBPYmplY3QuYXNzaWduIHx8IGZ1bmN0aW9uIF9fYXNzaWduKHQpIHtcclxuICAgICAgICBmb3IgKHZhciBzLCBpID0gMSwgbiA9IGFyZ3VtZW50cy5sZW5ndGg7IGkgPCBuOyBpKyspIHtcclxuICAgICAgICAgICAgcyA9IGFyZ3VtZW50c1tpXTtcclxuICAgICAgICAgICAgZm9yICh2YXIgcCBpbiBzKSBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHMsIHApKSB0W3BdID0gc1twXTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIHQ7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gX19hc3NpZ24uYXBwbHkodGhpcywgYXJndW1lbnRzKTtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fcmVzdChzLCBlKSB7XHJcbiAgICB2YXIgdCA9IHt9O1xyXG4gICAgZm9yICh2YXIgcCBpbiBzKSBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHMsIHApICYmIGUuaW5kZXhPZihwKSA8IDApXHJcbiAgICAgICAgdFtwXSA9IHNbcF07XHJcbiAgICBpZiAocyAhPSBudWxsICYmIHR5cGVvZiBPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzID09PSBcImZ1bmN0aW9uXCIpXHJcbiAgICAgICAgZm9yICh2YXIgaSA9IDAsIHAgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKHMpOyBpIDwgcC5sZW5ndGg7IGkrKykgaWYgKGUuaW5kZXhPZihwW2ldKSA8IDApXHJcbiAgICAgICAgICAgIHRbcFtpXV0gPSBzW3BbaV1dO1xyXG4gICAgcmV0dXJuIHQ7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX2RlY29yYXRlKGRlY29yYXRvcnMsIHRhcmdldCwga2V5LCBkZXNjKSB7XHJcbiAgICB2YXIgYyA9IGFyZ3VtZW50cy5sZW5ndGgsIHIgPSBjIDwgMyA/IHRhcmdldCA6IGRlc2MgPT09IG51bGwgPyBkZXNjID0gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcih0YXJnZXQsIGtleSkgOiBkZXNjLCBkO1xyXG4gICAgaWYgKHR5cGVvZiBSZWZsZWN0ID09PSBcIm9iamVjdFwiICYmIHR5cGVvZiBSZWZsZWN0LmRlY29yYXRlID09PSBcImZ1bmN0aW9uXCIpIHIgPSBSZWZsZWN0LmRlY29yYXRlKGRlY29yYXRvcnMsIHRhcmdldCwga2V5LCBkZXNjKTtcclxuICAgIGVsc2UgZm9yICh2YXIgaSA9IGRlY29yYXRvcnMubGVuZ3RoIC0gMTsgaSA+PSAwOyBpLS0pIGlmIChkID0gZGVjb3JhdG9yc1tpXSkgciA9IChjIDwgMyA/IGQocikgOiBjID4gMyA/IGQodGFyZ2V0LCBrZXksIHIpIDogZCh0YXJnZXQsIGtleSkpIHx8IHI7XHJcbiAgICByZXR1cm4gYyA+IDMgJiYgciAmJiBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBrZXksIHIpLCByO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19wYXJhbShwYXJhbUluZGV4LCBkZWNvcmF0b3IpIHtcclxuICAgIHJldHVybiBmdW5jdGlvbiAodGFyZ2V0LCBrZXkpIHsgZGVjb3JhdG9yKHRhcmdldCwga2V5LCBwYXJhbUluZGV4KTsgfVxyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19tZXRhZGF0YShtZXRhZGF0YUtleSwgbWV0YWRhdGFWYWx1ZSkge1xyXG4gICAgaWYgKHR5cGVvZiBSZWZsZWN0ID09PSBcIm9iamVjdFwiICYmIHR5cGVvZiBSZWZsZWN0Lm1ldGFkYXRhID09PSBcImZ1bmN0aW9uXCIpIHJldHVybiBSZWZsZWN0Lm1ldGFkYXRhKG1ldGFkYXRhS2V5LCBtZXRhZGF0YVZhbHVlKTtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fYXdhaXRlcih0aGlzQXJnLCBfYXJndW1lbnRzLCBQLCBnZW5lcmF0b3IpIHtcclxuICAgIHJldHVybiBuZXcgKFAgfHwgKFAgPSBQcm9taXNlKSkoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkge1xyXG4gICAgICAgIGZ1bmN0aW9uIGZ1bGZpbGxlZCh2YWx1ZSkgeyB0cnkgeyBzdGVwKGdlbmVyYXRvci5uZXh0KHZhbHVlKSk7IH0gY2F0Y2ggKGUpIHsgcmVqZWN0KGUpOyB9IH1cclxuICAgICAgICBmdW5jdGlvbiByZWplY3RlZCh2YWx1ZSkgeyB0cnkgeyBzdGVwKGdlbmVyYXRvcltcInRocm93XCJdKHZhbHVlKSk7IH0gY2F0Y2ggKGUpIHsgcmVqZWN0KGUpOyB9IH1cclxuICAgICAgICBmdW5jdGlvbiBzdGVwKHJlc3VsdCkgeyByZXN1bHQuZG9uZSA/IHJlc29sdmUocmVzdWx0LnZhbHVlKSA6IG5ldyBQKGZ1bmN0aW9uIChyZXNvbHZlKSB7IHJlc29sdmUocmVzdWx0LnZhbHVlKTsgfSkudGhlbihmdWxmaWxsZWQsIHJlamVjdGVkKTsgfVxyXG4gICAgICAgIHN0ZXAoKGdlbmVyYXRvciA9IGdlbmVyYXRvci5hcHBseSh0aGlzQXJnLCBfYXJndW1lbnRzIHx8IFtdKSkubmV4dCgpKTtcclxuICAgIH0pO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19nZW5lcmF0b3IodGhpc0FyZywgYm9keSkge1xyXG4gICAgdmFyIF8gPSB7IGxhYmVsOiAwLCBzZW50OiBmdW5jdGlvbigpIHsgaWYgKHRbMF0gJiAxKSB0aHJvdyB0WzFdOyByZXR1cm4gdFsxXTsgfSwgdHJ5czogW10sIG9wczogW10gfSwgZiwgeSwgdCwgZztcclxuICAgIHJldHVybiBnID0geyBuZXh0OiB2ZXJiKDApLCBcInRocm93XCI6IHZlcmIoMSksIFwicmV0dXJuXCI6IHZlcmIoMikgfSwgdHlwZW9mIFN5bWJvbCA9PT0gXCJmdW5jdGlvblwiICYmIChnW1N5bWJvbC5pdGVyYXRvcl0gPSBmdW5jdGlvbigpIHsgcmV0dXJuIHRoaXM7IH0pLCBnO1xyXG4gICAgZnVuY3Rpb24gdmVyYihuKSB7IHJldHVybiBmdW5jdGlvbiAodikgeyByZXR1cm4gc3RlcChbbiwgdl0pOyB9OyB9XHJcbiAgICBmdW5jdGlvbiBzdGVwKG9wKSB7XHJcbiAgICAgICAgaWYgKGYpIHRocm93IG5ldyBUeXBlRXJyb3IoXCJHZW5lcmF0b3IgaXMgYWxyZWFkeSBleGVjdXRpbmcuXCIpO1xyXG4gICAgICAgIHdoaWxlIChfKSB0cnkge1xyXG4gICAgICAgICAgICBpZiAoZiA9IDEsIHkgJiYgKHQgPSBvcFswXSAmIDIgPyB5W1wicmV0dXJuXCJdIDogb3BbMF0gPyB5W1widGhyb3dcIl0gfHwgKCh0ID0geVtcInJldHVyblwiXSkgJiYgdC5jYWxsKHkpLCAwKSA6IHkubmV4dCkgJiYgISh0ID0gdC5jYWxsKHksIG9wWzFdKSkuZG9uZSkgcmV0dXJuIHQ7XHJcbiAgICAgICAgICAgIGlmICh5ID0gMCwgdCkgb3AgPSBbb3BbMF0gJiAyLCB0LnZhbHVlXTtcclxuICAgICAgICAgICAgc3dpdGNoIChvcFswXSkge1xyXG4gICAgICAgICAgICAgICAgY2FzZSAwOiBjYXNlIDE6IHQgPSBvcDsgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICBjYXNlIDQ6IF8ubGFiZWwrKzsgcmV0dXJuIHsgdmFsdWU6IG9wWzFdLCBkb25lOiBmYWxzZSB9O1xyXG4gICAgICAgICAgICAgICAgY2FzZSA1OiBfLmxhYmVsKys7IHkgPSBvcFsxXTsgb3AgPSBbMF07IGNvbnRpbnVlO1xyXG4gICAgICAgICAgICAgICAgY2FzZSA3OiBvcCA9IF8ub3BzLnBvcCgpOyBfLnRyeXMucG9wKCk7IGNvbnRpbnVlO1xyXG4gICAgICAgICAgICAgICAgZGVmYXVsdDpcclxuICAgICAgICAgICAgICAgICAgICBpZiAoISh0ID0gXy50cnlzLCB0ID0gdC5sZW5ndGggPiAwICYmIHRbdC5sZW5ndGggLSAxXSkgJiYgKG9wWzBdID09PSA2IHx8IG9wWzBdID09PSAyKSkgeyBfID0gMDsgY29udGludWU7IH1cclxuICAgICAgICAgICAgICAgICAgICBpZiAob3BbMF0gPT09IDMgJiYgKCF0IHx8IChvcFsxXSA+IHRbMF0gJiYgb3BbMV0gPCB0WzNdKSkpIHsgXy5sYWJlbCA9IG9wWzFdOyBicmVhazsgfVxyXG4gICAgICAgICAgICAgICAgICAgIGlmIChvcFswXSA9PT0gNiAmJiBfLmxhYmVsIDwgdFsxXSkgeyBfLmxhYmVsID0gdFsxXTsgdCA9IG9wOyBicmVhazsgfVxyXG4gICAgICAgICAgICAgICAgICAgIGlmICh0ICYmIF8ubGFiZWwgPCB0WzJdKSB7IF8ubGFiZWwgPSB0WzJdOyBfLm9wcy5wdXNoKG9wKTsgYnJlYWs7IH1cclxuICAgICAgICAgICAgICAgICAgICBpZiAodFsyXSkgXy5vcHMucG9wKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgXy50cnlzLnBvcCgpOyBjb250aW51ZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBvcCA9IGJvZHkuY2FsbCh0aGlzQXJnLCBfKTtcclxuICAgICAgICB9IGNhdGNoIChlKSB7IG9wID0gWzYsIGVdOyB5ID0gMDsgfSBmaW5hbGx5IHsgZiA9IHQgPSAwOyB9XHJcbiAgICAgICAgaWYgKG9wWzBdICYgNSkgdGhyb3cgb3BbMV07IHJldHVybiB7IHZhbHVlOiBvcFswXSA/IG9wWzFdIDogdm9pZCAwLCBkb25lOiB0cnVlIH07XHJcbiAgICB9XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX2V4cG9ydFN0YXIobSwgZXhwb3J0cykge1xyXG4gICAgZm9yICh2YXIgcCBpbiBtKSBpZiAoIWV4cG9ydHMuaGFzT3duUHJvcGVydHkocCkpIGV4cG9ydHNbcF0gPSBtW3BdO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX192YWx1ZXMobykge1xyXG4gICAgdmFyIG0gPSB0eXBlb2YgU3ltYm9sID09PSBcImZ1bmN0aW9uXCIgJiYgb1tTeW1ib2wuaXRlcmF0b3JdLCBpID0gMDtcclxuICAgIGlmIChtKSByZXR1cm4gbS5jYWxsKG8pO1xyXG4gICAgcmV0dXJuIHtcclxuICAgICAgICBuZXh0OiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIGlmIChvICYmIGkgPj0gby5sZW5ndGgpIG8gPSB2b2lkIDA7XHJcbiAgICAgICAgICAgIHJldHVybiB7IHZhbHVlOiBvICYmIG9baSsrXSwgZG9uZTogIW8gfTtcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19yZWFkKG8sIG4pIHtcclxuICAgIHZhciBtID0gdHlwZW9mIFN5bWJvbCA9PT0gXCJmdW5jdGlvblwiICYmIG9bU3ltYm9sLml0ZXJhdG9yXTtcclxuICAgIGlmICghbSkgcmV0dXJuIG87XHJcbiAgICB2YXIgaSA9IG0uY2FsbChvKSwgciwgYXIgPSBbXSwgZTtcclxuICAgIHRyeSB7XHJcbiAgICAgICAgd2hpbGUgKChuID09PSB2b2lkIDAgfHwgbi0tID4gMCkgJiYgIShyID0gaS5uZXh0KCkpLmRvbmUpIGFyLnB1c2goci52YWx1ZSk7XHJcbiAgICB9XHJcbiAgICBjYXRjaCAoZXJyb3IpIHsgZSA9IHsgZXJyb3I6IGVycm9yIH07IH1cclxuICAgIGZpbmFsbHkge1xyXG4gICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgIGlmIChyICYmICFyLmRvbmUgJiYgKG0gPSBpW1wicmV0dXJuXCJdKSkgbS5jYWxsKGkpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBmaW5hbGx5IHsgaWYgKGUpIHRocm93IGUuZXJyb3I7IH1cclxuICAgIH1cclxuICAgIHJldHVybiBhcjtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fc3ByZWFkKCkge1xyXG4gICAgZm9yICh2YXIgYXIgPSBbXSwgaSA9IDA7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspXHJcbiAgICAgICAgYXIgPSBhci5jb25jYXQoX19yZWFkKGFyZ3VtZW50c1tpXSkpO1xyXG4gICAgcmV0dXJuIGFyO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19hd2FpdCh2KSB7XHJcbiAgICByZXR1cm4gdGhpcyBpbnN0YW5jZW9mIF9fYXdhaXQgPyAodGhpcy52ID0gdiwgdGhpcykgOiBuZXcgX19hd2FpdCh2KTtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fYXN5bmNHZW5lcmF0b3IodGhpc0FyZywgX2FyZ3VtZW50cywgZ2VuZXJhdG9yKSB7XHJcbiAgICBpZiAoIVN5bWJvbC5hc3luY0l0ZXJhdG9yKSB0aHJvdyBuZXcgVHlwZUVycm9yKFwiU3ltYm9sLmFzeW5jSXRlcmF0b3IgaXMgbm90IGRlZmluZWQuXCIpO1xyXG4gICAgdmFyIGcgPSBnZW5lcmF0b3IuYXBwbHkodGhpc0FyZywgX2FyZ3VtZW50cyB8fCBbXSksIGksIHEgPSBbXTtcclxuICAgIHJldHVybiBpID0ge30sIHZlcmIoXCJuZXh0XCIpLCB2ZXJiKFwidGhyb3dcIiksIHZlcmIoXCJyZXR1cm5cIiksIGlbU3ltYm9sLmFzeW5jSXRlcmF0b3JdID0gZnVuY3Rpb24gKCkgeyByZXR1cm4gdGhpczsgfSwgaTtcclxuICAgIGZ1bmN0aW9uIHZlcmIobikgeyBpZiAoZ1tuXSkgaVtuXSA9IGZ1bmN0aW9uICh2KSB7IHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbiAoYSwgYikgeyBxLnB1c2goW24sIHYsIGEsIGJdKSA+IDEgfHwgcmVzdW1lKG4sIHYpOyB9KTsgfTsgfVxyXG4gICAgZnVuY3Rpb24gcmVzdW1lKG4sIHYpIHsgdHJ5IHsgc3RlcChnW25dKHYpKTsgfSBjYXRjaCAoZSkgeyBzZXR0bGUocVswXVszXSwgZSk7IH0gfVxyXG4gICAgZnVuY3Rpb24gc3RlcChyKSB7IHIudmFsdWUgaW5zdGFuY2VvZiBfX2F3YWl0ID8gUHJvbWlzZS5yZXNvbHZlKHIudmFsdWUudikudGhlbihmdWxmaWxsLCByZWplY3QpIDogc2V0dGxlKHFbMF1bMl0sIHIpOyB9XHJcbiAgICBmdW5jdGlvbiBmdWxmaWxsKHZhbHVlKSB7IHJlc3VtZShcIm5leHRcIiwgdmFsdWUpOyB9XHJcbiAgICBmdW5jdGlvbiByZWplY3QodmFsdWUpIHsgcmVzdW1lKFwidGhyb3dcIiwgdmFsdWUpOyB9XHJcbiAgICBmdW5jdGlvbiBzZXR0bGUoZiwgdikgeyBpZiAoZih2KSwgcS5zaGlmdCgpLCBxLmxlbmd0aCkgcmVzdW1lKHFbMF1bMF0sIHFbMF1bMV0pOyB9XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX2FzeW5jRGVsZWdhdG9yKG8pIHtcclxuICAgIHZhciBpLCBwO1xyXG4gICAgcmV0dXJuIGkgPSB7fSwgdmVyYihcIm5leHRcIiksIHZlcmIoXCJ0aHJvd1wiLCBmdW5jdGlvbiAoZSkgeyB0aHJvdyBlOyB9KSwgdmVyYihcInJldHVyblwiKSwgaVtTeW1ib2wuaXRlcmF0b3JdID0gZnVuY3Rpb24gKCkgeyByZXR1cm4gdGhpczsgfSwgaTtcclxuICAgIGZ1bmN0aW9uIHZlcmIobiwgZikgeyBpW25dID0gb1tuXSA/IGZ1bmN0aW9uICh2KSB7IHJldHVybiAocCA9ICFwKSA/IHsgdmFsdWU6IF9fYXdhaXQob1tuXSh2KSksIGRvbmU6IG4gPT09IFwicmV0dXJuXCIgfSA6IGYgPyBmKHYpIDogdjsgfSA6IGY7IH1cclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fYXN5bmNWYWx1ZXMobykge1xyXG4gICAgaWYgKCFTeW1ib2wuYXN5bmNJdGVyYXRvcikgdGhyb3cgbmV3IFR5cGVFcnJvcihcIlN5bWJvbC5hc3luY0l0ZXJhdG9yIGlzIG5vdCBkZWZpbmVkLlwiKTtcclxuICAgIHZhciBtID0gb1tTeW1ib2wuYXN5bmNJdGVyYXRvcl0sIGk7XHJcbiAgICByZXR1cm4gbSA/IG0uY2FsbChvKSA6IChvID0gdHlwZW9mIF9fdmFsdWVzID09PSBcImZ1bmN0aW9uXCIgPyBfX3ZhbHVlcyhvKSA6IG9bU3ltYm9sLml0ZXJhdG9yXSgpLCBpID0ge30sIHZlcmIoXCJuZXh0XCIpLCB2ZXJiKFwidGhyb3dcIiksIHZlcmIoXCJyZXR1cm5cIiksIGlbU3ltYm9sLmFzeW5jSXRlcmF0b3JdID0gZnVuY3Rpb24gKCkgeyByZXR1cm4gdGhpczsgfSwgaSk7XHJcbiAgICBmdW5jdGlvbiB2ZXJiKG4pIHsgaVtuXSA9IG9bbl0gJiYgZnVuY3Rpb24gKHYpIHsgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHsgdiA9IG9bbl0odiksIHNldHRsZShyZXNvbHZlLCByZWplY3QsIHYuZG9uZSwgdi52YWx1ZSk7IH0pOyB9OyB9XHJcbiAgICBmdW5jdGlvbiBzZXR0bGUocmVzb2x2ZSwgcmVqZWN0LCBkLCB2KSB7IFByb21pc2UucmVzb2x2ZSh2KS50aGVuKGZ1bmN0aW9uKHYpIHsgcmVzb2x2ZSh7IHZhbHVlOiB2LCBkb25lOiBkIH0pOyB9LCByZWplY3QpOyB9XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX21ha2VUZW1wbGF0ZU9iamVjdChjb29rZWQsIHJhdykge1xyXG4gICAgaWYgKE9iamVjdC5kZWZpbmVQcm9wZXJ0eSkgeyBPYmplY3QuZGVmaW5lUHJvcGVydHkoY29va2VkLCBcInJhd1wiLCB7IHZhbHVlOiByYXcgfSk7IH0gZWxzZSB7IGNvb2tlZC5yYXcgPSByYXc7IH1cclxuICAgIHJldHVybiBjb29rZWQ7XHJcbn07XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19pbXBvcnRTdGFyKG1vZCkge1xyXG4gICAgaWYgKG1vZCAmJiBtb2QuX19lc01vZHVsZSkgcmV0dXJuIG1vZDtcclxuICAgIHZhciByZXN1bHQgPSB7fTtcclxuICAgIGlmIChtb2QgIT0gbnVsbCkgZm9yICh2YXIgayBpbiBtb2QpIGlmIChPYmplY3QuaGFzT3duUHJvcGVydHkuY2FsbChtb2QsIGspKSByZXN1bHRba10gPSBtb2Rba107XHJcbiAgICByZXN1bHQuZGVmYXVsdCA9IG1vZDtcclxuICAgIHJldHVybiByZXN1bHQ7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX2ltcG9ydERlZmF1bHQobW9kKSB7XHJcbiAgICByZXR1cm4gKG1vZCAmJiBtb2QuX19lc01vZHVsZSkgPyBtb2QgOiB7IGRlZmF1bHQ6IG1vZCB9O1xyXG59XHJcbiIsIi8qKiBQVVJFX0lNUE9SVFNfU1RBUlQgIFBVUkVfSU1QT1JUU19FTkQgKi9cbmV4cG9ydCBmdW5jdGlvbiBpc0Z1bmN0aW9uKHgpIHtcbiAgICByZXR1cm4gdHlwZW9mIHggPT09ICdmdW5jdGlvbic7XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1pc0Z1bmN0aW9uLmpzLm1hcFxuIiwiLyoqIFBVUkVfSU1QT1JUU19TVEFSVCAgUFVSRV9JTVBPUlRTX0VORCAqL1xudmFyIF9lbmFibGVfc3VwZXJfZ3Jvc3NfbW9kZV90aGF0X3dpbGxfY2F1c2VfYmFkX3RoaW5ncyA9IGZhbHNlO1xuZXhwb3J0IHZhciBjb25maWcgPSB7XG4gICAgUHJvbWlzZTogdW5kZWZpbmVkLFxuICAgIHNldCB1c2VEZXByZWNhdGVkU3luY2hyb25vdXNFcnJvckhhbmRsaW5nKHZhbHVlKSB7XG4gICAgICAgIGlmICh2YWx1ZSkge1xuICAgICAgICAgICAgdmFyIGVycm9yID0gLypAX19QVVJFX18qLyBuZXcgRXJyb3IoKTtcbiAgICAgICAgICAgIC8qQF9fUFVSRV9fKi8gY29uc29sZS53YXJuKCdERVBSRUNBVEVEISBSeEpTIHdhcyBzZXQgdG8gdXNlIGRlcHJlY2F0ZWQgc3luY2hyb25vdXMgZXJyb3IgaGFuZGxpbmcgYmVoYXZpb3IgYnkgY29kZSBhdDogXFxuJyArIGVycm9yLnN0YWNrKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChfZW5hYmxlX3N1cGVyX2dyb3NzX21vZGVfdGhhdF93aWxsX2NhdXNlX2JhZF90aGluZ3MpIHtcbiAgICAgICAgICAgIC8qQF9fUFVSRV9fKi8gY29uc29sZS5sb2coJ1J4SlM6IEJhY2sgdG8gYSBiZXR0ZXIgZXJyb3IgYmVoYXZpb3IuIFRoYW5rIHlvdS4gPDMnKTtcbiAgICAgICAgfVxuICAgICAgICBfZW5hYmxlX3N1cGVyX2dyb3NzX21vZGVfdGhhdF93aWxsX2NhdXNlX2JhZF90aGluZ3MgPSB2YWx1ZTtcbiAgICB9LFxuICAgIGdldCB1c2VEZXByZWNhdGVkU3luY2hyb25vdXNFcnJvckhhbmRsaW5nKCkge1xuICAgICAgICByZXR1cm4gX2VuYWJsZV9zdXBlcl9ncm9zc19tb2RlX3RoYXRfd2lsbF9jYXVzZV9iYWRfdGhpbmdzO1xuICAgIH0sXG59O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Y29uZmlnLmpzLm1hcFxuIiwiLyoqIFBVUkVfSU1QT1JUU19TVEFSVCAgUFVSRV9JTVBPUlRTX0VORCAqL1xuZXhwb3J0IGZ1bmN0aW9uIGhvc3RSZXBvcnRFcnJvcihlcnIpIHtcbiAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHsgdGhyb3cgZXJyOyB9KTtcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWhvc3RSZXBvcnRFcnJvci5qcy5tYXBcbiIsIi8qKiBQVVJFX0lNUE9SVFNfU1RBUlQgX2NvbmZpZyxfdXRpbF9ob3N0UmVwb3J0RXJyb3IgUFVSRV9JTVBPUlRTX0VORCAqL1xuaW1wb3J0IHsgY29uZmlnIH0gZnJvbSAnLi9jb25maWcnO1xuaW1wb3J0IHsgaG9zdFJlcG9ydEVycm9yIH0gZnJvbSAnLi91dGlsL2hvc3RSZXBvcnRFcnJvcic7XG5leHBvcnQgdmFyIGVtcHR5ID0ge1xuICAgIGNsb3NlZDogdHJ1ZSxcbiAgICBuZXh0OiBmdW5jdGlvbiAodmFsdWUpIHsgfSxcbiAgICBlcnJvcjogZnVuY3Rpb24gKGVycikge1xuICAgICAgICBpZiAoY29uZmlnLnVzZURlcHJlY2F0ZWRTeW5jaHJvbm91c0Vycm9ySGFuZGxpbmcpIHtcbiAgICAgICAgICAgIHRocm93IGVycjtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGhvc3RSZXBvcnRFcnJvcihlcnIpO1xuICAgICAgICB9XG4gICAgfSxcbiAgICBjb21wbGV0ZTogZnVuY3Rpb24gKCkgeyB9XG59O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9T2JzZXJ2ZXIuanMubWFwXG4iLCIvKiogUFVSRV9JTVBPUlRTX1NUQVJUICBQVVJFX0lNUE9SVFNfRU5EICovXG5leHBvcnQgdmFyIGlzQXJyYXkgPSBBcnJheS5pc0FycmF5IHx8IChmdW5jdGlvbiAoeCkgeyByZXR1cm4geCAmJiB0eXBlb2YgeC5sZW5ndGggPT09ICdudW1iZXInOyB9KTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWlzQXJyYXkuanMubWFwXG4iLCIvKiogUFVSRV9JTVBPUlRTX1NUQVJUICBQVVJFX0lNUE9SVFNfRU5EICovXG5mdW5jdGlvbiBVbnN1YnNjcmlwdGlvbkVycm9ySW1wbChlcnJvcnMpIHtcbiAgICBFcnJvci5jYWxsKHRoaXMpO1xuICAgIHRoaXMubWVzc2FnZSA9IGVycm9ycyA/XG4gICAgICAgIGVycm9ycy5sZW5ndGggKyBcIiBlcnJvcnMgb2NjdXJyZWQgZHVyaW5nIHVuc3Vic2NyaXB0aW9uOlxcblwiICsgZXJyb3JzLm1hcChmdW5jdGlvbiAoZXJyLCBpKSB7IHJldHVybiBpICsgMSArIFwiKSBcIiArIGVyci50b1N0cmluZygpOyB9KS5qb2luKCdcXG4gICcpIDogJyc7XG4gICAgdGhpcy5uYW1lID0gJ1Vuc3Vic2NyaXB0aW9uRXJyb3InO1xuICAgIHRoaXMuZXJyb3JzID0gZXJyb3JzO1xuICAgIHJldHVybiB0aGlzO1xufVxuVW5zdWJzY3JpcHRpb25FcnJvckltcGwucHJvdG90eXBlID0gLypAX19QVVJFX18qLyBPYmplY3QuY3JlYXRlKEVycm9yLnByb3RvdHlwZSk7XG5leHBvcnQgdmFyIFVuc3Vic2NyaXB0aW9uRXJyb3IgPSBVbnN1YnNjcmlwdGlvbkVycm9ySW1wbDtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPVVuc3Vic2NyaXB0aW9uRXJyb3IuanMubWFwXG4iLCIvKiogUFVSRV9JTVBPUlRTX1NUQVJUIF91dGlsX2lzQXJyYXksX3V0aWxfaXNPYmplY3QsX3V0aWxfaXNGdW5jdGlvbixfdXRpbF9VbnN1YnNjcmlwdGlvbkVycm9yIFBVUkVfSU1QT1JUU19FTkQgKi9cbmltcG9ydCB7IGlzQXJyYXkgfSBmcm9tICcuL3V0aWwvaXNBcnJheSc7XG5pbXBvcnQgeyBpc09iamVjdCB9IGZyb20gJy4vdXRpbC9pc09iamVjdCc7XG5pbXBvcnQgeyBpc0Z1bmN0aW9uIH0gZnJvbSAnLi91dGlsL2lzRnVuY3Rpb24nO1xuaW1wb3J0IHsgVW5zdWJzY3JpcHRpb25FcnJvciB9IGZyb20gJy4vdXRpbC9VbnN1YnNjcmlwdGlvbkVycm9yJztcbnZhciBTdWJzY3JpcHRpb24gPSAvKkBfX1BVUkVfXyovIChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gU3Vic2NyaXB0aW9uKHVuc3Vic2NyaWJlKSB7XG4gICAgICAgIHRoaXMuY2xvc2VkID0gZmFsc2U7XG4gICAgICAgIHRoaXMuX3BhcmVudCA9IG51bGw7XG4gICAgICAgIHRoaXMuX3BhcmVudHMgPSBudWxsO1xuICAgICAgICB0aGlzLl9zdWJzY3JpcHRpb25zID0gbnVsbDtcbiAgICAgICAgaWYgKHVuc3Vic2NyaWJlKSB7XG4gICAgICAgICAgICB0aGlzLl91bnN1YnNjcmliZSA9IHVuc3Vic2NyaWJlO1xuICAgICAgICB9XG4gICAgfVxuICAgIFN1YnNjcmlwdGlvbi5wcm90b3R5cGUudW5zdWJzY3JpYmUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBoYXNFcnJvcnMgPSBmYWxzZTtcbiAgICAgICAgdmFyIGVycm9ycztcbiAgICAgICAgaWYgKHRoaXMuY2xvc2VkKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgdmFyIF9hID0gdGhpcywgX3BhcmVudCA9IF9hLl9wYXJlbnQsIF9wYXJlbnRzID0gX2EuX3BhcmVudHMsIF91bnN1YnNjcmliZSA9IF9hLl91bnN1YnNjcmliZSwgX3N1YnNjcmlwdGlvbnMgPSBfYS5fc3Vic2NyaXB0aW9ucztcbiAgICAgICAgdGhpcy5jbG9zZWQgPSB0cnVlO1xuICAgICAgICB0aGlzLl9wYXJlbnQgPSBudWxsO1xuICAgICAgICB0aGlzLl9wYXJlbnRzID0gbnVsbDtcbiAgICAgICAgdGhpcy5fc3Vic2NyaXB0aW9ucyA9IG51bGw7XG4gICAgICAgIHZhciBpbmRleCA9IC0xO1xuICAgICAgICB2YXIgbGVuID0gX3BhcmVudHMgPyBfcGFyZW50cy5sZW5ndGggOiAwO1xuICAgICAgICB3aGlsZSAoX3BhcmVudCkge1xuICAgICAgICAgICAgX3BhcmVudC5yZW1vdmUodGhpcyk7XG4gICAgICAgICAgICBfcGFyZW50ID0gKytpbmRleCA8IGxlbiAmJiBfcGFyZW50c1tpbmRleF0gfHwgbnVsbDtcbiAgICAgICAgfVxuICAgICAgICBpZiAoaXNGdW5jdGlvbihfdW5zdWJzY3JpYmUpKSB7XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIF91bnN1YnNjcmliZS5jYWxsKHRoaXMpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgICAgICBoYXNFcnJvcnMgPSB0cnVlO1xuICAgICAgICAgICAgICAgIGVycm9ycyA9IGUgaW5zdGFuY2VvZiBVbnN1YnNjcmlwdGlvbkVycm9yID8gZmxhdHRlblVuc3Vic2NyaXB0aW9uRXJyb3JzKGUuZXJyb3JzKSA6IFtlXTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpZiAoaXNBcnJheShfc3Vic2NyaXB0aW9ucykpIHtcbiAgICAgICAgICAgIGluZGV4ID0gLTE7XG4gICAgICAgICAgICBsZW4gPSBfc3Vic2NyaXB0aW9ucy5sZW5ndGg7XG4gICAgICAgICAgICB3aGlsZSAoKytpbmRleCA8IGxlbikge1xuICAgICAgICAgICAgICAgIHZhciBzdWIgPSBfc3Vic2NyaXB0aW9uc1tpbmRleF07XG4gICAgICAgICAgICAgICAgaWYgKGlzT2JqZWN0KHN1YikpIHtcbiAgICAgICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHN1Yi51bnN1YnNjcmliZSgpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGNhdGNoIChlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBoYXNFcnJvcnMgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgZXJyb3JzID0gZXJyb3JzIHx8IFtdO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGUgaW5zdGFuY2VvZiBVbnN1YnNjcmlwdGlvbkVycm9yKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZXJyb3JzID0gZXJyb3JzLmNvbmNhdChmbGF0dGVuVW5zdWJzY3JpcHRpb25FcnJvcnMoZS5lcnJvcnMpKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVycm9ycy5wdXNoKGUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmIChoYXNFcnJvcnMpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBVbnN1YnNjcmlwdGlvbkVycm9yKGVycm9ycyk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIFN1YnNjcmlwdGlvbi5wcm90b3R5cGUuYWRkID0gZnVuY3Rpb24gKHRlYXJkb3duKSB7XG4gICAgICAgIHZhciBzdWJzY3JpcHRpb24gPSB0ZWFyZG93bjtcbiAgICAgICAgc3dpdGNoICh0eXBlb2YgdGVhcmRvd24pIHtcbiAgICAgICAgICAgIGNhc2UgJ2Z1bmN0aW9uJzpcbiAgICAgICAgICAgICAgICBzdWJzY3JpcHRpb24gPSBuZXcgU3Vic2NyaXB0aW9uKHRlYXJkb3duKTtcbiAgICAgICAgICAgIGNhc2UgJ29iamVjdCc6XG4gICAgICAgICAgICAgICAgaWYgKHN1YnNjcmlwdGlvbiA9PT0gdGhpcyB8fCBzdWJzY3JpcHRpb24uY2xvc2VkIHx8IHR5cGVvZiBzdWJzY3JpcHRpb24udW5zdWJzY3JpYmUgIT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHN1YnNjcmlwdGlvbjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSBpZiAodGhpcy5jbG9zZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgc3Vic2NyaXB0aW9uLnVuc3Vic2NyaWJlKCk7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBzdWJzY3JpcHRpb247XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKCEoc3Vic2NyaXB0aW9uIGluc3RhbmNlb2YgU3Vic2NyaXB0aW9uKSkge1xuICAgICAgICAgICAgICAgICAgICB2YXIgdG1wID0gc3Vic2NyaXB0aW9uO1xuICAgICAgICAgICAgICAgICAgICBzdWJzY3JpcHRpb24gPSBuZXcgU3Vic2NyaXB0aW9uKCk7XG4gICAgICAgICAgICAgICAgICAgIHN1YnNjcmlwdGlvbi5fc3Vic2NyaXB0aW9ucyA9IFt0bXBdO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGRlZmF1bHQ6IHtcbiAgICAgICAgICAgICAgICBpZiAoIXRlYXJkb3duKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBTdWJzY3JpcHRpb24uRU1QVFk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcigndW5yZWNvZ25pemVkIHRlYXJkb3duICcgKyB0ZWFyZG93biArICcgYWRkZWQgdG8gU3Vic2NyaXB0aW9uLicpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmIChzdWJzY3JpcHRpb24uX2FkZFBhcmVudCh0aGlzKSkge1xuICAgICAgICAgICAgdmFyIHN1YnNjcmlwdGlvbnMgPSB0aGlzLl9zdWJzY3JpcHRpb25zO1xuICAgICAgICAgICAgaWYgKHN1YnNjcmlwdGlvbnMpIHtcbiAgICAgICAgICAgICAgICBzdWJzY3JpcHRpb25zLnB1c2goc3Vic2NyaXB0aW9uKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHRoaXMuX3N1YnNjcmlwdGlvbnMgPSBbc3Vic2NyaXB0aW9uXTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gc3Vic2NyaXB0aW9uO1xuICAgIH07XG4gICAgU3Vic2NyaXB0aW9uLnByb3RvdHlwZS5yZW1vdmUgPSBmdW5jdGlvbiAoc3Vic2NyaXB0aW9uKSB7XG4gICAgICAgIHZhciBzdWJzY3JpcHRpb25zID0gdGhpcy5fc3Vic2NyaXB0aW9ucztcbiAgICAgICAgaWYgKHN1YnNjcmlwdGlvbnMpIHtcbiAgICAgICAgICAgIHZhciBzdWJzY3JpcHRpb25JbmRleCA9IHN1YnNjcmlwdGlvbnMuaW5kZXhPZihzdWJzY3JpcHRpb24pO1xuICAgICAgICAgICAgaWYgKHN1YnNjcmlwdGlvbkluZGV4ICE9PSAtMSkge1xuICAgICAgICAgICAgICAgIHN1YnNjcmlwdGlvbnMuc3BsaWNlKHN1YnNjcmlwdGlvbkluZGV4LCAxKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH07XG4gICAgU3Vic2NyaXB0aW9uLnByb3RvdHlwZS5fYWRkUGFyZW50ID0gZnVuY3Rpb24gKHBhcmVudCkge1xuICAgICAgICB2YXIgX2EgPSB0aGlzLCBfcGFyZW50ID0gX2EuX3BhcmVudCwgX3BhcmVudHMgPSBfYS5fcGFyZW50cztcbiAgICAgICAgaWYgKF9wYXJlbnQgPT09IHBhcmVudCkge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKCFfcGFyZW50KSB7XG4gICAgICAgICAgICB0aGlzLl9wYXJlbnQgPSBwYXJlbnQ7XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmICghX3BhcmVudHMpIHtcbiAgICAgICAgICAgIHRoaXMuX3BhcmVudHMgPSBbcGFyZW50XTtcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKF9wYXJlbnRzLmluZGV4T2YocGFyZW50KSA9PT0gLTEpIHtcbiAgICAgICAgICAgIF9wYXJlbnRzLnB1c2gocGFyZW50KTtcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9O1xuICAgIFN1YnNjcmlwdGlvbi5FTVBUWSA9IChmdW5jdGlvbiAoZW1wdHkpIHtcbiAgICAgICAgZW1wdHkuY2xvc2VkID0gdHJ1ZTtcbiAgICAgICAgcmV0dXJuIGVtcHR5O1xuICAgIH0obmV3IFN1YnNjcmlwdGlvbigpKSk7XG4gICAgcmV0dXJuIFN1YnNjcmlwdGlvbjtcbn0oKSk7XG5leHBvcnQgeyBTdWJzY3JpcHRpb24gfTtcbmZ1bmN0aW9uIGZsYXR0ZW5VbnN1YnNjcmlwdGlvbkVycm9ycyhlcnJvcnMpIHtcbiAgICByZXR1cm4gZXJyb3JzLnJlZHVjZShmdW5jdGlvbiAoZXJycywgZXJyKSB7IHJldHVybiBlcnJzLmNvbmNhdCgoZXJyIGluc3RhbmNlb2YgVW5zdWJzY3JpcHRpb25FcnJvcikgPyBlcnIuZXJyb3JzIDogZXJyKTsgfSwgW10pO1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9U3Vic2NyaXB0aW9uLmpzLm1hcFxuIiwiLyoqIFBVUkVfSU1QT1JUU19TVEFSVCAgUFVSRV9JTVBPUlRTX0VORCAqL1xuZXhwb3J0IGZ1bmN0aW9uIGlzT2JqZWN0KHgpIHtcbiAgICByZXR1cm4geCAhPT0gbnVsbCAmJiB0eXBlb2YgeCA9PT0gJ29iamVjdCc7XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1pc09iamVjdC5qcy5tYXBcbiIsIi8qKiBQVVJFX0lNUE9SVFNfU1RBUlQgIFBVUkVfSU1QT1JUU19FTkQgKi9cbmV4cG9ydCB2YXIgcnhTdWJzY3JpYmVyID0gdHlwZW9mIFN5bWJvbCA9PT0gJ2Z1bmN0aW9uJ1xuICAgID8gLypAX19QVVJFX18qLyBTeW1ib2woJ3J4U3Vic2NyaWJlcicpXG4gICAgOiAnQEByeFN1YnNjcmliZXJfJyArIC8qQF9fUFVSRV9fKi8gTWF0aC5yYW5kb20oKTtcbmV4cG9ydCB2YXIgJCRyeFN1YnNjcmliZXIgPSByeFN1YnNjcmliZXI7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1yeFN1YnNjcmliZXIuanMubWFwXG4iLCIvKiogUFVSRV9JTVBPUlRTX1NUQVJUIHRzbGliLF91dGlsX2lzRnVuY3Rpb24sX09ic2VydmVyLF9TdWJzY3JpcHRpb24sX2ludGVybmFsX3N5bWJvbF9yeFN1YnNjcmliZXIsX2NvbmZpZyxfdXRpbF9ob3N0UmVwb3J0RXJyb3IgUFVSRV9JTVBPUlRTX0VORCAqL1xuaW1wb3J0ICogYXMgdHNsaWJfMSBmcm9tIFwidHNsaWJcIjtcbmltcG9ydCB7IGlzRnVuY3Rpb24gfSBmcm9tICcuL3V0aWwvaXNGdW5jdGlvbic7XG5pbXBvcnQgeyBlbXB0eSBhcyBlbXB0eU9ic2VydmVyIH0gZnJvbSAnLi9PYnNlcnZlcic7XG5pbXBvcnQgeyBTdWJzY3JpcHRpb24gfSBmcm9tICcuL1N1YnNjcmlwdGlvbic7XG5pbXBvcnQgeyByeFN1YnNjcmliZXIgYXMgcnhTdWJzY3JpYmVyU3ltYm9sIH0gZnJvbSAnLi4vaW50ZXJuYWwvc3ltYm9sL3J4U3Vic2NyaWJlcic7XG5pbXBvcnQgeyBjb25maWcgfSBmcm9tICcuL2NvbmZpZyc7XG5pbXBvcnQgeyBob3N0UmVwb3J0RXJyb3IgfSBmcm9tICcuL3V0aWwvaG9zdFJlcG9ydEVycm9yJztcbnZhciBTdWJzY3JpYmVyID0gLypAX19QVVJFX18qLyAoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgIHRzbGliXzEuX19leHRlbmRzKFN1YnNjcmliZXIsIF9zdXBlcik7XG4gICAgZnVuY3Rpb24gU3Vic2NyaWJlcihkZXN0aW5hdGlvbk9yTmV4dCwgZXJyb3IsIGNvbXBsZXRlKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IF9zdXBlci5jYWxsKHRoaXMpIHx8IHRoaXM7XG4gICAgICAgIF90aGlzLnN5bmNFcnJvclZhbHVlID0gbnVsbDtcbiAgICAgICAgX3RoaXMuc3luY0Vycm9yVGhyb3duID0gZmFsc2U7XG4gICAgICAgIF90aGlzLnN5bmNFcnJvclRocm93YWJsZSA9IGZhbHNlO1xuICAgICAgICBfdGhpcy5pc1N0b3BwZWQgPSBmYWxzZTtcbiAgICAgICAgc3dpdGNoIChhcmd1bWVudHMubGVuZ3RoKSB7XG4gICAgICAgICAgICBjYXNlIDA6XG4gICAgICAgICAgICAgICAgX3RoaXMuZGVzdGluYXRpb24gPSBlbXB0eU9ic2VydmVyO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSAxOlxuICAgICAgICAgICAgICAgIGlmICghZGVzdGluYXRpb25Pck5leHQpIHtcbiAgICAgICAgICAgICAgICAgICAgX3RoaXMuZGVzdGluYXRpb24gPSBlbXB0eU9ic2VydmVyO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBkZXN0aW5hdGlvbk9yTmV4dCA9PT0gJ29iamVjdCcpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGRlc3RpbmF0aW9uT3JOZXh0IGluc3RhbmNlb2YgU3Vic2NyaWJlcikge1xuICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMuc3luY0Vycm9yVGhyb3dhYmxlID0gZGVzdGluYXRpb25Pck5leHQuc3luY0Vycm9yVGhyb3dhYmxlO1xuICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMuZGVzdGluYXRpb24gPSBkZXN0aW5hdGlvbk9yTmV4dDtcbiAgICAgICAgICAgICAgICAgICAgICAgIGRlc3RpbmF0aW9uT3JOZXh0LmFkZChfdGhpcyk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBfdGhpcy5zeW5jRXJyb3JUaHJvd2FibGUgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMuZGVzdGluYXRpb24gPSBuZXcgU2FmZVN1YnNjcmliZXIoX3RoaXMsIGRlc3RpbmF0aW9uT3JOZXh0KTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgIF90aGlzLnN5bmNFcnJvclRocm93YWJsZSA9IHRydWU7XG4gICAgICAgICAgICAgICAgX3RoaXMuZGVzdGluYXRpb24gPSBuZXcgU2FmZVN1YnNjcmliZXIoX3RoaXMsIGRlc3RpbmF0aW9uT3JOZXh0LCBlcnJvciwgY29tcGxldGUpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBfdGhpcztcbiAgICB9XG4gICAgU3Vic2NyaWJlci5wcm90b3R5cGVbcnhTdWJzY3JpYmVyU3ltYm9sXSA9IGZ1bmN0aW9uICgpIHsgcmV0dXJuIHRoaXM7IH07XG4gICAgU3Vic2NyaWJlci5jcmVhdGUgPSBmdW5jdGlvbiAobmV4dCwgZXJyb3IsIGNvbXBsZXRlKSB7XG4gICAgICAgIHZhciBzdWJzY3JpYmVyID0gbmV3IFN1YnNjcmliZXIobmV4dCwgZXJyb3IsIGNvbXBsZXRlKTtcbiAgICAgICAgc3Vic2NyaWJlci5zeW5jRXJyb3JUaHJvd2FibGUgPSBmYWxzZTtcbiAgICAgICAgcmV0dXJuIHN1YnNjcmliZXI7XG4gICAgfTtcbiAgICBTdWJzY3JpYmVyLnByb3RvdHlwZS5uZXh0ID0gZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgIGlmICghdGhpcy5pc1N0b3BwZWQpIHtcbiAgICAgICAgICAgIHRoaXMuX25leHQodmFsdWUpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBTdWJzY3JpYmVyLnByb3RvdHlwZS5lcnJvciA9IGZ1bmN0aW9uIChlcnIpIHtcbiAgICAgICAgaWYgKCF0aGlzLmlzU3RvcHBlZCkge1xuICAgICAgICAgICAgdGhpcy5pc1N0b3BwZWQgPSB0cnVlO1xuICAgICAgICAgICAgdGhpcy5fZXJyb3IoZXJyKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgU3Vic2NyaWJlci5wcm90b3R5cGUuY29tcGxldGUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGlmICghdGhpcy5pc1N0b3BwZWQpIHtcbiAgICAgICAgICAgIHRoaXMuaXNTdG9wcGVkID0gdHJ1ZTtcbiAgICAgICAgICAgIHRoaXMuX2NvbXBsZXRlKCk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIFN1YnNjcmliZXIucHJvdG90eXBlLnVuc3Vic2NyaWJlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBpZiAodGhpcy5jbG9zZWQpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmlzU3RvcHBlZCA9IHRydWU7XG4gICAgICAgIF9zdXBlci5wcm90b3R5cGUudW5zdWJzY3JpYmUuY2FsbCh0aGlzKTtcbiAgICB9O1xuICAgIFN1YnNjcmliZXIucHJvdG90eXBlLl9uZXh0ID0gZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgIHRoaXMuZGVzdGluYXRpb24ubmV4dCh2YWx1ZSk7XG4gICAgfTtcbiAgICBTdWJzY3JpYmVyLnByb3RvdHlwZS5fZXJyb3IgPSBmdW5jdGlvbiAoZXJyKSB7XG4gICAgICAgIHRoaXMuZGVzdGluYXRpb24uZXJyb3IoZXJyKTtcbiAgICAgICAgdGhpcy51bnN1YnNjcmliZSgpO1xuICAgIH07XG4gICAgU3Vic2NyaWJlci5wcm90b3R5cGUuX2NvbXBsZXRlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB0aGlzLmRlc3RpbmF0aW9uLmNvbXBsZXRlKCk7XG4gICAgICAgIHRoaXMudW5zdWJzY3JpYmUoKTtcbiAgICB9O1xuICAgIFN1YnNjcmliZXIucHJvdG90eXBlLl91bnN1YnNjcmliZUFuZFJlY3ljbGUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBfYSA9IHRoaXMsIF9wYXJlbnQgPSBfYS5fcGFyZW50LCBfcGFyZW50cyA9IF9hLl9wYXJlbnRzO1xuICAgICAgICB0aGlzLl9wYXJlbnQgPSBudWxsO1xuICAgICAgICB0aGlzLl9wYXJlbnRzID0gbnVsbDtcbiAgICAgICAgdGhpcy51bnN1YnNjcmliZSgpO1xuICAgICAgICB0aGlzLmNsb3NlZCA9IGZhbHNlO1xuICAgICAgICB0aGlzLmlzU3RvcHBlZCA9IGZhbHNlO1xuICAgICAgICB0aGlzLl9wYXJlbnQgPSBfcGFyZW50O1xuICAgICAgICB0aGlzLl9wYXJlbnRzID0gX3BhcmVudHM7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH07XG4gICAgcmV0dXJuIFN1YnNjcmliZXI7XG59KFN1YnNjcmlwdGlvbikpO1xuZXhwb3J0IHsgU3Vic2NyaWJlciB9O1xudmFyIFNhZmVTdWJzY3JpYmVyID0gLypAX19QVVJFX18qLyAoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgIHRzbGliXzEuX19leHRlbmRzKFNhZmVTdWJzY3JpYmVyLCBfc3VwZXIpO1xuICAgIGZ1bmN0aW9uIFNhZmVTdWJzY3JpYmVyKF9wYXJlbnRTdWJzY3JpYmVyLCBvYnNlcnZlck9yTmV4dCwgZXJyb3IsIGNvbXBsZXRlKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IF9zdXBlci5jYWxsKHRoaXMpIHx8IHRoaXM7XG4gICAgICAgIF90aGlzLl9wYXJlbnRTdWJzY3JpYmVyID0gX3BhcmVudFN1YnNjcmliZXI7XG4gICAgICAgIHZhciBuZXh0O1xuICAgICAgICB2YXIgY29udGV4dCA9IF90aGlzO1xuICAgICAgICBpZiAoaXNGdW5jdGlvbihvYnNlcnZlck9yTmV4dCkpIHtcbiAgICAgICAgICAgIG5leHQgPSBvYnNlcnZlck9yTmV4dDtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChvYnNlcnZlck9yTmV4dCkge1xuICAgICAgICAgICAgbmV4dCA9IG9ic2VydmVyT3JOZXh0Lm5leHQ7XG4gICAgICAgICAgICBlcnJvciA9IG9ic2VydmVyT3JOZXh0LmVycm9yO1xuICAgICAgICAgICAgY29tcGxldGUgPSBvYnNlcnZlck9yTmV4dC5jb21wbGV0ZTtcbiAgICAgICAgICAgIGlmIChvYnNlcnZlck9yTmV4dCAhPT0gZW1wdHlPYnNlcnZlcikge1xuICAgICAgICAgICAgICAgIGNvbnRleHQgPSBPYmplY3QuY3JlYXRlKG9ic2VydmVyT3JOZXh0KTtcbiAgICAgICAgICAgICAgICBpZiAoaXNGdW5jdGlvbihjb250ZXh0LnVuc3Vic2NyaWJlKSkge1xuICAgICAgICAgICAgICAgICAgICBfdGhpcy5hZGQoY29udGV4dC51bnN1YnNjcmliZS5iaW5kKGNvbnRleHQpKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY29udGV4dC51bnN1YnNjcmliZSA9IF90aGlzLnVuc3Vic2NyaWJlLmJpbmQoX3RoaXMpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIF90aGlzLl9jb250ZXh0ID0gY29udGV4dDtcbiAgICAgICAgX3RoaXMuX25leHQgPSBuZXh0O1xuICAgICAgICBfdGhpcy5fZXJyb3IgPSBlcnJvcjtcbiAgICAgICAgX3RoaXMuX2NvbXBsZXRlID0gY29tcGxldGU7XG4gICAgICAgIHJldHVybiBfdGhpcztcbiAgICB9XG4gICAgU2FmZVN1YnNjcmliZXIucHJvdG90eXBlLm5leHQgPSBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgaWYgKCF0aGlzLmlzU3RvcHBlZCAmJiB0aGlzLl9uZXh0KSB7XG4gICAgICAgICAgICB2YXIgX3BhcmVudFN1YnNjcmliZXIgPSB0aGlzLl9wYXJlbnRTdWJzY3JpYmVyO1xuICAgICAgICAgICAgaWYgKCFjb25maWcudXNlRGVwcmVjYXRlZFN5bmNocm9ub3VzRXJyb3JIYW5kbGluZyB8fCAhX3BhcmVudFN1YnNjcmliZXIuc3luY0Vycm9yVGhyb3dhYmxlKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fX3RyeU9yVW5zdWIodGhpcy5fbmV4dCwgdmFsdWUpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAodGhpcy5fX3RyeU9yU2V0RXJyb3IoX3BhcmVudFN1YnNjcmliZXIsIHRoaXMuX25leHQsIHZhbHVlKSkge1xuICAgICAgICAgICAgICAgIHRoaXMudW5zdWJzY3JpYmUoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH07XG4gICAgU2FmZVN1YnNjcmliZXIucHJvdG90eXBlLmVycm9yID0gZnVuY3Rpb24gKGVycikge1xuICAgICAgICBpZiAoIXRoaXMuaXNTdG9wcGVkKSB7XG4gICAgICAgICAgICB2YXIgX3BhcmVudFN1YnNjcmliZXIgPSB0aGlzLl9wYXJlbnRTdWJzY3JpYmVyO1xuICAgICAgICAgICAgdmFyIHVzZURlcHJlY2F0ZWRTeW5jaHJvbm91c0Vycm9ySGFuZGxpbmcgPSBjb25maWcudXNlRGVwcmVjYXRlZFN5bmNocm9ub3VzRXJyb3JIYW5kbGluZztcbiAgICAgICAgICAgIGlmICh0aGlzLl9lcnJvcikge1xuICAgICAgICAgICAgICAgIGlmICghdXNlRGVwcmVjYXRlZFN5bmNocm9ub3VzRXJyb3JIYW5kbGluZyB8fCAhX3BhcmVudFN1YnNjcmliZXIuc3luY0Vycm9yVGhyb3dhYmxlKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX190cnlPclVuc3ViKHRoaXMuX2Vycm9yLCBlcnIpO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnVuc3Vic2NyaWJlKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLl9fdHJ5T3JTZXRFcnJvcihfcGFyZW50U3Vic2NyaWJlciwgdGhpcy5fZXJyb3IsIGVycik7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMudW5zdWJzY3JpYmUoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmICghX3BhcmVudFN1YnNjcmliZXIuc3luY0Vycm9yVGhyb3dhYmxlKSB7XG4gICAgICAgICAgICAgICAgdGhpcy51bnN1YnNjcmliZSgpO1xuICAgICAgICAgICAgICAgIGlmICh1c2VEZXByZWNhdGVkU3luY2hyb25vdXNFcnJvckhhbmRsaW5nKSB7XG4gICAgICAgICAgICAgICAgICAgIHRocm93IGVycjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaG9zdFJlcG9ydEVycm9yKGVycik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBpZiAodXNlRGVwcmVjYXRlZFN5bmNocm9ub3VzRXJyb3JIYW5kbGluZykge1xuICAgICAgICAgICAgICAgICAgICBfcGFyZW50U3Vic2NyaWJlci5zeW5jRXJyb3JWYWx1ZSA9IGVycjtcbiAgICAgICAgICAgICAgICAgICAgX3BhcmVudFN1YnNjcmliZXIuc3luY0Vycm9yVGhyb3duID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGhvc3RSZXBvcnRFcnJvcihlcnIpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB0aGlzLnVuc3Vic2NyaWJlKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9O1xuICAgIFNhZmVTdWJzY3JpYmVyLnByb3RvdHlwZS5jb21wbGV0ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgaWYgKCF0aGlzLmlzU3RvcHBlZCkge1xuICAgICAgICAgICAgdmFyIF9wYXJlbnRTdWJzY3JpYmVyID0gdGhpcy5fcGFyZW50U3Vic2NyaWJlcjtcbiAgICAgICAgICAgIGlmICh0aGlzLl9jb21wbGV0ZSkge1xuICAgICAgICAgICAgICAgIHZhciB3cmFwcGVkQ29tcGxldGUgPSBmdW5jdGlvbiAoKSB7IHJldHVybiBfdGhpcy5fY29tcGxldGUuY2FsbChfdGhpcy5fY29udGV4dCk7IH07XG4gICAgICAgICAgICAgICAgaWYgKCFjb25maWcudXNlRGVwcmVjYXRlZFN5bmNocm9ub3VzRXJyb3JIYW5kbGluZyB8fCAhX3BhcmVudFN1YnNjcmliZXIuc3luY0Vycm9yVGhyb3dhYmxlKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX190cnlPclVuc3ViKHdyYXBwZWRDb21wbGV0ZSk7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMudW5zdWJzY3JpYmUoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX190cnlPclNldEVycm9yKF9wYXJlbnRTdWJzY3JpYmVyLCB3cmFwcGVkQ29tcGxldGUpO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnVuc3Vic2NyaWJlKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgdGhpcy51bnN1YnNjcmliZSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfTtcbiAgICBTYWZlU3Vic2NyaWJlci5wcm90b3R5cGUuX190cnlPclVuc3ViID0gZnVuY3Rpb24gKGZuLCB2YWx1ZSkge1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgZm4uY2FsbCh0aGlzLl9jb250ZXh0LCB2YWx1ZSk7XG4gICAgICAgIH1cbiAgICAgICAgY2F0Y2ggKGVycikge1xuICAgICAgICAgICAgdGhpcy51bnN1YnNjcmliZSgpO1xuICAgICAgICAgICAgaWYgKGNvbmZpZy51c2VEZXByZWNhdGVkU3luY2hyb25vdXNFcnJvckhhbmRsaW5nKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgZXJyO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgaG9zdFJlcG9ydEVycm9yKGVycik7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9O1xuICAgIFNhZmVTdWJzY3JpYmVyLnByb3RvdHlwZS5fX3RyeU9yU2V0RXJyb3IgPSBmdW5jdGlvbiAocGFyZW50LCBmbiwgdmFsdWUpIHtcbiAgICAgICAgaWYgKCFjb25maWcudXNlRGVwcmVjYXRlZFN5bmNocm9ub3VzRXJyb3JIYW5kbGluZykge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdiYWQgY2FsbCcpO1xuICAgICAgICB9XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBmbi5jYWxsKHRoaXMuX2NvbnRleHQsIHZhbHVlKTtcbiAgICAgICAgfVxuICAgICAgICBjYXRjaCAoZXJyKSB7XG4gICAgICAgICAgICBpZiAoY29uZmlnLnVzZURlcHJlY2F0ZWRTeW5jaHJvbm91c0Vycm9ySGFuZGxpbmcpIHtcbiAgICAgICAgICAgICAgICBwYXJlbnQuc3luY0Vycm9yVmFsdWUgPSBlcnI7XG4gICAgICAgICAgICAgICAgcGFyZW50LnN5bmNFcnJvclRocm93biA9IHRydWU7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBob3N0UmVwb3J0RXJyb3IoZXJyKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfTtcbiAgICBTYWZlU3Vic2NyaWJlci5wcm90b3R5cGUuX3Vuc3Vic2NyaWJlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgX3BhcmVudFN1YnNjcmliZXIgPSB0aGlzLl9wYXJlbnRTdWJzY3JpYmVyO1xuICAgICAgICB0aGlzLl9jb250ZXh0ID0gbnVsbDtcbiAgICAgICAgdGhpcy5fcGFyZW50U3Vic2NyaWJlciA9IG51bGw7XG4gICAgICAgIF9wYXJlbnRTdWJzY3JpYmVyLnVuc3Vic2NyaWJlKCk7XG4gICAgfTtcbiAgICByZXR1cm4gU2FmZVN1YnNjcmliZXI7XG59KFN1YnNjcmliZXIpKTtcbmV4cG9ydCB7IFNhZmVTdWJzY3JpYmVyIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1TdWJzY3JpYmVyLmpzLm1hcFxuIiwiLyoqIFBVUkVfSU1QT1JUU19TVEFSVCAgUFVSRV9JTVBPUlRTX0VORCAqL1xuZXhwb3J0IHZhciBvYnNlcnZhYmxlID0gdHlwZW9mIFN5bWJvbCA9PT0gJ2Z1bmN0aW9uJyAmJiBTeW1ib2wub2JzZXJ2YWJsZSB8fCAnQEBvYnNlcnZhYmxlJztcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPW9ic2VydmFibGUuanMubWFwXG4iLCIvKiogUFVSRV9JTVBPUlRTX1NUQVJUICBQVVJFX0lNUE9SVFNfRU5EICovXG5leHBvcnQgZnVuY3Rpb24gbm9vcCgpIHsgfVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9bm9vcC5qcy5tYXBcbiIsIi8qKiBQVVJFX0lNUE9SVFNfU1RBUlQgX25vb3AgUFVSRV9JTVBPUlRTX0VORCAqL1xuaW1wb3J0IHsgbm9vcCB9IGZyb20gJy4vbm9vcCc7XG5leHBvcnQgZnVuY3Rpb24gcGlwZSgpIHtcbiAgICB2YXIgZm5zID0gW107XG4gICAgZm9yICh2YXIgX2kgPSAwOyBfaSA8IGFyZ3VtZW50cy5sZW5ndGg7IF9pKyspIHtcbiAgICAgICAgZm5zW19pXSA9IGFyZ3VtZW50c1tfaV07XG4gICAgfVxuICAgIHJldHVybiBwaXBlRnJvbUFycmF5KGZucyk7XG59XG5leHBvcnQgZnVuY3Rpb24gcGlwZUZyb21BcnJheShmbnMpIHtcbiAgICBpZiAoIWZucykge1xuICAgICAgICByZXR1cm4gbm9vcDtcbiAgICB9XG4gICAgaWYgKGZucy5sZW5ndGggPT09IDEpIHtcbiAgICAgICAgcmV0dXJuIGZuc1swXTtcbiAgICB9XG4gICAgcmV0dXJuIGZ1bmN0aW9uIHBpcGVkKGlucHV0KSB7XG4gICAgICAgIHJldHVybiBmbnMucmVkdWNlKGZ1bmN0aW9uIChwcmV2LCBmbikgeyByZXR1cm4gZm4ocHJldik7IH0sIGlucHV0KTtcbiAgICB9O1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9cGlwZS5qcy5tYXBcbiIsIi8qKiBQVVJFX0lNUE9SVFNfU1RBUlQgX3V0aWxfY2FuUmVwb3J0RXJyb3IsX3V0aWxfdG9TdWJzY3JpYmVyLF9pbnRlcm5hbF9zeW1ib2xfb2JzZXJ2YWJsZSxfdXRpbF9waXBlLF9jb25maWcgUFVSRV9JTVBPUlRTX0VORCAqL1xuaW1wb3J0IHsgY2FuUmVwb3J0RXJyb3IgfSBmcm9tICcuL3V0aWwvY2FuUmVwb3J0RXJyb3InO1xuaW1wb3J0IHsgdG9TdWJzY3JpYmVyIH0gZnJvbSAnLi91dGlsL3RvU3Vic2NyaWJlcic7XG5pbXBvcnQgeyBvYnNlcnZhYmxlIGFzIFN5bWJvbF9vYnNlcnZhYmxlIH0gZnJvbSAnLi4vaW50ZXJuYWwvc3ltYm9sL29ic2VydmFibGUnO1xuaW1wb3J0IHsgcGlwZUZyb21BcnJheSB9IGZyb20gJy4vdXRpbC9waXBlJztcbmltcG9ydCB7IGNvbmZpZyB9IGZyb20gJy4vY29uZmlnJztcbnZhciBPYnNlcnZhYmxlID0gLypAX19QVVJFX18qLyAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIE9ic2VydmFibGUoc3Vic2NyaWJlKSB7XG4gICAgICAgIHRoaXMuX2lzU2NhbGFyID0gZmFsc2U7XG4gICAgICAgIGlmIChzdWJzY3JpYmUpIHtcbiAgICAgICAgICAgIHRoaXMuX3N1YnNjcmliZSA9IHN1YnNjcmliZTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBPYnNlcnZhYmxlLnByb3RvdHlwZS5saWZ0ID0gZnVuY3Rpb24gKG9wZXJhdG9yKSB7XG4gICAgICAgIHZhciBvYnNlcnZhYmxlID0gbmV3IE9ic2VydmFibGUoKTtcbiAgICAgICAgb2JzZXJ2YWJsZS5zb3VyY2UgPSB0aGlzO1xuICAgICAgICBvYnNlcnZhYmxlLm9wZXJhdG9yID0gb3BlcmF0b3I7XG4gICAgICAgIHJldHVybiBvYnNlcnZhYmxlO1xuICAgIH07XG4gICAgT2JzZXJ2YWJsZS5wcm90b3R5cGUuc3Vic2NyaWJlID0gZnVuY3Rpb24gKG9ic2VydmVyT3JOZXh0LCBlcnJvciwgY29tcGxldGUpIHtcbiAgICAgICAgdmFyIG9wZXJhdG9yID0gdGhpcy5vcGVyYXRvcjtcbiAgICAgICAgdmFyIHNpbmsgPSB0b1N1YnNjcmliZXIob2JzZXJ2ZXJPck5leHQsIGVycm9yLCBjb21wbGV0ZSk7XG4gICAgICAgIGlmIChvcGVyYXRvcikge1xuICAgICAgICAgICAgc2luay5hZGQob3BlcmF0b3IuY2FsbChzaW5rLCB0aGlzLnNvdXJjZSkpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgc2luay5hZGQodGhpcy5zb3VyY2UgfHwgKGNvbmZpZy51c2VEZXByZWNhdGVkU3luY2hyb25vdXNFcnJvckhhbmRsaW5nICYmICFzaW5rLnN5bmNFcnJvclRocm93YWJsZSkgP1xuICAgICAgICAgICAgICAgIHRoaXMuX3N1YnNjcmliZShzaW5rKSA6XG4gICAgICAgICAgICAgICAgdGhpcy5fdHJ5U3Vic2NyaWJlKHNpbmspKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoY29uZmlnLnVzZURlcHJlY2F0ZWRTeW5jaHJvbm91c0Vycm9ySGFuZGxpbmcpIHtcbiAgICAgICAgICAgIGlmIChzaW5rLnN5bmNFcnJvclRocm93YWJsZSkge1xuICAgICAgICAgICAgICAgIHNpbmsuc3luY0Vycm9yVGhyb3dhYmxlID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgaWYgKHNpbmsuc3luY0Vycm9yVGhyb3duKSB7XG4gICAgICAgICAgICAgICAgICAgIHRocm93IHNpbmsuc3luY0Vycm9yVmFsdWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBzaW5rO1xuICAgIH07XG4gICAgT2JzZXJ2YWJsZS5wcm90b3R5cGUuX3RyeVN1YnNjcmliZSA9IGZ1bmN0aW9uIChzaW5rKSB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fc3Vic2NyaWJlKHNpbmspO1xuICAgICAgICB9XG4gICAgICAgIGNhdGNoIChlcnIpIHtcbiAgICAgICAgICAgIGlmIChjb25maWcudXNlRGVwcmVjYXRlZFN5bmNocm9ub3VzRXJyb3JIYW5kbGluZykge1xuICAgICAgICAgICAgICAgIHNpbmsuc3luY0Vycm9yVGhyb3duID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICBzaW5rLnN5bmNFcnJvclZhbHVlID0gZXJyO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGNhblJlcG9ydEVycm9yKHNpbmspKSB7XG4gICAgICAgICAgICAgICAgc2luay5lcnJvcihlcnIpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgY29uc29sZS53YXJuKGVycik7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9O1xuICAgIE9ic2VydmFibGUucHJvdG90eXBlLmZvckVhY2ggPSBmdW5jdGlvbiAobmV4dCwgcHJvbWlzZUN0b3IpIHtcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgcHJvbWlzZUN0b3IgPSBnZXRQcm9taXNlQ3Rvcihwcm9taXNlQ3Rvcik7XG4gICAgICAgIHJldHVybiBuZXcgcHJvbWlzZUN0b3IoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkge1xuICAgICAgICAgICAgdmFyIHN1YnNjcmlwdGlvbjtcbiAgICAgICAgICAgIHN1YnNjcmlwdGlvbiA9IF90aGlzLnN1YnNjcmliZShmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICBuZXh0KHZhbHVlKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY2F0Y2ggKGVycikge1xuICAgICAgICAgICAgICAgICAgICByZWplY3QoZXJyKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHN1YnNjcmlwdGlvbikge1xuICAgICAgICAgICAgICAgICAgICAgICAgc3Vic2NyaXB0aW9uLnVuc3Vic2NyaWJlKCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9LCByZWplY3QsIHJlc29sdmUpO1xuICAgICAgICB9KTtcbiAgICB9O1xuICAgIE9ic2VydmFibGUucHJvdG90eXBlLl9zdWJzY3JpYmUgPSBmdW5jdGlvbiAoc3Vic2NyaWJlcikge1xuICAgICAgICB2YXIgc291cmNlID0gdGhpcy5zb3VyY2U7XG4gICAgICAgIHJldHVybiBzb3VyY2UgJiYgc291cmNlLnN1YnNjcmliZShzdWJzY3JpYmVyKTtcbiAgICB9O1xuICAgIE9ic2VydmFibGUucHJvdG90eXBlW1N5bWJvbF9vYnNlcnZhYmxlXSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfTtcbiAgICBPYnNlcnZhYmxlLnByb3RvdHlwZS5waXBlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgb3BlcmF0aW9ucyA9IFtdO1xuICAgICAgICBmb3IgKHZhciBfaSA9IDA7IF9pIDwgYXJndW1lbnRzLmxlbmd0aDsgX2krKykge1xuICAgICAgICAgICAgb3BlcmF0aW9uc1tfaV0gPSBhcmd1bWVudHNbX2ldO1xuICAgICAgICB9XG4gICAgICAgIGlmIChvcGVyYXRpb25zLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHBpcGVGcm9tQXJyYXkob3BlcmF0aW9ucykodGhpcyk7XG4gICAgfTtcbiAgICBPYnNlcnZhYmxlLnByb3RvdHlwZS50b1Byb21pc2UgPSBmdW5jdGlvbiAocHJvbWlzZUN0b3IpIHtcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgcHJvbWlzZUN0b3IgPSBnZXRQcm9taXNlQ3Rvcihwcm9taXNlQ3Rvcik7XG4gICAgICAgIHJldHVybiBuZXcgcHJvbWlzZUN0b3IoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkge1xuICAgICAgICAgICAgdmFyIHZhbHVlO1xuICAgICAgICAgICAgX3RoaXMuc3Vic2NyaWJlKGZ1bmN0aW9uICh4KSB7IHJldHVybiB2YWx1ZSA9IHg7IH0sIGZ1bmN0aW9uIChlcnIpIHsgcmV0dXJuIHJlamVjdChlcnIpOyB9LCBmdW5jdGlvbiAoKSB7IHJldHVybiByZXNvbHZlKHZhbHVlKTsgfSk7XG4gICAgICAgIH0pO1xuICAgIH07XG4gICAgT2JzZXJ2YWJsZS5jcmVhdGUgPSBmdW5jdGlvbiAoc3Vic2NyaWJlKSB7XG4gICAgICAgIHJldHVybiBuZXcgT2JzZXJ2YWJsZShzdWJzY3JpYmUpO1xuICAgIH07XG4gICAgcmV0dXJuIE9ic2VydmFibGU7XG59KCkpO1xuZXhwb3J0IHsgT2JzZXJ2YWJsZSB9O1xuZnVuY3Rpb24gZ2V0UHJvbWlzZUN0b3IocHJvbWlzZUN0b3IpIHtcbiAgICBpZiAoIXByb21pc2VDdG9yKSB7XG4gICAgICAgIHByb21pc2VDdG9yID0gY29uZmlnLlByb21pc2UgfHwgUHJvbWlzZTtcbiAgICB9XG4gICAgaWYgKCFwcm9taXNlQ3Rvcikge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ25vIFByb21pc2UgaW1wbCBmb3VuZCcpO1xuICAgIH1cbiAgICByZXR1cm4gcHJvbWlzZUN0b3I7XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1PYnNlcnZhYmxlLmpzLm1hcFxuIiwiLyoqIFBVUkVfSU1QT1JUU19TVEFSVCBfU3Vic2NyaWJlcixfc3ltYm9sX3J4U3Vic2NyaWJlcixfT2JzZXJ2ZXIgUFVSRV9JTVBPUlRTX0VORCAqL1xuaW1wb3J0IHsgU3Vic2NyaWJlciB9IGZyb20gJy4uL1N1YnNjcmliZXInO1xuaW1wb3J0IHsgcnhTdWJzY3JpYmVyIGFzIHJ4U3Vic2NyaWJlclN5bWJvbCB9IGZyb20gJy4uL3N5bWJvbC9yeFN1YnNjcmliZXInO1xuaW1wb3J0IHsgZW1wdHkgYXMgZW1wdHlPYnNlcnZlciB9IGZyb20gJy4uL09ic2VydmVyJztcbmV4cG9ydCBmdW5jdGlvbiB0b1N1YnNjcmliZXIobmV4dE9yT2JzZXJ2ZXIsIGVycm9yLCBjb21wbGV0ZSkge1xuICAgIGlmIChuZXh0T3JPYnNlcnZlcikge1xuICAgICAgICBpZiAobmV4dE9yT2JzZXJ2ZXIgaW5zdGFuY2VvZiBTdWJzY3JpYmVyKSB7XG4gICAgICAgICAgICByZXR1cm4gbmV4dE9yT2JzZXJ2ZXI7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG5leHRPck9ic2VydmVyW3J4U3Vic2NyaWJlclN5bWJvbF0pIHtcbiAgICAgICAgICAgIHJldHVybiBuZXh0T3JPYnNlcnZlcltyeFN1YnNjcmliZXJTeW1ib2xdKCk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgaWYgKCFuZXh0T3JPYnNlcnZlciAmJiAhZXJyb3IgJiYgIWNvbXBsZXRlKSB7XG4gICAgICAgIHJldHVybiBuZXcgU3Vic2NyaWJlcihlbXB0eU9ic2VydmVyKTtcbiAgICB9XG4gICAgcmV0dXJuIG5ldyBTdWJzY3JpYmVyKG5leHRPck9ic2VydmVyLCBlcnJvciwgY29tcGxldGUpO1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9dG9TdWJzY3JpYmVyLmpzLm1hcFxuIiwiLyoqIFBVUkVfSU1QT1JUU19TVEFSVCBfU3Vic2NyaWJlciBQVVJFX0lNUE9SVFNfRU5EICovXG5pbXBvcnQgeyBTdWJzY3JpYmVyIH0gZnJvbSAnLi4vU3Vic2NyaWJlcic7XG5leHBvcnQgZnVuY3Rpb24gY2FuUmVwb3J0RXJyb3Iob2JzZXJ2ZXIpIHtcbiAgICB3aGlsZSAob2JzZXJ2ZXIpIHtcbiAgICAgICAgdmFyIF9hID0gb2JzZXJ2ZXIsIGNsb3NlZF8xID0gX2EuY2xvc2VkLCBkZXN0aW5hdGlvbiA9IF9hLmRlc3RpbmF0aW9uLCBpc1N0b3BwZWQgPSBfYS5pc1N0b3BwZWQ7XG4gICAgICAgIGlmIChjbG9zZWRfMSB8fCBpc1N0b3BwZWQpIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChkZXN0aW5hdGlvbiAmJiBkZXN0aW5hdGlvbiBpbnN0YW5jZW9mIFN1YnNjcmliZXIpIHtcbiAgICAgICAgICAgIG9ic2VydmVyID0gZGVzdGluYXRpb247XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBvYnNlcnZlciA9IG51bGw7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHRydWU7XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1jYW5SZXBvcnRFcnJvci5qcy5tYXBcbiIsIi8qKiBQVVJFX0lNUE9SVFNfU1RBUlQgIFBVUkVfSU1QT1JUU19FTkQgKi9cbmZ1bmN0aW9uIE9iamVjdFVuc3Vic2NyaWJlZEVycm9ySW1wbCgpIHtcbiAgICBFcnJvci5jYWxsKHRoaXMpO1xuICAgIHRoaXMubWVzc2FnZSA9ICdvYmplY3QgdW5zdWJzY3JpYmVkJztcbiAgICB0aGlzLm5hbWUgPSAnT2JqZWN0VW5zdWJzY3JpYmVkRXJyb3InO1xuICAgIHJldHVybiB0aGlzO1xufVxuT2JqZWN0VW5zdWJzY3JpYmVkRXJyb3JJbXBsLnByb3RvdHlwZSA9IC8qQF9fUFVSRV9fKi8gT2JqZWN0LmNyZWF0ZShFcnJvci5wcm90b3R5cGUpO1xuZXhwb3J0IHZhciBPYmplY3RVbnN1YnNjcmliZWRFcnJvciA9IE9iamVjdFVuc3Vic2NyaWJlZEVycm9ySW1wbDtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPU9iamVjdFVuc3Vic2NyaWJlZEVycm9yLmpzLm1hcFxuIiwiLyoqIFBVUkVfSU1QT1JUU19TVEFSVCB0c2xpYixfU3Vic2NyaXB0aW9uIFBVUkVfSU1QT1JUU19FTkQgKi9cbmltcG9ydCAqIGFzIHRzbGliXzEgZnJvbSBcInRzbGliXCI7XG5pbXBvcnQgeyBTdWJzY3JpcHRpb24gfSBmcm9tICcuL1N1YnNjcmlwdGlvbic7XG52YXIgU3ViamVjdFN1YnNjcmlwdGlvbiA9IC8qQF9fUFVSRV9fKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICB0c2xpYl8xLl9fZXh0ZW5kcyhTdWJqZWN0U3Vic2NyaXB0aW9uLCBfc3VwZXIpO1xuICAgIGZ1bmN0aW9uIFN1YmplY3RTdWJzY3JpcHRpb24oc3ViamVjdCwgc3Vic2NyaWJlcikge1xuICAgICAgICB2YXIgX3RoaXMgPSBfc3VwZXIuY2FsbCh0aGlzKSB8fCB0aGlzO1xuICAgICAgICBfdGhpcy5zdWJqZWN0ID0gc3ViamVjdDtcbiAgICAgICAgX3RoaXMuc3Vic2NyaWJlciA9IHN1YnNjcmliZXI7XG4gICAgICAgIF90aGlzLmNsb3NlZCA9IGZhbHNlO1xuICAgICAgICByZXR1cm4gX3RoaXM7XG4gICAgfVxuICAgIFN1YmplY3RTdWJzY3JpcHRpb24ucHJvdG90eXBlLnVuc3Vic2NyaWJlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBpZiAodGhpcy5jbG9zZWQpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmNsb3NlZCA9IHRydWU7XG4gICAgICAgIHZhciBzdWJqZWN0ID0gdGhpcy5zdWJqZWN0O1xuICAgICAgICB2YXIgb2JzZXJ2ZXJzID0gc3ViamVjdC5vYnNlcnZlcnM7XG4gICAgICAgIHRoaXMuc3ViamVjdCA9IG51bGw7XG4gICAgICAgIGlmICghb2JzZXJ2ZXJzIHx8IG9ic2VydmVycy5sZW5ndGggPT09IDAgfHwgc3ViamVjdC5pc1N0b3BwZWQgfHwgc3ViamVjdC5jbG9zZWQpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB2YXIgc3Vic2NyaWJlckluZGV4ID0gb2JzZXJ2ZXJzLmluZGV4T2YodGhpcy5zdWJzY3JpYmVyKTtcbiAgICAgICAgaWYgKHN1YnNjcmliZXJJbmRleCAhPT0gLTEpIHtcbiAgICAgICAgICAgIG9ic2VydmVycy5zcGxpY2Uoc3Vic2NyaWJlckluZGV4LCAxKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgcmV0dXJuIFN1YmplY3RTdWJzY3JpcHRpb247XG59KFN1YnNjcmlwdGlvbikpO1xuZXhwb3J0IHsgU3ViamVjdFN1YnNjcmlwdGlvbiB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9U3ViamVjdFN1YnNjcmlwdGlvbi5qcy5tYXBcbiIsIi8qKiBQVVJFX0lNUE9SVFNfU1RBUlQgdHNsaWIsX09ic2VydmFibGUsX1N1YnNjcmliZXIsX1N1YnNjcmlwdGlvbixfdXRpbF9PYmplY3RVbnN1YnNjcmliZWRFcnJvcixfU3ViamVjdFN1YnNjcmlwdGlvbixfaW50ZXJuYWxfc3ltYm9sX3J4U3Vic2NyaWJlciBQVVJFX0lNUE9SVFNfRU5EICovXG5pbXBvcnQgKiBhcyB0c2xpYl8xIGZyb20gXCJ0c2xpYlwiO1xuaW1wb3J0IHsgT2JzZXJ2YWJsZSB9IGZyb20gJy4vT2JzZXJ2YWJsZSc7XG5pbXBvcnQgeyBTdWJzY3JpYmVyIH0gZnJvbSAnLi9TdWJzY3JpYmVyJztcbmltcG9ydCB7IFN1YnNjcmlwdGlvbiB9IGZyb20gJy4vU3Vic2NyaXB0aW9uJztcbmltcG9ydCB7IE9iamVjdFVuc3Vic2NyaWJlZEVycm9yIH0gZnJvbSAnLi91dGlsL09iamVjdFVuc3Vic2NyaWJlZEVycm9yJztcbmltcG9ydCB7IFN1YmplY3RTdWJzY3JpcHRpb24gfSBmcm9tICcuL1N1YmplY3RTdWJzY3JpcHRpb24nO1xuaW1wb3J0IHsgcnhTdWJzY3JpYmVyIGFzIHJ4U3Vic2NyaWJlclN5bWJvbCB9IGZyb20gJy4uL2ludGVybmFsL3N5bWJvbC9yeFN1YnNjcmliZXInO1xudmFyIFN1YmplY3RTdWJzY3JpYmVyID0gLypAX19QVVJFX18qLyAoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgIHRzbGliXzEuX19leHRlbmRzKFN1YmplY3RTdWJzY3JpYmVyLCBfc3VwZXIpO1xuICAgIGZ1bmN0aW9uIFN1YmplY3RTdWJzY3JpYmVyKGRlc3RpbmF0aW9uKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IF9zdXBlci5jYWxsKHRoaXMsIGRlc3RpbmF0aW9uKSB8fCB0aGlzO1xuICAgICAgICBfdGhpcy5kZXN0aW5hdGlvbiA9IGRlc3RpbmF0aW9uO1xuICAgICAgICByZXR1cm4gX3RoaXM7XG4gICAgfVxuICAgIHJldHVybiBTdWJqZWN0U3Vic2NyaWJlcjtcbn0oU3Vic2NyaWJlcikpO1xuZXhwb3J0IHsgU3ViamVjdFN1YnNjcmliZXIgfTtcbnZhciBTdWJqZWN0ID0gLypAX19QVVJFX18qLyAoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgIHRzbGliXzEuX19leHRlbmRzKFN1YmplY3QsIF9zdXBlcik7XG4gICAgZnVuY3Rpb24gU3ViamVjdCgpIHtcbiAgICAgICAgdmFyIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcykgfHwgdGhpcztcbiAgICAgICAgX3RoaXMub2JzZXJ2ZXJzID0gW107XG4gICAgICAgIF90aGlzLmNsb3NlZCA9IGZhbHNlO1xuICAgICAgICBfdGhpcy5pc1N0b3BwZWQgPSBmYWxzZTtcbiAgICAgICAgX3RoaXMuaGFzRXJyb3IgPSBmYWxzZTtcbiAgICAgICAgX3RoaXMudGhyb3duRXJyb3IgPSBudWxsO1xuICAgICAgICByZXR1cm4gX3RoaXM7XG4gICAgfVxuICAgIFN1YmplY3QucHJvdG90eXBlW3J4U3Vic2NyaWJlclN5bWJvbF0gPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiBuZXcgU3ViamVjdFN1YnNjcmliZXIodGhpcyk7XG4gICAgfTtcbiAgICBTdWJqZWN0LnByb3RvdHlwZS5saWZ0ID0gZnVuY3Rpb24gKG9wZXJhdG9yKSB7XG4gICAgICAgIHZhciBzdWJqZWN0ID0gbmV3IEFub255bW91c1N1YmplY3QodGhpcywgdGhpcyk7XG4gICAgICAgIHN1YmplY3Qub3BlcmF0b3IgPSBvcGVyYXRvcjtcbiAgICAgICAgcmV0dXJuIHN1YmplY3Q7XG4gICAgfTtcbiAgICBTdWJqZWN0LnByb3RvdHlwZS5uZXh0ID0gZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgIGlmICh0aGlzLmNsb3NlZCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IE9iamVjdFVuc3Vic2NyaWJlZEVycm9yKCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCF0aGlzLmlzU3RvcHBlZCkge1xuICAgICAgICAgICAgdmFyIG9ic2VydmVycyA9IHRoaXMub2JzZXJ2ZXJzO1xuICAgICAgICAgICAgdmFyIGxlbiA9IG9ic2VydmVycy5sZW5ndGg7XG4gICAgICAgICAgICB2YXIgY29weSA9IG9ic2VydmVycy5zbGljZSgpO1xuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBsZW47IGkrKykge1xuICAgICAgICAgICAgICAgIGNvcHlbaV0ubmV4dCh2YWx1ZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9O1xuICAgIFN1YmplY3QucHJvdG90eXBlLmVycm9yID0gZnVuY3Rpb24gKGVycikge1xuICAgICAgICBpZiAodGhpcy5jbG9zZWQpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBPYmplY3RVbnN1YnNjcmliZWRFcnJvcigpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuaGFzRXJyb3IgPSB0cnVlO1xuICAgICAgICB0aGlzLnRocm93bkVycm9yID0gZXJyO1xuICAgICAgICB0aGlzLmlzU3RvcHBlZCA9IHRydWU7XG4gICAgICAgIHZhciBvYnNlcnZlcnMgPSB0aGlzLm9ic2VydmVycztcbiAgICAgICAgdmFyIGxlbiA9IG9ic2VydmVycy5sZW5ndGg7XG4gICAgICAgIHZhciBjb3B5ID0gb2JzZXJ2ZXJzLnNsaWNlKCk7XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbGVuOyBpKyspIHtcbiAgICAgICAgICAgIGNvcHlbaV0uZXJyb3IoZXJyKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLm9ic2VydmVycy5sZW5ndGggPSAwO1xuICAgIH07XG4gICAgU3ViamVjdC5wcm90b3R5cGUuY29tcGxldGUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGlmICh0aGlzLmNsb3NlZCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IE9iamVjdFVuc3Vic2NyaWJlZEVycm9yKCk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5pc1N0b3BwZWQgPSB0cnVlO1xuICAgICAgICB2YXIgb2JzZXJ2ZXJzID0gdGhpcy5vYnNlcnZlcnM7XG4gICAgICAgIHZhciBsZW4gPSBvYnNlcnZlcnMubGVuZ3RoO1xuICAgICAgICB2YXIgY29weSA9IG9ic2VydmVycy5zbGljZSgpO1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGxlbjsgaSsrKSB7XG4gICAgICAgICAgICBjb3B5W2ldLmNvbXBsZXRlKCk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5vYnNlcnZlcnMubGVuZ3RoID0gMDtcbiAgICB9O1xuICAgIFN1YmplY3QucHJvdG90eXBlLnVuc3Vic2NyaWJlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB0aGlzLmlzU3RvcHBlZCA9IHRydWU7XG4gICAgICAgIHRoaXMuY2xvc2VkID0gdHJ1ZTtcbiAgICAgICAgdGhpcy5vYnNlcnZlcnMgPSBudWxsO1xuICAgIH07XG4gICAgU3ViamVjdC5wcm90b3R5cGUuX3RyeVN1YnNjcmliZSA9IGZ1bmN0aW9uIChzdWJzY3JpYmVyKSB7XG4gICAgICAgIGlmICh0aGlzLmNsb3NlZCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IE9iamVjdFVuc3Vic2NyaWJlZEVycm9yKCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gX3N1cGVyLnByb3RvdHlwZS5fdHJ5U3Vic2NyaWJlLmNhbGwodGhpcywgc3Vic2NyaWJlcik7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIFN1YmplY3QucHJvdG90eXBlLl9zdWJzY3JpYmUgPSBmdW5jdGlvbiAoc3Vic2NyaWJlcikge1xuICAgICAgICBpZiAodGhpcy5jbG9zZWQpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBPYmplY3RVbnN1YnNjcmliZWRFcnJvcigpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKHRoaXMuaGFzRXJyb3IpIHtcbiAgICAgICAgICAgIHN1YnNjcmliZXIuZXJyb3IodGhpcy50aHJvd25FcnJvcik7XG4gICAgICAgICAgICByZXR1cm4gU3Vic2NyaXB0aW9uLkVNUFRZO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKHRoaXMuaXNTdG9wcGVkKSB7XG4gICAgICAgICAgICBzdWJzY3JpYmVyLmNvbXBsZXRlKCk7XG4gICAgICAgICAgICByZXR1cm4gU3Vic2NyaXB0aW9uLkVNUFRZO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5vYnNlcnZlcnMucHVzaChzdWJzY3JpYmVyKTtcbiAgICAgICAgICAgIHJldHVybiBuZXcgU3ViamVjdFN1YnNjcmlwdGlvbih0aGlzLCBzdWJzY3JpYmVyKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgU3ViamVjdC5wcm90b3R5cGUuYXNPYnNlcnZhYmxlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgb2JzZXJ2YWJsZSA9IG5ldyBPYnNlcnZhYmxlKCk7XG4gICAgICAgIG9ic2VydmFibGUuc291cmNlID0gdGhpcztcbiAgICAgICAgcmV0dXJuIG9ic2VydmFibGU7XG4gICAgfTtcbiAgICBTdWJqZWN0LmNyZWF0ZSA9IGZ1bmN0aW9uIChkZXN0aW5hdGlvbiwgc291cmNlKSB7XG4gICAgICAgIHJldHVybiBuZXcgQW5vbnltb3VzU3ViamVjdChkZXN0aW5hdGlvbiwgc291cmNlKTtcbiAgICB9O1xuICAgIHJldHVybiBTdWJqZWN0O1xufShPYnNlcnZhYmxlKSk7XG5leHBvcnQgeyBTdWJqZWN0IH07XG52YXIgQW5vbnltb3VzU3ViamVjdCA9IC8qQF9fUFVSRV9fKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICB0c2xpYl8xLl9fZXh0ZW5kcyhBbm9ueW1vdXNTdWJqZWN0LCBfc3VwZXIpO1xuICAgIGZ1bmN0aW9uIEFub255bW91c1N1YmplY3QoZGVzdGluYXRpb24sIHNvdXJjZSkge1xuICAgICAgICB2YXIgX3RoaXMgPSBfc3VwZXIuY2FsbCh0aGlzKSB8fCB0aGlzO1xuICAgICAgICBfdGhpcy5kZXN0aW5hdGlvbiA9IGRlc3RpbmF0aW9uO1xuICAgICAgICBfdGhpcy5zb3VyY2UgPSBzb3VyY2U7XG4gICAgICAgIHJldHVybiBfdGhpcztcbiAgICB9XG4gICAgQW5vbnltb3VzU3ViamVjdC5wcm90b3R5cGUubmV4dCA9IGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICB2YXIgZGVzdGluYXRpb24gPSB0aGlzLmRlc3RpbmF0aW9uO1xuICAgICAgICBpZiAoZGVzdGluYXRpb24gJiYgZGVzdGluYXRpb24ubmV4dCkge1xuICAgICAgICAgICAgZGVzdGluYXRpb24ubmV4dCh2YWx1ZSk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIEFub255bW91c1N1YmplY3QucHJvdG90eXBlLmVycm9yID0gZnVuY3Rpb24gKGVycikge1xuICAgICAgICB2YXIgZGVzdGluYXRpb24gPSB0aGlzLmRlc3RpbmF0aW9uO1xuICAgICAgICBpZiAoZGVzdGluYXRpb24gJiYgZGVzdGluYXRpb24uZXJyb3IpIHtcbiAgICAgICAgICAgIHRoaXMuZGVzdGluYXRpb24uZXJyb3IoZXJyKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgQW5vbnltb3VzU3ViamVjdC5wcm90b3R5cGUuY29tcGxldGUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBkZXN0aW5hdGlvbiA9IHRoaXMuZGVzdGluYXRpb247XG4gICAgICAgIGlmIChkZXN0aW5hdGlvbiAmJiBkZXN0aW5hdGlvbi5jb21wbGV0ZSkge1xuICAgICAgICAgICAgdGhpcy5kZXN0aW5hdGlvbi5jb21wbGV0ZSgpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBBbm9ueW1vdXNTdWJqZWN0LnByb3RvdHlwZS5fc3Vic2NyaWJlID0gZnVuY3Rpb24gKHN1YnNjcmliZXIpIHtcbiAgICAgICAgdmFyIHNvdXJjZSA9IHRoaXMuc291cmNlO1xuICAgICAgICBpZiAoc291cmNlKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5zb3VyY2Uuc3Vic2NyaWJlKHN1YnNjcmliZXIpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIFN1YnNjcmlwdGlvbi5FTVBUWTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgcmV0dXJuIEFub255bW91c1N1YmplY3Q7XG59KFN1YmplY3QpKTtcbmV4cG9ydCB7IEFub255bW91c1N1YmplY3QgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPVN1YmplY3QuanMubWFwXG4iLCJpbXBvcnQge1NpbXVsYXRpb25QYWNrYWdlfSBmcm9tIFwiLi9TaW11bGF0aW9uUGFja2FnZVwiO1xyXG5pbXBvcnQge1N1YmplY3R9IGZyb20gXCJyeGpzXCI7XHJcbmltcG9ydCB7TWluaW1hbFNwYW5UcmVlfSBmcm9tIFwiLi4vU3Bhbm5pbmdUcmVlL21pbmltYWxTcGFubmluZ1RyZWVcIjtcclxuXHJcbmV4cG9ydCBjbGFzcyBTaW11bGF0aW9uQ29ubmVjdGlvbntcclxuXHQvLyBhIEJyaWRnZSBjYW4gZG8gY29ubi5zZW5kLm5leHQocGtnKVxyXG5cdC8vIGFuZCB0aGUgc2ltdWxhdGlvbiBkb2VzIGNvbm4uc2VuZC5zdWJzY3JpYmUgYW5kIHByb3ZpZGVzIGEgaGFuZGxlciB0aGF0IG9ubHkgYWxsb3dzIHRvIHNlbmQgdG8gZGlyZWN0IGNvbm5lY3RlZCBicmlkZ2VzXHJcblx0cHVibGljIHNlbmQ6IFN1YmplY3Q8U2ltdWxhdGlvblBhY2thZ2U+ID0gbmV3IFN1YmplY3Q8U2ltdWxhdGlvblBhY2thZ2U+KCk7XHJcblx0Ly8gYSBCcmlkZ2UgY2FuIHN1YnNjcmliZSB0byB0aGUgcmVjZWl2ZSBTdWJqZWN0IGFuZCB0aGUgY2IgZ2V0cyBjYWxsZWQgaWYgdGhlIHNpbXVsYXRpb24gcmVkaXJlY3RzIHRoYXQgc2VuZC5uZXh0IGZyb20gYSBvdGhlciBicmlkZ2UgdG8geW91XHJcblx0cHVibGljIHJlY2VpdmU6IFN1YmplY3Q8U2ltdWxhdGlvblBhY2thZ2U+ID0gbmV3IFN1YmplY3Q8U2ltdWxhdGlvblBhY2thZ2U+KCk7XHJcblx0Ly8gcmV0dXJucyBkaXJlY3QgQ29ubmVjdGVkIEJyaWRnZXNcclxuXHRwdWJsaWMgcGluZzogUHJvbWlzZTxzdHJpbmdbXT47XHJcblx0Y29uc3RydWN0b3Ioc2libGluZ0JyaWRnZXM6IHN0cmluZ1tdKXtcclxuXHRcdHRoaXMucGluZyA9IG5ldyBQcm9taXNlPHN0cmluZ1tdPihyZXNvbHZlID0+IHJlc29sdmUoc2libGluZ0JyaWRnZXMpKTtcclxuXHR9XHJcblx0Ly8gb25seSBmb3IgdGhlIHNpbXVsYXRpb25cclxuXHRwdWJsaWMgZmluaXNoZWRJbmRleGluZzogU3ViamVjdDxNaW5pbWFsU3BhblRyZWV8YW55PiA9IG5ldyBTdWJqZWN0KCk7XHJcbn1cclxuIiwiaW1wb3J0IHtSb3V0aW5nVGFibGVFbnRyeX0gZnJvbSBcIi4vQnJpZGdlXCI7XHJcblxyXG5leHBvcnQgaW50ZXJmYWNlIFNpbXVsYXRpb25QYWNrYWdlIHtcclxuICAgIHByb3RvY29sOiBzdHJpbmcsXHJcbiAgICBjb250ZW50OiBhbnksXHJcbiAgICB0YXJnZXQ6IHN0cmluZyxcclxuICAgIGRlc3RpbmF0aW9uPzogc3RyaW5nLFxyXG4gICAgY29zdD86IG51bWJlclxyXG4gICAgc2VuZGVyPzogc3RyaW5nO1xyXG59XHJcblxyXG5leHBvcnQgY2xhc3MgU2ltdWxhdGlvblBhY2thZ2UgaW1wbGVtZW50cyBTaW11bGF0aW9uUGFja2FnZSB7XHJcbiAgICBjb3N0PzogbnVtYmVyO1xyXG4gICAgZGVzdGluYXRpb24/OiBzdHJpbmc7XHJcblxyXG4gICAgY29uc3RydWN0b3IocHVibGljIHByb3RvY29sOiBzdHJpbmcsIHB1YmxpYyBjb250ZW50OiBhbnksIHB1YmxpYyB0YXJnZXQ6IHN0cmluZywgcm91dGluZ1RhYmxlOiBSb3V0aW5nVGFibGVFbnRyeVtdKSB7XHJcbiAgICAgICAgdGhpcy5kZXN0aW5hdGlvbiA9IHRhcmdldDtcclxuICAgICAgICBsZXQgcm91dGluZ1RhYmxlRW50cnkgPSByb3V0aW5nVGFibGUuZmluZChpID0+IGkudGFyZ2V0ID09PSB0aGlzLnRhcmdldCk7XHJcbiAgICAgICAgaWYoIXJvdXRpbmdUYWJsZUVudHJ5KXtcclxuICAgICAgICAgICAgY29uc29sZS5sb2coJ25vJyk7XHJcbiAgICAgICAgICAgIGRlYnVnZ2VyO1xyXG5cclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy50YXJnZXQgPSByb3V0aW5nVGFibGVFbnRyeS5uZXh0SG9wO1xyXG4gICAgfVxyXG59XHJcblxyXG4iLCJpbXBvcnQge0JyaWRnZX0gZnJvbSBcIi4uL1NpbXVsYXRpb24vQnJpZGdlXCI7XHJcbmltcG9ydCB7U2ltdWxhdGlvblBhY2thZ2V9IGZyb20gXCIuLi9TaW11bGF0aW9uL1NpbXVsYXRpb25QYWNrYWdlXCI7XHJcblxyXG5leHBvcnQgY29uc3QgaW5pdCA9ICgpID0+IHtcclxuICAgIGNvbnN0IHRhcmdldCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdjb250YWluZXJfdGFyZ2V0JykgYXMgSFRNTERpdkVsZW1lbnQ7XHJcbiAgICB0YXJnZXQuY2hpbGROb2Rlcy5mb3JFYWNoKG4gPT4gbi5yZW1vdmUoKSk7XHJcbiAgICB0YXJnZXQuY2hpbGROb2Rlcy5mb3JFYWNoKG4gPT4gbi5yZW1vdmUoKSk7XHJcbiAgICB0YXJnZXQuY2hpbGROb2Rlcy5mb3JFYWNoKG4gPT4gbi5yZW1vdmUoKSk7XHJcbiAgICBjb25zdCBpbml0aWFsUGFja2FnZXNUZW1wbGF0ZSA9IGBcclxuPGRpdiBjbGFzcz1cIml0ZW1cIiBpZD1cImluaXRfcGtnXCIgc3R5bGU9XCJkaXNwbGF5OiBmbGV4XCI+XHJcbiAgICA8ZGl2IHN0eWxlPVwiaGVpZ2h0OiAxMDAlOyB3aWR0aDogOTAlOyBqdXN0aWZ5LXNlbGY6IGNlbnRlcjsgYWxpZ24tc2VsZjogY2VudGVyXCI+XHJcbiAgICAgICAgPGgzPlBhY2thZ2VzOjwvaDM+XHJcbiAgICAgICAgPGRpdiBpZD1cInBrZ19zX3RhcmdldFwiPlxyXG4gICAgPC9kaXY+XHJcbjwvZGl2PlxyXG4gICAgXHJcbjwvZGl2PlxyXG5gO1xyXG4gICAgdGFyZ2V0Lmluc2VydEFkamFjZW50RWxlbWVudChcImJlZm9yZWVuZFwiLCBuZXcgRE9NUGFyc2VyKCkucGFyc2VGcm9tU3RyaW5nKGluaXRpYWxQYWNrYWdlc1RlbXBsYXRlLCBcInRleHQvaHRtbFwiKS5nZXRFbGVtZW50QnlJZChgaW5pdF9wa2dgKSk7XHJcbn07XHJcblxyXG5leHBvcnQgY29uc3QgY3JlYXRlRG9tQnJpZGdlcyA9IChicmlkZ2VzKSA9PiB7XHJcbiAgICBjb25zdCB0YXJnZXQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnY29udGFpbmVyX3RhcmdldCcpIGFzIEhUTUxEaXZFbGVtZW50O1xyXG4gICAgY29uc3QgYnJpZGdlVGVtcGxhdGUgPSAoYnJpZGdlOiBCcmlkZ2UpID0+IGBcclxuPGRpdiBjbGFzcz1cIml0ZW1cIj5cclxuICAgIDxkaXYgY2xhc3M9XCJpdGVtLWNvbnRlbnRcIiBpZD1cImJyaWRnZV8ke2JyaWRnZS52YWx1ZX1cIj5cclxuICAgICAgICA8aDM+QnJpZGdlICR7YnJpZGdlLm5hbWV9PC9oMz5cclxuICAgIDxkaXY+XHJcbjwvZGl2PlxyXG5gO1xyXG4gICAgYnJpZGdlcy5zb3J0KChhLCBiKSA9PiB7XHJcbiAgICAgICAgaWYgKGEubmFtZSA8IGIubmFtZSkge1xyXG4gICAgICAgICAgICByZXR1cm4gLTE7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmIChhLm5hbWUgPiBiLm5hbWUpIHtcclxuICAgICAgICAgICAgcmV0dXJuIDE7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiAwO1xyXG4gICAgfSkuZm9yRWFjaChicmlkZ2UgPT4ge1xyXG4gICAgICAgIHRhcmdldC5pbnNlcnRBZGphY2VudEVsZW1lbnQoXCJiZWZvcmVlbmRcIiwgbmV3IERPTVBhcnNlcigpLnBhcnNlRnJvbVN0cmluZyhicmlkZ2VUZW1wbGF0ZShicmlkZ2UpLCBcInRleHQvaHRtbFwiKS5nZXRFbGVtZW50QnlJZChgYnJpZGdlXyR7YnJpZGdlLnZhbHVlfWApKTtcclxuICAgIH0pXHJcbn07XHJcblxyXG5cclxubGV0IGlkID0gMDtcclxuXHJcbmV4cG9ydCBjb25zdCBkdW1wUGtnID0gKHBrZzogU2ltdWxhdGlvblBhY2thZ2UsIGZyb206IHN0cmluZykgPT4ge1xyXG5cclxuICAgIGNvbnN0IHBrZ19zX3RhcmdldCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdwa2dfc190YXJnZXQnKSBhcyBIVE1MRGl2RWxlbWVudDtcclxuXHJcbiAgICBsZXQgbnVtYmVyID0gaWQrKztcclxuICAgIGNvbnN0IHBrZ1RlbXBsYXRlID0gKHBrZzogU2ltdWxhdGlvblBhY2thZ2UsIGZyb206IHN0cmluZykgPT4gYFxyXG48ZGl2IGlkPVwicGtnXyR7bnVtYmVyfVwiPlxyXG4gICAgJHtmcm9tfSAtPiAke3BrZy50YXJnZXR9IDogJHtwa2cuY29zdH1cclxuPC9kaXY+XHJcbmA7XHJcbiAgICBwa2dfc190YXJnZXQuaW5zZXJ0QWRqYWNlbnRFbGVtZW50KFwiYmVmb3JlZW5kXCIsIG5ldyBET01QYXJzZXIoKS5wYXJzZUZyb21TdHJpbmcocGtnVGVtcGxhdGUocGtnLCBmcm9tKSwgXCJ0ZXh0L2h0bWxcIikuZ2V0RWxlbWVudEJ5SWQoYHBrZ18ke251bWJlcn1gKSk7XHJcbi8vcGtnX3NfdGFyZ2V0LihuZXcgRE9NUGFyc2VyKCkucGFyc2VGcm9tU3RyaW5nKHBrZ1RlbXBsYXRlKHBrZywgZnJvbSksIFwidGV4dC9odG1sXCIpLmdldEVsZW1lbnRCeUlkKGBwa2dfJHtudW1iZXJ9YCkpO1xyXG4gICAgcmV0dXJuICgpID0+IHtcclxuICAgICAgICBwa2dfc190YXJnZXQucmVtb3ZlQ2hpbGQoZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoYHBrZ18ke251bWJlcn1gKSk7XHJcbiAgICB9O1xyXG59O1xyXG5cclxuXHJcbmV4cG9ydCBjb25zdCBkdW1wQnJpZGdlID0gKGJyaWRnZTogQnJpZGdlLCBicmlkZ2VzOiBCcmlkZ2VbXSkgPT4ge1xyXG4gICAgaWYgKGJyaWRnZXMuZmluZEluZGV4KGIgPT4gYi5CTE9DS0VEKCkpID09PSAtMSkge1xyXG4gICAgICAgIGxldCB0YXJnZXQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgncGtnX3Rlc3RfdGFyZ2V0JykgYXMgSFRNTERpdkVsZW1lbnQ7XHJcblxyXG4gICAgICAgIGNvbnN0IGNhcmQgPSBgXHJcbjxkaXYgY2xhc3M9XCJpdGVtXCIgaWQ9XCJwa2ctY2FyZFwiIHN0eWxlPVwiXHJcbiAgICBkaXNwbGF5OiBmbGV4O1xyXG4gICAgZmxleC1kaXJlY3Rpb246IGNvbHVtbjtcclxuICAgIHdpZHRoOiAxMDAlO1xyXG5cIj5cclxuICAgIDxoMz5TZW5kIGEgc2FtcGxlIHBhY2thZ2UgdGhyb3VnaCB3aXRoIHRoZSBuZXcgdG9wb2xvZ3k8L2gzPlxyXG48L2Rpdj5cclxuYDtcclxuICAgICAgICB0YXJnZXQuaW5zZXJ0QWRqYWNlbnRFbGVtZW50KFwiYmVmb3JlZW5kXCIsIG5ldyBET01QYXJzZXIoKS5wYXJzZUZyb21TdHJpbmcoY2FyZCwgXCJ0ZXh0L2h0bWxcIikuZ2V0RWxlbWVudEJ5SWQoJ3BrZy1jYXJkJykpO1xyXG4gICAgICAgIHRhcmdldCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdwa2ctY2FyZCcpIGFzIEhUTUxEaXZFbGVtZW50O1xyXG4gICAgICAgIGNvbnN0IHZhbHVlcyA9IGJyaWRnZXMubWFwKGIgPT4gYi5uYW1lKTtcclxuICAgICAgICBjb25zdCBkcm9wZG93blRlbXBsYXRlID0gKGlkOiBzdHJpbmcpID0+IGBcclxuPGxhYmVsIGlkPVwibF8ke2lkfVwiIGZvcj1cIiR7aWR9XCI+U2VuZCAke2lkfTo8L2xhYmVsPlxyXG48c2VsZWN0IGlkPVwiJHtpZH1cIj5cclxuICAgICR7dmFsdWVzLm1hcCh2ID0+IGA8b3B0aW9uIHZhbHVlPVwiJHt2fVwiPiR7dn08L29wdGlvbj5cclxuICAgIGApfVxyXG48L3NlbGVjdD5cclxuYDtcclxuICAgICAgICBsZXQgZHJvcGRvd24gPSAoaWQ6IHN0cmluZykgPT4ge1xyXG4gICAgICAgICAgICB0YXJnZXQuaW5zZXJ0QWRqYWNlbnRFbGVtZW50KFwiYmVmb3JlZW5kXCIsIG5ldyBET01QYXJzZXIoKS5wYXJzZUZyb21TdHJpbmcoZHJvcGRvd25UZW1wbGF0ZShpZCkgKyBgPGJyPmAsIFwidGV4dC9odG1sXCIpLmdldEVsZW1lbnRCeUlkKGBsXyR7aWR9YCkpO1xyXG4gICAgICAgICAgICB0YXJnZXQuaW5zZXJ0QWRqYWNlbnRFbGVtZW50KFwiYmVmb3JlZW5kXCIsIG5ldyBET01QYXJzZXIoKS5wYXJzZUZyb21TdHJpbmcoZHJvcGRvd25UZW1wbGF0ZShpZCksIFwidGV4dC9odG1sXCIpLmdldEVsZW1lbnRCeUlkKGlkKSk7XHJcbiAgICAgICAgfTtcclxuICAgICAgICBkcm9wZG93bignZnJvbScpO1xyXG4gICAgICAgIGRyb3Bkb3duKCd0bycpO1xyXG4gICAgICAgIGNvbnN0IGJ1dHRvbiA9IGBcclxuPGJ1dHRvbiBpZD1cInRlc3Rfc2VuZFwiPlNlbmQ8L2J1dHRvbj5cclxuYDtcclxuICAgICAgICBjb25zdCBzZW5kUGtnID0gKCkgPT4ge1xyXG4gICAgICAgICAgICBjb25zb2xlLmxvZygnc2VuZGluZycpO1xyXG4gICAgICAgICAgICAvLyB0aGlzLm11bHRpRm9yQ29zdEluU2Vjb25kcyA9ICsoZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ211bHQnKSBhcyBIVE1MSW5wdXRFbGVtZW50KS52YWx1ZTtcclxuICAgICAgICAgICAgY29uc3QgZnJvbU5hbWUgPSAoZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2Zyb20nKSBhcyBIVE1MU2VsZWN0RWxlbWVudCkudmFsdWU7XHJcbiAgICAgICAgICAgIGNvbnN0IHRvTmFtZSA9IChkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgndG8nKSBhcyBIVE1MU2VsZWN0RWxlbWVudCkudmFsdWU7XHJcbiAgICAgICAgICAgIGxldCBmaW5kID0gYnJpZGdlcy5maW5kKGIgPT4gYi5uYW1lID09PSBmcm9tTmFtZSk7XHJcbiAgICAgICAgICAgIGxldCBzaW11bGF0aW9uUGFja2FnZSA9IG5ldyBTaW11bGF0aW9uUGFja2FnZSgnU09NRV9OT1JNQUwnLCBcIkdyZWV0aW5ncyBmcm9tXCIgKyBmaW5kLm5hbWUsIHRvTmFtZSwgZmluZC5ST1VUSU5HX1RBQkxFKTtcclxuICAgICAgICAgICAgY29uc29sZS5sb2coJ2hlcmUnLCBzaW11bGF0aW9uUGFja2FnZSk7XHJcbiAgICAgICAgICAgIGZpbmQuc2VuZChzaW11bGF0aW9uUGFja2FnZSk7XHJcbiAgICAgICAgfTtcclxuICAgICAgICB0YXJnZXQuaW5zZXJ0QWRqYWNlbnRFbGVtZW50KFwiYmVmb3JlZW5kXCIsIG5ldyBET01QYXJzZXIoKS5wYXJzZUZyb21TdHJpbmcoYnV0dG9uLCBcInRleHQvaHRtbFwiKS5nZXRFbGVtZW50QnlJZCgndGVzdF9zZW5kJykpO1xyXG4gICAgICAgIChkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgndGVzdF9zZW5kJykgYXMgSFRNTEJ1dHRvbkVsZW1lbnQpLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4gc2VuZFBrZygpKVxyXG4gICAgfVxyXG4gICAgY29uc3QgYnJpZGdlVGVtcGxhdGUgPSAoYnJpZGdlOiBCcmlkZ2UpID0+IGBcclxuPGRpdiBjbGFzcz1cIml0ZW1cIiBpZD1cImJyaWRnZV8ke2JyaWRnZS52YWx1ZX1cIj5cclxuICAgIDxkaXYgY2xhc3M9XCJpdGVtLWNvbnRlbnRcIiBzdHlsZT1cIndpZHRoOiA4MCU7IGhlaWdodDogMTAwJTsgb3ZlcmZsb3cteTogYXV0bzsgb3ZlcmZsb3cteDogaGlkZGVuOyAkeyFicmlkZ2UuQkxPQ0tFRCgpID8gYGJveC1zaGFkb3c6IDVweCA1cHggNHB4ICMzM2IwNDAgIWltcG9ydGFudDtgIDogJyd9XCI+XHJcbiAgICAgICAgPGgzPkJyaWRnZSAke2JyaWRnZS5uYW1lfTwvaDM+XHJcbiAgICAgICAgJHticmlkZ2Uucm9vdE9mSW5kZXhpbmcgPyAnSW5kZXhpbmcgUm9vdCEnIDogJyd9PGJyPlxyXG4gICAgICAgIEtub3duIGxpbmtzOiBbPGJyPjxCTE9DS1FVT1RFPiR7YnJpZGdlLkRJU0NPVkVSRURfTElOS1MubWFwKGwgPT4gbC5ub2Rlcy5tYXAobiA9PiBuLm5hbWUpLmpvaW4oJy0nKSArICc6JyArIGwuY29zdCkuam9pbignLDxicj4nKX08L0JMT0NLUVVPVEU+PGJyPl08YnI+XHJcbiAgICAgICAgJHshYnJpZGdlLnJvb3RPZkluZGV4aW5nICYmIGJyaWRnZS5JTkRFWEVEID8gYDxicj5Ob2RlIGhhcyBmaW5pc2hlZCBpbmRleGluZyE8YnI+UmV0dXJuaW5nIERhdGEgdG86IFs8YnI+PEJMT0NLUVVPVEU+JHticmlkZ2UucmV0dXJuVG8uam9pbignLDxicj4nKX08L0JMT0NLUVVPVEU+PGJyPl1gIDogJyd9XHJcbiAgICAgICAgJHticmlkZ2Uucm9vdE9mSW5kZXhpbmcgJiYgYnJpZGdlLklOREVYRUQgPyBgPGJyPk5ldHdvcmsgaGFzIGZpbmlzaGVkIGluZGV4aW5nITxicj5NU1QgZ2VuZXJhdGVkLjxicj5TZW5kaW5nIE1TVCB0bzogWzxicj48QkxPQ0tRVU9URT4ke2JyaWRnZS5NU1QuYWxsTm9kZXMubWFwKG4gPT4gbi5uYW1lKS5maWx0ZXIocyA9PiBzICE9PSBicmlkZ2UubmFtZSkuam9pbignLDxicj4nKX08L0JMT0NLUVVPVEU+PGJyPl1gIDogJyd9XHJcbiAgICAgICAgJHshYnJpZGdlLkJMT0NLRUQoKSA/IGA8YnI+UmVjZWl2ZWQgTVNULiBSb3V0aW5nIFRhYmxlOiBbPGJyPjxCTE9DS1FVT1RFPiR7YnJpZGdlLlJPVVRJTkdfVEFCTEUubWFwKGkgPT4gYC0+JHtpLnRhcmdldH0gdmlhICR7aS5uZXh0SG9wfWApLmpvaW4oJyw8YnI+Jyl9PC9CTE9DS1FVT1RFPjxicj5dYCA6ICcnfVxyXG4gICAgPC9kaXY+XHJcbjwvZGl2PlxyXG5gO1xyXG4gICAgY29uc3QgZWwgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChgYnJpZGdlXyR7YnJpZGdlLnZhbHVlfWApO1xyXG4gICAgZWwucmVwbGFjZVdpdGgobmV3IERPTVBhcnNlcigpLnBhcnNlRnJvbVN0cmluZyhicmlkZ2VUZW1wbGF0ZShicmlkZ2UpLCBcInRleHQvaHRtbFwiKS5nZXRFbGVtZW50QnlJZChgYnJpZGdlXyR7YnJpZGdlLnZhbHVlfWApKVxyXG59O1xyXG4iLCJpbXBvcnQge1NwYW5uaW5nVHJlZU5vZGV9IGZyb20gXCIuLi9TcGFubmluZ1RyZWUvc3Bhbm5pbmdUcmVlTm9kZVwiO1xyXG5pbXBvcnQge0JyaWRnZX0gZnJvbSBcIi4vQnJpZGdlXCI7XHJcbmltcG9ydCB7U2ltdWxhdGlvbkNvbm5lY3Rpb259IGZyb20gXCIuL1NpbXVsYXRpb25Db25uZWN0aW9uXCI7XHJcbmltcG9ydCB7U2ltdWxhdGlvblBhY2thZ2V9IGZyb20gXCIuL1NpbXVsYXRpb25QYWNrYWdlXCI7XHJcbmltcG9ydCB7TWluaW1hbFNwYW5UcmVlfSBmcm9tIFwiLi4vU3Bhbm5pbmdUcmVlL21pbmltYWxTcGFubmluZ1RyZWVcIjtcclxuaW1wb3J0IHtTcGFubmluZ1RyZWVMaW5rfSBmcm9tIFwiLi4vU3Bhbm5pbmdUcmVlL3NwYW5uaW5nVHJlZUxpbmtcIjtcclxuaW1wb3J0ICogYXMgdmlldyBmcm9tIFwiLi4vdmlldy9TaW11bGF0aW9uVmlld1wiO1xyXG5cclxuZXhwb3J0IGNsYXNzIFNpbXVsYXRpb24ge1xyXG4gICAgcHVibGljIGJyaWRnZXM6IEJyaWRnZVtdID0gW107XHJcblxyXG4gICAgY29uc3RydWN0b3IocHVibGljIG5vZGVzOiBTcGFubmluZ1RyZWVOb2RlW10sIHByaXZhdGUgbXVsdGlGb3JDb3N0SW5TZWNvbmRzID0gMC41KSB7XHJcbiAgICAgICAgdmlldy5pbml0KCk7XHJcbiAgICAgICAgLy8gZm9yZWFjaCBub2RlIGNyZWF0ZSBhIEJyaWRnZSB3aXRoIGEgY29ubmVjdGlvblxyXG4gICAgICAgIG5vZGVzLmZvckVhY2gobm9kZSA9PiB7XHJcbiAgICAgICAgICAgIC8vIGNyZWF0ZSBDb25uZWN0aW9uXHJcbiAgICAgICAgICAgIGxldCBzaWJsaW5nTm9kZXMgPSBub2RlLmxpbmtzLm1hcChsID0+IGwudG9Ob2RlKTtcclxuICAgICAgICAgICAgY29uc3QgY29ubiA9IG5ldyBTaW11bGF0aW9uQ29ubmVjdGlvbihzaWJsaW5nTm9kZXMpO1xyXG4gICAgICAgICAgICAvLyBwdXNoIG5ldyBicmlkZ2VcclxuICAgICAgICAgICAgdGhpcy5icmlkZ2VzLnB1c2gobmV3IEJyaWRnZShub2RlLm5hbWUsIG5vZGUudmFsdWUsIGNvbm4sIChicmlkZ2UpID0+IHZpZXcuZHVtcEJyaWRnZShicmlkZ2UsIHRoaXMuYnJpZGdlcykpKTtcclxuICAgICAgICB9KTtcclxuICAgICAgICAvLyBhbGxvdyBjb21tdW5pY2F0aW9uIGJldHdlZW4gZGlyZWN0IGNvbm5lY3RlZCBicmlkZ2VzXHJcbiAgICAgICAgdGhpcy5icmlkZ2VzLmZvckVhY2goYnJpZGdlID0+IHtcclxuICAgICAgICAgICAgbGV0IGxpbmtzOiBTcGFubmluZ1RyZWVMaW5rW10gPSBub2Rlcy5maW5kKG4gPT4gbi5uYW1lID09PSBicmlkZ2UubmFtZSkubGlua3M7XHJcbiAgICAgICAgICAgIGxldCBzaWJsaW5nTm9kZXMgPSBsaW5rcy5tYXAobCA9PiBsLnRvTm9kZSk7XHJcbiAgICAgICAgICAgIGJyaWRnZS5jb25uZWN0aW9uLnNlbmQuc3Vic2NyaWJlKChwa2c6IFNpbXVsYXRpb25QYWNrYWdlKSA9PiB7XHJcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhgJHticmlkZ2UubmFtZX0+Pj4ke3BrZy50YXJnZXR9YCk7XHJcbiAgICAgICAgICAgICAgICBsZXQgY29ubmVjdGVkTm9kZSA9IHNpYmxpbmdOb2Rlcy5maW5kKG4gPT4gbiA9PT0gcGtnLnRhcmdldCk7XHJcbiAgICAgICAgICAgICAgICBpZiAoISFjb25uZWN0ZWROb2RlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcGtnLmNvc3QgPSBsaW5rcy5maW5kKGwgPT4gbC50b05vZGUgPT09IHBrZy50YXJnZXQpLmNvc3Q7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgY2IgPSB2aWV3LmR1bXBQa2cocGtnLCBicmlkZ2UubmFtZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYigpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5icmlkZ2VzXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLmZpbmQoYiA9PiBiLm5hbWUgPT09IHBrZy50YXJnZXQpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLmNvbm5lY3Rpb24ucmVjZWl2ZS5uZXh0KHBrZyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHBrZy5jb3N0ICogMTAwMCAqIHRoaXMubXVsdGlGb3JDb3N0SW5TZWNvbmRzKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgdmlldy5jcmVhdGVEb21CcmlkZ2VzKHRoaXMuYnJpZGdlcyk7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIHN0YXJ0SW5kZXhpbmdGcm9tUmFuZG9tQnJpZGdlOiAoKSA9PiBQcm9taXNlPE1pbmltYWxTcGFuVHJlZT4gPSAoKSA9PiB7XHJcbiAgICAgICAgLy8gYXMgdGhlIHByb3RvY29sIHNheXMgc2VuZCBhIENTVFAgcGFja2FnZSB0byBhbGwgZGlyZWN0IGNvbm5lY3RlZCBCcmlkZ2VzXHJcbiAgICAgICAgcmV0dXJuIG5ldyBQcm9taXNlPE1pbmltYWxTcGFuVHJlZT4oYXN5bmMgcmVzb2x2ZSA9PiB7XHJcbiAgICAgICAgICAgIGNvbnN0IGJyaWRnZSA9IHRoaXMuYnJpZGdlc1tNYXRoLnJvdW5kKE1hdGgucmFuZG9tKCkgKiB0aGlzLmJyaWRnZXMubGVuZ3RoKV07XHJcbiAgICAgICAgICAgIGJyaWRnZS5jb25uZWN0aW9uLmZpbmlzaGVkSW5kZXhpbmcuc3Vic2NyaWJlKChtc3QpID0+IHJlc29sdmUobXN0KSk7XHJcbiAgICAgICAgICAgIGF3YWl0IGJyaWRnZS5pbmRleE5ldHdvcmsoKTtcclxuICAgICAgICB9KTtcclxuICAgIH07XHJcbn1cclxuIiwiICAgIC8vIHJlZmVyZW5jZXMgdG8gdGhlIGRvbVxyXG5pbXBvcnQge3BhcnNlLCBzdHJpbmdpZnl9IGZyb20gXCIuL3BhcnNlclwiO1xyXG5pbXBvcnQge1NpbXVsYXRpb259IGZyb20gXCIuL21vZGVscy9TaW11bGF0aW9uL1NpbXVsYXRpb25cIjtcclxuXHJcbi8vIGdldCBhIHJlZiB0byB0aGUgaW5wdXQgYW5kIG91dHB1dCBvZiBncmFwaHNcclxuY29uc3QgaW5wdXRBcmVhID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3RleHRJbicpIGFzIEhUTUxUZXh0QXJlYUVsZW1lbnQ7XHJcbmNvbnN0IG91dHB1dEFyZWEgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgndGV4dE91dCcpIGFzIEhUTUxUZXh0QXJlYUVsZW1lbnQ7XHJcbi8vIHRyaWdnZXIgbmV3IHNpbXVsYXRpb24gcmVmXHJcbmNvbnN0IHNpbXVsYXRpb25CdXR0b24gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnc2ltdWxhdGVfYnRuJykgYXMgSFRNTEJ1dHRvbkVsZW1lbnQ7XHJcblxyXG5cclxuLy8gZXhhbXBsZSBpbnB1dHNcclxuY29uc3Qgc2ltcGxlVGVzdCA9IGBcclxuR3JhcGggbXlncmFwaCB7XHJcblx0Ly8gTm9kZVxyXG5cdEEgPSAyO1xyXG5cdEIgPSAxO1xyXG5cdEMgPSAzO1xyXG5cdFxyXG5cdC8vIExpbmtzIHVuZCB6dWdlaC4gS29zdGVuXHJcblx0QSAtIEIgOiAxO1xyXG5cdEEgLSBDIDogMTtcclxuXHRDIC0gQiA6IDI7XHJcbn1gO1xyXG5jb25zdCB0ZXN0ID0gYFxyXG5HcmFwaCBteWdyYXBoIHtcclxuXHQvLyBOb2RlXHJcblx0QSA9IDU7XHJcblx0QiA9IDE7XHJcblx0QyA9IDM7XHJcblx0RCA9IDc7XHJcblx0RSA9IDY7XHJcblx0RiA9IDQ7XHJcblx0XHJcblx0Ly8gTGlua3MgdW5kIHp1Z2VoLiBLb3N0ZW5cclxuXHRBIC0gQiA6IDEwO1xyXG5cdEEgLSBDIDogMTA7XHJcblx0QiAtIEQgOiAxNTtcclxuXHRCIC0gRSA6IDEwO1xyXG5cdEMgLSBEIDogMztcclxuXHRDIC0gRSA6IDEwO1xyXG5cdEQgLSBFIDogMjtcclxuXHREIC0gRiA6IDEwO1xyXG5cdEUgLSBGIDogMjtcclxufWA7XHJcbmlucHV0QXJlYS52YWx1ZSA9IHRlc3Q7XHJcblxyXG4vLyBjbGljayBpbXBsXHJcbmNvbnN0IG9uU2ltdWxhdGlvbkNsaWNrID0gKCkgPT4ge1xyXG4gICAgLy8gcGFyc2UgaW5wdXRcclxuICAgIGNvbnN0IHBhcnNlUmVzdWx0ID0gcGFyc2UoaW5wdXRBcmVhLnZhbHVlKTtcclxuICAgIC8vIGNyZWF0ZSBuZXcgU2ltdWxhdGlvbiB3aXRoIHBhcnNlZCBncmFwaCBhbmQgYSBtdWx0aXBsaWVyIGZvciB0aGUgY29zdCBvZiBsaW5rcyBpbiBzZWNvbmRzLlxyXG4gICAgY29uc3Qgc2ltdWxhdGlvbiA9IG5ldyBTaW11bGF0aW9uKHBhcnNlUmVzdWx0Lm5vZGVzLCArKGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdtdWx0JykgYXMgSFRNTElucHV0RWxlbWVudCkudmFsdWUpO1xyXG4gICAgLy8gU3RhcnQgdGhlIHNpbXVsYXRpb24gdXNpbmcgbXkgb3duIHByb3RvY29sIGNhbGxlZCBDU1RQIENlbnRyYWxpemVkIFNwYW5uaW5nIFRyZWUgUHJvdG9jb2xcclxuICAgIHNpbXVsYXRpb24uc3RhcnRJbmRleGluZ0Zyb21SYW5kb21CcmlkZ2UoKS50aGVuKG1zdCA9PiB7XHJcbiAgICAgICAgLy8gd2hlbiBpdCBoYXMgYWxsIGluZm9ybWF0aW9uIG9mIHRoZSBuZXR3b3JrIGl0IHJldHVybnMgYSBtc3RcclxuICAgICAgICAvLyBhbmQgc2hhcmVzIGl0IHdpdGggYWxsIG90aGVyIGJyaWRnZXMgdGhlbiB3aGVyZSBwYXJ0IG9mIHRoZSBpbmRleGluZyBwcm9jZXNzLlxyXG4gICAgICAgIC8vIHNob3cgdGhlIG1zdCBpbiBzdHJpbmcgdmVyc2lvblxyXG4gICAgICAgIG91dHB1dEFyZWEudmFsdWUgPSBzdHJpbmdpZnkobXN0LCBwYXJzZVJlc3VsdC5ncmFwaE5hbWUpO1xyXG4gICAgfSlcclxufTtcclxuXHJcbi8vIGNhbGwgY2xpY2sgaW1wbCBvbiBzaW11bGF0aW9uQnV0dG9uIGNsaWNrXHJcbnNpbXVsYXRpb25CdXR0b24uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBvblNpbXVsYXRpb25DbGljayk7XHJcbiIsImltcG9ydCB7U3Bhbm5pbmdUcmVlTGlua30gZnJvbSBcIi4uL21vZGVscy9TcGFubmluZ1RyZWUvc3Bhbm5pbmdUcmVlTGlua1wiO1xyXG5pbXBvcnQge1NwYW5uaW5nVHJlZU5vZGV9IGZyb20gXCIuLi9tb2RlbHMvU3Bhbm5pbmdUcmVlL3NwYW5uaW5nVHJlZU5vZGVcIjtcclxuXHJcbi8vIHBhcnNlcyBhIHN0cmluZyB0byBTcGFubmluZ1RyZWVOb2RlcyArIHRoZSBuYW1lIG9mIHRoZSBncmFwaFxyXG5leHBvcnQgY29uc3QgcGFyc2U6IChpbnB1dDogc3RyaW5nKSA9PiB7Z3JhcGhOYW1lOiBzdHJpbmcsIG5vZGVzOiBTcGFubmluZ1RyZWVOb2RlW119ID1cclxuXHQoaW5wdXQ6IHN0cmluZykgPT4ge1xyXG5cdFx0Ly8gdGVtcG9yYXJ5IEFyciBmb3IgbGlua3MgYmVjYXVzZSB3ZSB3aWxsIGxhdGVyIGF0dGFjaCB0aGUgbGlua3MgdG8gaXRzIG5vZGVzLlxyXG5cdFx0Y29uc3QgdGVtcExpbmtzOiB7bm9kZXM6IHN0cmluZ1tdLCBjb3N0OiBudW1iZXJ9W10gPSBbXTtcclxuXHRcdGNvbnN0IG5vZGVzOiBTcGFubmluZ1RyZWVOb2RlW10gPSBbXTtcclxuXHJcblx0XHQvLyByZWdleCBmb3IgZ2V0dGluZyB0aGUgaW5mb3JtYXRpb25cclxuXHRcdGNvbnN0IGdyYXBoTmFtZSA9IGlucHV0Lm1hdGNoKC8oPzw9R3JhcGhbIF0pKFxcUyspL2cpWzBdO1xyXG5cdFx0Ly8gbWF0Y2hlczogd29yZCBpZiAnID0nIGlzIGFmdGVyIG9yIHZhbHVlIGlmICc9ICcgaXMgaW4gZnJvbnRcclxuXHRcdGNvbnN0IG5vZGVNYXRjaGVzID0gaW5wdXQubWF0Y2goL1teXFxzXSsoPz0gPSl8KD88PT0gKVsxLTldKi9nKTtcclxuXHRcdC8vIG1hdGNoZXM6IHdvcmRzIGlmICctJyBmb2xsb3dzIG9yIHdvcmQgaWYgJy0nIGlzIGluIGZyb250IG9yIHZhbHVlIGlmIDogaXMgaW4gZnJvbnRcclxuXHRcdGNvbnN0IGxpbmtNYXRjaGVzID0gaW5wdXQubWF0Y2goL1teXFxzXSsoPz0gLSl8W15cXHNdKyg/PSA6KXwoPzw9OiApWzAtOV0qL2cpO1xyXG5cdFx0Ly8gc28gZm9yIGVhY2ggbGluayB3ZSBnZXQgMyByZXN1bHRzXHJcblx0XHRmb3IgKGxldCBpID0gMDsgaSA8IGxpbmtNYXRjaGVzLmxlbmd0aDsgaSA9IGkgKyAzKSB7XHJcblx0XHRcdC8vIHB1c2ggZm91bmQgaW5mbyBhYm91dCBsaW5rXHJcblx0XHRcdHRlbXBMaW5rcy5wdXNoKHtcclxuXHRcdFx0XHRub2RlczogW2xpbmtNYXRjaGVzW2ldLCBsaW5rTWF0Y2hlc1tpICsgMV1dLFxyXG5cdFx0XHRcdGNvc3Q6ICtsaW5rTWF0Y2hlc1tpICsgMl0gLy8gc29tZSBsaXR0bGUgdHJpY2sgdG8gY2FzdCBhIHN0cmluZyB0byBudW1iZXIgKyc0JyA9PT0gNFxyXG5cdFx0XHR9KTtcclxuXHRcdH1cclxuXHRcdC8vIGZvciBlYWNoIG5vZGUgd2UgZ2V0IDIgcmVzdWx0c1xyXG5cdFx0Zm9yIChsZXQgaSA9IDA7IGkgPCBub2RlTWF0Y2hlcy5sZW5ndGg7IGkgPSBpICsgMikge1xyXG5cdFx0XHQvLyBnZXQgbm9kZSBpbmZvXHJcblx0XHRcdGNvbnN0IG5hbWUgPSBub2RlTWF0Y2hlc1tpXTtcclxuXHRcdFx0Y29uc3QgdmFsdWUgPSArbm9kZU1hdGNoZXNbaSArIDFdO1xyXG5cdFx0XHQvLyBhZGQgbWF0Y2hpbmcgbGlua3MgYXMgU3Bhbm5pbmdUcmVlTGlua1xyXG5cdFx0XHRjb25zdCBsaW5rcyA9IHRlbXBMaW5rcy5maWx0ZXIobCA9PiBsLm5vZGVzLmZpbmRJbmRleChuID0+IG4gPT09IG5hbWUpICE9PSAtMSlcclxuXHRcdFx0XHQubWFwKGxpbmsgPT4gbmV3IFNwYW5uaW5nVHJlZUxpbmsobGluay5ub2Rlcy5maW5kKG4gPT4gbiAhPT0gbmFtZSksIGxpbmsuY29zdCkpO1xyXG5cdFx0XHQvLyBwdXNoIG5ldyBTcGFubmluZ1RyZWVOb2RlXHJcblx0XHRcdG5vZGVzLnB1c2gobmV3IFNwYW5uaW5nVHJlZU5vZGUobmFtZSwgdmFsdWUsIGxpbmtzKSk7XHJcblx0XHR9XHJcblx0XHRyZXR1cm4ge1xyXG5cdFx0XHRncmFwaE5hbWUsXHJcblx0XHRcdG5vZGVzXHJcblx0XHR9XHJcblx0fTtcclxuIiwiaW1wb3J0IHtNaW5pbWFsU3BhblRyZWV9IGZyb20gXCIuLi9tb2RlbHMvU3Bhbm5pbmdUcmVlL21pbmltYWxTcGFubmluZ1RyZWVcIjtcclxuXHJcbmV4cG9ydCBjb25zdCBzdHJpbmdpZnk6IChtaW5pbWFsU3BhblRyZWU6IE1pbmltYWxTcGFuVHJlZSwgbmFtZTogc3RyaW5nKSA9PiBzdHJpbmcgPVxyXG5cdChtaW5pbWFsU3BhblRyZWUsIG5hbWU6IHN0cmluZykgPT4gYFxyXG5TcGFubmluZy1UcmVlIG9mICR7bmFtZX0ge1xyXG5cdFJvb3Q6ICR7bWluaW1hbFNwYW5UcmVlLnJvb3QubmFtZX07XHJcblx0JHttaW5pbWFsU3BhblRyZWUubGlua1RvU3RyaW5nKCl9XHJcbn1gO1xyXG4iXSwic291cmNlUm9vdCI6IiJ9